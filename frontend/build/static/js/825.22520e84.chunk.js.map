{"version":3,"file":"static/js/825.22520e84.chunk.js","mappings":"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","sources":["components/dashboard/PageHeader.jsx","components/dashboard/ApiDataViewer.jsx"],"sourcesContent":["import React from 'react';\r\nimport './PageHeader.css';\r\nimport logo from '../../assets/logo.jpg';\r\n\r\n/**\r\n * Reusable Page Header Component with Logo\r\n * @param {string} title - The page title\r\n * @param {string} subtitle - The page subtitle/description\r\n * @param {string} icon - Bootstrap icon class (e.g., \"bi-building\")\r\n * @param {React.ReactNode} actions - Optional action buttons\r\n * @param {function} onBack - Optional back navigation function\r\n */\r\nconst PageHeader = ({ title, subtitle, icon = 'bi-folder', actions, onBack }) => {\r\n  return (\r\n    <>\r\n      {onBack && (\r\n        <button \r\n          className=\"back-arrow-btn\"\r\n          onClick={onBack}\r\n          title=\"Back to Dashboard\"\r\n          style={{ marginBottom: '12px', background: 'transparent', color: '#0f172a', border: '1px solid rgba(15,23,42,0.08)', width: 'auto', padding: '8px 12px' }}\r\n        >\r\n          <i className=\"bi bi-arrow-left\"></i>&nbsp;<span style={{ fontWeight: 600 }}>Back</span>\r\n        </button>\r\n      )}\r\n      <div className=\"page-header-banner\">\r\n        <div className=\"page-header-content\">\r\n          <div className=\"page-header-left\">\r\n            <div className=\"page-header-icon\">\r\n              <i className={`bi ${icon}`}></i>\r\n            </div>\r\n            <div className=\"page-header-text\">\r\n              <h1>{title}</h1>\r\n              {subtitle && <p>{subtitle}</p>}\r\n            </div>\r\n          </div>\r\n        <div className=\"page-header-right\">\r\n          {actions && <div className=\"page-header-actions\">{actions}</div>}\r\n          <div className=\"page-header-logo\">\r\n            <img src={logo} alt=\"Company Logo\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Decorative Elements */}\r\n      <div className=\"page-header-decoration\">\r\n        <div className=\"decoration-circle decoration-circle-1\"></div>\r\n        <div className=\"decoration-circle decoration-circle-2\"></div>\r\n        <div className=\"decoration-circle decoration-circle-3\"></div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './ApiDataViewer.css';\r\nimport PageHeader from './PageHeader';\r\n\r\nconst ApiDataViewer = ({ onBack }) => {\r\n  // Normalized state: all entities use id/code/name and link by IDs\r\n  const [divisions, setDivisions] = useState([]); // [{ id, code, name, ... }]\r\n  const [sections, setSections] = useState([]);   // filtered view\r\n  const [employees, setEmployees] = useState([]); // filtered view\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('divisions');\r\n  const [error, setError] = useState(null);\r\n  const [allSections, setAllSections] = useState([]); // full list of normalized sections\r\n  const [selectedDivision, setSelectedDivision] = useState('all'); // stores divisionId or 'all'\r\n  const [allEmployees, setAllEmployees] = useState([]); // full list of normalized employees\r\n  const [selectedEmployeeDivision, setSelectedEmployeeDivision] = useState('all'); // divisionId or 'all'\r\n  const [selectedSection, setSelectedSection] = useState('all'); // sectionId or 'all'\r\n  const [availableSections, setAvailableSections] = useState([]); // Sections for selected employee division\r\n  const [showEmployeeJson, setShowEmployeeJson] = useState(false);\r\n  const [showDivisionJson, setShowDivisionJson] = useState(false);\r\n  const [showSectionJson, setShowSectionJson] = useState(false);\r\n\r\n  // Attendance view state (individual)\r\n  const [attendanceFromDate, setAttendanceFromDate] = useState(() => {\r\n    const d = new Date();\r\n    d.setDate(d.getDate() - 7);\r\n    return formatDateYmd(d);\r\n  });\r\n  const [attendanceToDate, setAttendanceToDate] = useState(() => formatDateYmd(new Date()));\r\n  // Preset for quick date ranges: 'last7'|'last30'|'thisMonth'|'custom'\r\n  const [periodPreset, setPeriodPreset] = useState('last7');\r\n  const [attendanceLoading, setAttendanceLoading] = useState(false);\r\n  const [attendanceError, setAttendanceError] = useState(null);\r\n  const [attendanceRecords, setAttendanceRecords] = useState([]);\r\n  const [attendanceSummary, setAttendanceSummary] = useState(null);\r\n  const [selectedAttendanceEmployee, setSelectedAttendanceEmployee] = useState(null);\r\n\r\n  // Individual attendance filters (division/section scoped to HRIS data)\r\n  const [selectedIADivision, setSelectedIADivision] = useState('all'); // use same key format as employee division keys (e.g., id:123)\r\n  const [selectedIASection, setSelectedIASection] = useState('all');\r\n\r\n  // Raw API data (for dynamic tables/JSON displays)\r\n  const [rawDivisions, setRawDivisions] = useState([]);\r\n  const [rawSections, setRawSections] = useState([]);\r\n  const [rawEmployees, setRawEmployees] = useState([]);\r\n\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  // Helpers: normalize backend data into a consistent shape\r\n  const orderKeys = (keys, preferredOrder = []) => {\r\n    const set = new Set(keys);\r\n    const ordered = [];\r\n    preferredOrder.forEach(k => {\r\n      if (set.has(k)) {\r\n        ordered.push(k);\r\n        set.delete(k);\r\n      }\r\n    });\r\n    const remaining = Array.from(set).sort();\r\n    return [...ordered, ...remaining];\r\n  };\r\n\r\n  function formatDateYmd(d) {\r\n    const pad = (n) => String(n).padStart(2, '0');\r\n    return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\r\n  }\r\n\r\n  const parseHrisDate = (value) => {\r\n    if (!value) return '';\r\n    try {\r\n      if (typeof value === 'string') {\r\n        const asNum = Number(value);\r\n        if (!Number.isNaN(asNum) && value.trim() !== '') {\r\n          const d = new Date(asNum);\r\n          return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n        }\r\n        const d = new Date(value);\r\n        return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n      }\r\n      if (typeof value === 'number') {\r\n        const d = new Date(value);\r\n        return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n      }\r\n      if (typeof value === 'object') {\r\n        // Mongo extended JSON patterns\r\n        if (value.$date) {\r\n          const v = value.$date;\r\n          if (typeof v === 'object' && v.$numberLong) {\r\n            const d = new Date(Number(v.$numberLong));\r\n            return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n          }\r\n          if (typeof v === 'string' || typeof v === 'number') {\r\n            const d = new Date(v);\r\n            return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n          }\r\n        }\r\n        if (value.$numberLong) {\r\n          const d = new Date(Number(value.$numberLong));\r\n          return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n        }\r\n      }\r\n    } catch (_) {\r\n      return '';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // Helpers: Colombo-only filter logic\r\n  const isColomboString = (s) =>\r\n    typeof s === 'string' && s.toLowerCase().includes('colombo');\r\n\r\n  const isColomboEmployeeRaw = (row) => {\r\n    if (!row) return false;\r\n    return (\r\n      isColomboString(row.DIVISION_NAME) ||\r\n      isColomboString(row.HIE_NAME_3) ||\r\n      isColomboString(row?.currentwork?.HIE_NAME_3) ||\r\n      isColomboString(row?.division_name) ||\r\n      isColomboString(row?.divisionName)\r\n    );\r\n  };\r\n\r\n  const isColomboEmployeeNormalized = (e) =>\r\n    isColomboString(e.divisionHierarchyName) || isColomboString(e.divisionName);\r\n\r\n  // String normalization for fuzzy matches (e.g., spacing/casing differences)\r\n  const normalizeTextKey = (s) => {\r\n    if (!s || typeof s !== 'string') return '';\r\n    return s.replace(/\\s+/g, ' ').trim().toLowerCase();\r\n  };\r\n\r\n  // Get displayable section name for an employee (prefers hierarchy name)\r\n  const getEmployeeSectionName = (e) => (\r\n    e.sectionHierarchyName || e.sectionName || String(e.sectionId || e.sectionCode || '')\r\n  );\r\n\r\n  const normalizeDivisions = (data = []) => {\r\n    const out = [];\r\n    const seen = new Set();\r\n    data.forEach((d) => {\r\n      const id = String(\r\n        d._id ?? d.id ?? d.DIVISION_ID ?? d.code ?? d.hie_code ?? d.DIVISION_CODE ?? ''\r\n      );\r\n      if (!id) return;\r\n      if (seen.has(id)) return;\r\n      seen.add(id);\r\n      out.push({\r\n        id,\r\n        code: String(\r\n          d.code ?? d.DIVISION_CODE ?? d.hie_code ?? d._id ?? d.id ?? id\r\n        ),\r\n        name: d.name ?? d.DIVISION_NAME ?? d.hie_name ?? d.hie_relationship ?? 'Unknown Division',\r\n        def_level: d.def_level ?? d.DEF_LEVEL,\r\n        hie_relationship: d.hie_relationship,\r\n        isActive: d.isActive ?? d.active ?? true,\r\n      });\r\n    });\r\n    // sort by name for nicer UX\r\n    return out.sort((a, b) => a.name.localeCompare(b.name));\r\n  };\r\n\r\n  const normalizeSections = (data = []) => {\r\n    const out = [];\r\n    const seen = new Set();\r\n    data.forEach((s) => {\r\n      const id = String(\r\n        s._id ?? s.id ?? s.SECTION_ID ?? s.code ?? s.hie_code ?? s.SECTION_CODE ?? s.section_code ?? ''\r\n      );\r\n      if (!id) return;\r\n      if (seen.has(id)) return;\r\n      seen.add(id);\r\n      const divisionId = String(\r\n        s.division_id ?? s.DIVISION_ID ?? s.division_code ?? s.DIVISION_CODE ?? s.hie_relationship ?? ''\r\n      );\r\n      out.push({\r\n        id,\r\n        code: String(\r\n          s.code ?? s.SECTION_CODE ?? s.hie_code ?? s.section_code ?? id\r\n        ),\r\n        name: s.name ?? s.section_name ?? s.SECTION_NAME ?? s.hie_relationship ?? `Section ${id}`,\r\n        divisionId: divisionId || '',\r\n        divisionCode: String(s.division_code ?? s.DIVISION_CODE ?? ''),\r\n        divisionName: s.division_name ?? s.DIVISION_NAME ?? '',\r\n        def_level: s.def_level ?? s.DEF_LEVEL,\r\n        isActive: s.isActive ?? s.active ?? true,\r\n      });\r\n    });\r\n    return out.sort((a, b) => a.name.localeCompare(b.name));\r\n  };\r\n\r\n  const normalizeSectionMeta = (s) => {\r\n    // Return minimal normalized keys from a raw section row\r\n    const id = String(\r\n      s?._id ?? s?.id ?? s?.SECTION_ID ?? s?.code ?? s?.hie_code ?? s?.SECTION_CODE ?? s?.section_code ?? ''\r\n    );\r\n    const divisionId = String(\r\n      s?.division_id ?? s?.DIVISION_ID ?? s?.division_code ?? s?.DIVISION_CODE ?? s?.hie_relationship ?? ''\r\n    );\r\n    return { id, divisionId };\r\n  };\r\n\r\n  const normalizeEmployees = (data = []) => {\r\n    const out = [];\r\n    const seen = new Set();\r\n    data.forEach((e) => {\r\n      const empNumber = String(e.EMP_NUMBER ?? e.empNumber ?? e.id ?? '');\r\n      if (!empNumber) return;\r\n      if (seen.has(empNumber)) return;\r\n      seen.add(empNumber);\r\n      const hie3 = e.HIE_NAME_3 ?? e.hie_name_3 ?? e?.currentwork?.HIE_NAME_3 ?? e?.currentwork?.hie_name_3;\r\n      const hie4 = e.HIE_NAME_4 ?? e.hie_name_4 ?? e?.currentwork?.HIE_NAME_4 ?? e?.currentwork?.hie_name_4;\r\n      out.push({\r\n        empNumber,\r\n        fullName: e.FULLNAME ?? e.fullName ?? e.name ?? 'Unknown',\r\n        callingName: e.CALLING_NAME ?? e.calling_name ?? e.preferredName ?? '',\r\n        designation: e.DESIGNATION ?? e.designation ?? '',\r\n        nic: String(e.NIC ?? e.nic ?? ''),\r\n        divisionId: String(e.DIVISION_ID ?? e.division_id ?? e.DIVISION_CODE ?? e.division_code ?? ''),\r\n        divisionCode: String(e.DIVISION_CODE ?? e.division_code ?? ''),\r\n        divisionName: e.DIVISION_NAME ?? e.division_name ?? hie3 ?? '',\r\n        sectionId: String(e.SECTION_ID ?? e.section_id ?? e.SECTION_CODE ?? e.section_code ?? ''),\r\n        sectionCode: String(e.SECTION_CODE ?? e.section_code ?? ''),\r\n        sectionName: e.SECTION_NAME ?? e.section_name ?? hie4 ?? '',\r\n        gender: e.GENDER ?? e.gender ?? '',\r\n        status: e.STATUS ?? e.status ?? 'ACTIVE',\r\n        dateOfBirth: parseHrisDate(e.DATE_OF_BIRTH ?? e.date_of_birth ?? e.dob),\r\n        dateOfJoining: parseHrisDate(e.DATE_OF_JOINING ?? e.date_of_joining ?? e.doj),\r\n        divisionHierarchyName: hie3 ?? '',\r\n        sectionHierarchyName: hie4 ?? '',\r\n      });\r\n    });\r\n    return out;\r\n  };\r\n\r\n  // Build canonical division key/name from employee + known divisions to avoid duplicates in dropdown\r\n  const buildDivisionMaps = () => {\r\n    const codeToId = new Map();\r\n    const nameToId = new Map();\r\n    const idToName = new Map();\r\n    divisions.forEach(d => {\r\n      if (d.code) codeToId.set(String(d.code), String(d.id));\r\n      if (d.name) nameToId.set(String(d.name), String(d.id));\r\n      idToName.set(String(d.id), d.name);\r\n    });\r\n    return { codeToId, nameToId, idToName };\r\n  };\r\n\r\n  const getEmployeeDivisionDisplay = (e) => (\r\n    e.divisionHierarchyName || e.divisionName || String(e.divisionId || e.divisionCode || 'Unknown Division')\r\n  );\r\n\r\n  const getEmployeeDivisionKey = (e, maps) => {\r\n    const id = String(e.divisionId || '');\r\n    if (id && maps?.idToName?.has(id)) return `id:${id}`;\r\n    const code = String(e.divisionCode || '');\r\n    if (code && maps?.codeToId?.has(code)) return `id:${maps.codeToId.get(code)}`;\r\n    const name = getEmployeeDivisionDisplay(e);\r\n    if (name && maps?.nameToId?.has(name)) return `id:${maps.nameToId.get(name)}`;\r\n    return `name:${name}`;\r\n  };\r\n\r\n  const normalizeEmployeeMeta = (e) => {\r\n    const empNumber = String(e?.EMP_NUMBER ?? e?.empNumber ?? e?.id ?? '');\r\n    const divisionId = String(e?.DIVISION_ID ?? e?.division_id ?? e?.DIVISION_CODE ?? e?.division_code ?? '');\r\n    const sectionId = String(e?.SECTION_ID ?? e?.section_id ?? e?.SECTION_CODE ?? e?.section_code ?? '');\r\n    return { empNumber, divisionId, sectionId };\r\n  };\r\n\r\n  const filterSectionsByDivision = (divisionFilter, sourceSections = allSections) => {\r\n    if (!sourceSections.length) {\r\n      setSections([]);\r\n      return;\r\n    }\r\n\r\n    if (divisionFilter === 'all') {\r\n      setSections(sourceSections);\r\n      return;\r\n    }\r\n\r\n    const filtered = sourceSections.filter(section => String(section.divisionId) === String(divisionFilter));\r\n\r\n    setSections(filtered);\r\n  };\r\n\r\n  const fetchDivisions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await axios.get(`${API_BASE_URL}/divisions/hris`);\r\n      if (response.data.success) {\r\n        const apiRows = response.data.data || [];\r\n        setRawDivisions(apiRows);\r\n        const normalized = normalizeDivisions(apiRows);\r\n        setDivisions(normalized);\r\n        \r\n        // Show fallback message if using local data\r\n        if (response.data.fallback) {\r\n          setError(` ${response.data.message}`);\r\n        }\r\n      } else {\r\n        setError('Failed to fetch divisions from HRIS API');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching divisions:', error);\r\n      setError(`Failed to fetch divisions: ${error.response?.status || 500}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchSections = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await axios.get(`${API_BASE_URL}/sections/hris`);\r\n      if (response.data.success) {\r\n        const apiRows = response.data.data || [];\r\n        setRawSections(apiRows);\r\n        const sectionData = normalizeSections(apiRows);\r\n        setAllSections(sectionData); // Store all normalized sections\r\n        filterSectionsByDivision(selectedDivision, sectionData); // Apply current division filter\r\n        \r\n        // Show fallback message if using local data\r\n        if (response.data.fallback) {\r\n          setError(` ${response.data.message}`);\r\n        }\r\n      } else {\r\n        setError('Failed to fetch sections from HRIS API');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sections:', error);\r\n      setError(`Failed to fetch sections: ${error.response?.status || 500}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAllData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const requests = [\r\n        axios.get(`${API_BASE_URL}/users/hris`),\r\n        axios.get(`${API_BASE_URL}/sections/hris`),\r\n        axios.get(`${API_BASE_URL}/divisions/hris`),\r\n      ];\r\n\r\n      const [employeeResponse, sectionResponse, divisionResponse] = await Promise.all(requests);\r\n\r\n      // Process Divisions\r\n      if (divisionResponse.data.success) {\r\n        const apiRows = divisionResponse.data.data || [];\r\n        setRawDivisions(apiRows);\r\n        const normalizedDivisions = normalizeDivisions(apiRows);\r\n        setDivisions(normalizedDivisions);\r\n        if (divisionResponse.data.fallback) {\r\n          setError(` ${divisionResponse.data.message}`);\r\n        }\r\n      } else {\r\n        setError('Failed to fetch divisions from HRIS API');\r\n      }\r\n\r\n      // Process Sections\r\n      if (sectionResponse.data.success) {\r\n        const apiRows = sectionResponse.data.data || [];\r\n        setRawSections(apiRows);\r\n        const sectionData = normalizeSections(apiRows);\r\n        setAllSections(sectionData);\r\n        filterSectionsByDivision(selectedDivision, sectionData);\r\n        if (sectionResponse.data.fallback) {\r\n          setError(prev => prev ?? ` ${sectionResponse.data.message}`);\r\n        }\r\n      } else {\r\n        setError('Failed to fetch sections from HRIS API');\r\n      }\r\n\r\n      // Process Employees\r\n      if (employeeResponse.data.success) {\r\n        const apiRows = employeeResponse.data.data || [];\r\n        const filteredApiRows = apiRows.filter(isColomboEmployeeRaw);\r\n        setRawEmployees(filteredApiRows);\r\n        const normalizedEmployees = normalizeEmployees(filteredApiRows);\r\n        setAllEmployees(normalizedEmployees);\r\n        setEmployees(normalizedEmployees);\r\n        if (employeeResponse.data.fallback) {\r\n          setError(prev => prev ?? ` ${employeeResponse.data.message}`);\r\n        }\r\n      } else {\r\n        setError('Failed to fetch employees from HRIS API');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setError(`Failed to fetch data: ${error.response?.status || 500}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const employeeRequest = axios.get(`${API_BASE_URL}/users/hris`);\r\n      const sectionRequest = allSections.length\r\n        ? Promise.resolve(null)\r\n        : axios.get(`${API_BASE_URL}/sections/hris`);\r\n\r\n      const [employeeResponse, sectionResponse] = await Promise.all([employeeRequest, sectionRequest]);\r\n\r\n      if (employeeResponse.data.success) {\r\n        const apiRows = employeeResponse.data.data || [];\r\n        const filteredApiRows = apiRows.filter(isColomboEmployeeRaw);\r\n        setRawEmployees(filteredApiRows);\r\n        const normalizedEmployees = normalizeEmployees(filteredApiRows);\r\n        setAllEmployees(normalizedEmployees); // Store all employees (Colombo only)\r\n        setEmployees(normalizedEmployees); // Initially show filtered employees\r\n\r\n        if (employeeResponse.data.fallback) {\r\n          setError(` ${employeeResponse.data.message}`);\r\n        }\r\n      } else {\r\n        setError('Failed to fetch employees from HRIS API');\r\n      }\r\n\r\n      if (sectionResponse) {\r\n        if (sectionResponse.data.success) {\r\n          const apiRows = sectionResponse.data.data || [];\r\n          setRawSections(apiRows);\r\n          const sectionData = normalizeSections(apiRows);\r\n          setAllSections(sectionData);\r\n          filterSectionsByDivision(selectedDivision, sectionData);\r\n\r\n          if (sectionResponse.data.fallback) {\r\n            setError(prev => prev ?? ` ${sectionResponse.data.message}`);\r\n          }\r\n        } else if (!allSections.length) {\r\n          setError('Failed to fetch sections from HRIS API');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching employees:', error);\r\n      setError(`Failed to fetch employees: ${error.response?.status || 500}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (activeTab === 'divisions') {\r\n      fetchDivisions();\r\n    } else if (activeTab === 'sections') {\r\n      fetchSections();\r\n    } else if (activeTab === 'employees' || activeTab === 'individual-attendance') {\r\n      // For both the employees view and the standalone individual attendance report\r\n      // ensure employee/division/section data is loaded\r\n      fetchAllData();\r\n    }\r\n  }, [activeTab]);\r\n\r\n  // Helper to open the Individual Attendance tab and ensure HRIS data is loaded\r\n  const openIndividualAttendance = () => {\r\n    setActiveTab('individual-attendance');\r\n    // Trigger data load; don't await so UI stays responsive\r\n    fetchAllData();\r\n  };\r\n\r\n  const renderDivisions = () => (\r\n    <div className=\"api-table-container\">\r\n      <h3>HRIS Divisions (Level 3)</h3>\r\n\r\n      <div className=\"mb-3\">\r\n        <button\r\n          className=\"btn btn-sm btn-outline-secondary\"\r\n          onClick={() => setShowDivisionJson(!showDivisionJson)}\r\n        >\r\n          {showDivisionJson ? 'Hide' : 'Show'} Division JSON\r\n        </button>\r\n      </div>\r\n\r\n      {showDivisionJson && (\r\n        <div className=\"json-viewer\">\r\n          <pre>{JSON.stringify(divisions, null, 2)}</pre>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>_ID</th>\r\n              <th>NAME</th>\r\n              <th>STATUS</th>\r\n              <th>EMP COUNT</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(() => {\r\n              // Build a name-normalized count map from the current employee set\r\n              const countsByDivName = new Map();\r\n              allEmployees.forEach(e => {\r\n                const name = (e.divisionHierarchyName || e.divisionName || '');\r\n                const key = normalizeTextKey(name);\r\n                if (!key) return;\r\n                countsByDivName.set(key, (countsByDivName.get(key) || 0) + 1);\r\n              });\r\n\r\n              return rawDivisions.map((row, idx) => {\r\n              const key = String(row?._id ?? row?.id ?? row?.code ?? idx);\r\n              const idVal = row?._id ?? row?.id ?? '';\r\n                const nameVal = row?.name ?? row?.DIVISION_NAME ?? row?.hie_name ?? '';\r\n              const statusVal = row?.status ?? (typeof row?.isActive === 'boolean' ? (row.isActive ? 'ACTIVE' : 'INACTIVE') : '');\r\n                const computedCount = countsByDivName.get(normalizeTextKey(String(nameVal))) || 0;\r\n                const empCount = computedCount;\r\n                return (\r\n                  <tr key={key}>\r\n                    <td>{String(idVal)}</td>\r\n                    <td>{String(nameVal)}</td>\r\n                    <td>{String(statusVal)}</td>\r\n                    <td>{String(empCount)}</td>\r\n                  </tr>\r\n                );\r\n              });\r\n            })()}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderSections = () => (\r\n    <div className=\"api-table-container\">\r\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <h3>\r\n          HRIS Sections (Level 4)\r\n          <span className=\"badge bg-primary ms-2\">\r\n            {sections.length}\r\n            {selectedDivision !== 'all' && ` of ${allSections.length}`}\r\n          </span>\r\n        </h3>\r\n        <div className=\"division-filter\">\r\n          <label htmlFor=\"division-select\" className=\"form-label me-2\">Filter by Division:</label>\r\n          <select \r\n            id=\"division-select\"\r\n            className=\"form-select\" \r\n            value={selectedDivision} \r\n            onChange={handleDivisionChange}\r\n            style={{ width: 'auto', display: 'inline-block' }}\r\n          >\r\n            <option value=\"all\">All Divisions ({allSections.length} sections)</option>\r\n            {getUniqueDivisions().map(division => (\r\n              <option key={division.id} value={division.id}>\r\n                {division.name} ({allSections.filter(s => String(s.divisionId) === String(division.id)).length} sections)\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      \r\n      {selectedDivision !== 'all' && (\r\n        <div className=\"alert alert-info mb-3\">\r\n          <i className=\"bi bi-filter\"></i>\r\n          Showing sections from: <strong>{getUniqueDivisions().find(d => String(d.id) === String(selectedDivision))?.name || selectedDivision}</strong>\r\n          <span className=\"ms-2\">({sections.length} of {allSections.length} sections)</span>\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"mb-3\">\r\n        <button\r\n          className=\"btn btn-sm btn-outline-secondary\"\r\n          onClick={() => setShowSectionJson(!showSectionJson)}\r\n        >\r\n          {showSectionJson ? 'Hide' : 'Show'} Section JSON\r\n        </button>\r\n      </div>\r\n\r\n      {showSectionJson && (\r\n        <div className=\"json-viewer\">\r\n          {(() => {\r\n            const filteredRaw = selectedDivision === 'all'\r\n              ? rawSections\r\n              : rawSections.filter(rs => String(normalizeSectionMeta(rs).divisionId) === String(selectedDivision));\r\n            return <pre>{JSON.stringify(filteredRaw, null, 2)}</pre>;\r\n          })()}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>_ID</th>\r\n              <th>NAME</th>\r\n              <th>DIVISION CODE</th>\r\n              <th>DIVISION NAME</th>\r\n              <th>EMP COUNT</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {(() => {\r\n              // Build section employee counts across the currently loaded employees (Colombo subset)\r\n              const sectionCounts = new Map();\r\n              allEmployees.forEach(emp => {\r\n                const idKey = emp.sectionId ? String(emp.sectionId) : '';\r\n                const codeKey = emp.sectionCode ? String(emp.sectionCode) : '';\r\n                const nameKey = normalizeTextKey(emp.sectionHierarchyName || emp.sectionName || '');\r\n                if (idKey) sectionCounts.set(idKey, (sectionCounts.get(idKey) || 0) + 1);\r\n                if (codeKey) sectionCounts.set(codeKey, (sectionCounts.get(codeKey) || 0) + 1);\r\n                if (nameKey) sectionCounts.set(nameKey, (sectionCounts.get(nameKey) || 0) + 1);\r\n              });\r\n\r\n              // Use normalized, filtered sections for display\r\n              return sections.map((s) => {\r\n                const idKey = String(s.id || '');\r\n                const codeKey = String(s.code || '');\r\n                const nameKey = normalizeTextKey(s.name || '');\r\n                const empCount = (\r\n                  sectionCounts.get(idKey) ||\r\n                  sectionCounts.get(codeKey) ||\r\n                  sectionCounts.get(nameKey) ||\r\n                  0\r\n                );\r\n                return (\r\n                  <tr key={idKey || codeKey || nameKey}>\r\n                    <td>{String(s.id || '')}</td>\r\n                    <td>{String(s.name || '')}</td>\r\n                    <td>{String(s.divisionCode || '')}</td>\r\n                    <td>{String(s.divisionName || '')}</td>\r\n                    <td>{String(empCount)}</td>\r\n                  </tr>\r\n                );\r\n              });\r\n            })()}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // Removed separate Display tabs; JSON toggles remain within each section\r\n\r\n  const renderEmployees = () => {\r\n    const divisionSelected = selectedEmployeeDivision !== 'all';\r\n    const maps = buildDivisionMaps();\r\n    const employeesInSelectedDivision = divisionSelected\r\n      ? allEmployees.filter(e => getEmployeeDivisionKey(e, maps) === String(selectedEmployeeDivision))\r\n      : [];\r\n    const sectionEmployeeCounts = new Map();\r\n\r\n    employeesInSelectedDivision.forEach(employee => {\r\n      const keyId = employee.sectionId ? String(employee.sectionId) : '';\r\n      const keyCode = employee.sectionCode ? String(employee.sectionCode) : '';\r\n      const keyName = normalizeTextKey(employee.sectionHierarchyName || employee.sectionName || '');\r\n      if (keyId) sectionEmployeeCounts.set(keyId, (sectionEmployeeCounts.get(keyId) || 0) + 1);\r\n      if (keyCode) sectionEmployeeCounts.set(keyCode, (sectionEmployeeCounts.get(keyCode) || 0) + 1);\r\n      if (keyName) sectionEmployeeCounts.set(keyName, (sectionEmployeeCounts.get(keyName) || 0) + 1);\r\n    });\r\n\r\n  const divisionMap = new Map(divisions.map(d => [String(d.id), d.name]));\r\n    const sectionMap = new Map(allSections.map(s => [String(s.id), s.name]));\r\n\r\n    return (\r\n      <div className=\"api-table-container\">\r\n        <div className=\"d-flex justify-content-between align-items-start mb-3\">\r\n          <h3>\r\n            HRIS Employees\r\n            <span className=\"badge bg-primary ms-2\">\r\n              {employees.length}\r\n              {(divisionSelected || selectedSection !== 'all') && allEmployees.length > 0 && (\r\n                ` of ${allEmployees.length}`\r\n              )}\r\n            </span>\r\n          </h3>\r\n            <div className=\"employee-filters d-flex gap-3\">\r\n            {/* Division Filter */}\r\n            <div className=\"division-filter\">\r\n              <label htmlFor=\"employee-division-select\" className=\"form-label me-2\">Division:</label>\r\n              <select \r\n                id=\"employee-division-select\"\r\n                className=\"form-select\" \r\n                value={selectedEmployeeDivision} \r\n                onChange={handleEmployeeDivisionChange}\r\n                style={{ width: 'auto', minWidth: '200px' }}\r\n              >\r\n                <option value=\"all\">All Divisions</option>\r\n                {getEmployeeDivisions().map(division => (\r\n                  <option key={division.key} value={division.key}>\r\n                    {division.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            {/* Section Filter */}\r\n            <div className=\"section-filter\">\r\n              <label htmlFor=\"employee-section-select\" className=\"form-label me-2\">Section:</label>\r\n              <select \r\n                id=\"employee-section-select\"\r\n                className=\"form-select\" \r\n                value={selectedSection} \r\n                onChange={handleSectionChange}\r\n                style={{ width: 'auto', minWidth: '200px' }}\r\n                disabled={!divisionSelected}\r\n              >\r\n                {!divisionSelected ? (\r\n                  <option value=\"all\">Select a division first</option>\r\n                ) : (\r\n                  <>\r\n                    <option value=\"all\">All Sections ({employeesInSelectedDivision.length} employees)</option>\r\n                    {availableSections.length ? (\r\n                      availableSections.map(section => {\r\n                        const idKey = String(section.id || '');\r\n                        const codeKey = String(section.code || '');\r\n                        const nameKey = normalizeTextKey(section.name || '');\r\n                        const count = (\r\n                          sectionEmployeeCounts.get(idKey) ||\r\n                          sectionEmployeeCounts.get(codeKey) ||\r\n                          sectionEmployeeCounts.get(nameKey) ||\r\n                          0\r\n                        );\r\n                        return (\r\n                          <option key={section.id} value={section.id}>\r\n                            {section.name} ({count} employees)\r\n                          </option>\r\n                        );\r\n                      })\r\n                    ) : (\r\n                      <option value=\"__no_sections\" disabled>No sections available</option>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Attendance date range controls (used by per-row View Attendance) */}\r\n        <div className=\"mb-3 d-flex align-items-center gap-2\">\r\n          <label className=\"form-label mb-0\">From:</label>\r\n          <input type=\"date\" className=\"form-control\" style={{ width: '180px' }} value={attendanceFromDate} onChange={e => setAttendanceFromDate(e.target.value)} />\r\n          <label className=\"form-label mb-0\">To:</label>\r\n          <input type=\"date\" className=\"form-control\" style={{ width: '180px' }} value={attendanceToDate} onChange={e => setAttendanceToDate(e.target.value)} />\r\n          <small className=\"text-muted ms-2\">Click \"View Attendance\" on an employee row to load individual punches.</small>\r\n        </div>\r\n\r\n      {/* Filter Status Info */}\r\n      {(selectedEmployeeDivision !== 'all' || selectedSection !== 'all') && (\r\n        <div className=\"alert alert-info mb-3\">\r\n          <i className=\"bi bi-filter\"></i>\r\n          Showing employees from: \r\n          {selectedEmployeeDivision !== 'all' && (\r\n            <strong className=\"ms-1\">\r\n              {getEmployeeDivisions().find(d => String(d.key) === String(selectedEmployeeDivision))?.name || selectedEmployeeDivision}\r\n            </strong>\r\n          )}\r\n          {selectedSection !== 'all' && (\r\n            <>\r\n              <i className=\"bi bi-arrow-right mx-2\"></i>\r\n              <strong>\r\n                {availableSections.find(s => String(s.id) === String(selectedSection))?.name || selectedSection}\r\n              </strong>\r\n            </>\r\n          )}\r\n          <span className=\"ms-2\">({employees.length} of {allEmployees.length} employees)</span>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mb-3\">\r\n        <button\r\n          className=\"btn btn-sm btn-outline-secondary\"\r\n          onClick={() => setShowEmployeeJson(!showEmployeeJson)}\r\n        >\r\n          {showEmployeeJson ? 'Hide' : 'Show'} Employee JSON\r\n        </button>\r\n      </div>\r\n\r\n      {showEmployeeJson && (\r\n        <div className=\"json-viewer\">\r\n          {(() => {\r\n            const selObj = availableSections.find(s => String(s.id) === String(selectedSection));\r\n            const selNameKey = normalizeTextKey(selObj?.name || '');\r\n            const filteredRaw = rawEmployees.filter((row) => {\r\n              const meta = normalizeEmployeeMeta(row);\r\n              if (selectedEmployeeDivision !== 'all' && String(meta.divisionId) !== String(selectedEmployeeDivision)) return false;\r\n              if (selectedSection !== 'all') {\r\n                const byIdOrCode = String(meta.sectionId) === String(selectedSection);\r\n                if (byIdOrCode) return true;\r\n                const rowSecName = row.HIE_NAME_4 || row.SECTION_NAME || row?.currentwork?.HIE_NAME_4 || '';\r\n                const rowNameKey = normalizeTextKey(rowSecName);\r\n                return selNameKey && rowNameKey === selNameKey;\r\n              }\r\n              return true;\r\n            });\r\n            return <pre>{JSON.stringify(filteredRaw, null, 2)}</pre>;\r\n          })()}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th>Employee ID</th>\r\n              <th>Full Name</th>\r\n              <th>Designation</th>\r\n              <th>Gender</th>\r\n              <th>NIC</th>\r\n              <th>Division</th>\r\n              <th>Section</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {employees.map((employee) => (\r\n              <tr key={employee.empNumber}>\r\n                <td>{employee.empNumber}</td>\r\n                <td>{employee.fullName}</td>\r\n                <td>{employee.designation}</td>\r\n                <td>{employee.gender}</td>\r\n                <td>{employee.nic}</td>\r\n                <td>{employee.divisionHierarchyName || employee.divisionName || divisionMap.get(String(employee.divisionId)) || employee.divisionCode || '-'}</td>\r\n                <td>{employee.sectionHierarchyName || employee.sectionName || sectionMap.get(String(employee.sectionId)) || employee.sectionCode || '-'}</td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-sm btn-outline-primary\"\r\n                    onClick={() => fetchAttendanceForEmployee(employee.empNumber)}\r\n                    disabled={attendanceLoading}\r\n                  >\r\n                    View Attendance\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      \r\n      {/* Attendance display panel for selected employee */}\r\n      {selectedAttendanceEmployee && (\r\n        <div className=\"attendance-panel mt-4\">\r\n          <h5>Attendance for {selectedAttendanceEmployee} &nbsp; <small className=\"text-muted\">({attendanceFromDate} to {attendanceToDate})</small></h5>\r\n\r\n          {attendanceLoading ? (\r\n            <div className=\"spinner-border text-primary\" role=\"status\"><span className=\"visually-hidden\">Loading...</span></div>\r\n          ) : attendanceError ? (\r\n            <div className=\"alert alert-danger\">{attendanceError}</div>\r\n          ) : (\r\n            <>\r\n              {attendanceSummary && (\r\n                <div className=\"mb-2\">\r\n                  <strong>Summary:</strong> {attendanceSummary.total_records ?? attendanceSummary.total_records === 0 ? ` ${attendanceSummary.total_records} records` : ''}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table table-sm table-bordered\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Date</th>\r\n                      <th>Time</th>\r\n                      <th>Scan Type</th>\r\n                      <th>Division</th>\r\n                      <th>Section</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {attendanceRecords && attendanceRecords.length ? (\r\n                      attendanceRecords.map(rec => (\r\n                        <tr key={`${rec.attendance_id || rec.employee_ID}-${rec.date_}-${rec.time_}`}> \r\n                          <td>{rec.date_}</td>\r\n                          <td>{rec.time_}</td>\r\n                          <td>{rec.scan_type}</td>\r\n                          <td>{rec.division_name || rec.divisionName || ''}</td>\r\n                          <td>{rec.section_name || rec.sectionName || ''}</td>\r\n                        </tr>\r\n                      ))\r\n                    ) : (\r\n                      <tr><td colSpan={5} className=\"text-center\">No attendance records found for this period.</td></tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Handle division selection change\r\n  const handleDivisionChange = (event) => {\r\n    const selectedDiv = event.target.value;\r\n    setSelectedDivision(selectedDiv);\r\n    filterSectionsByDivision(selectedDiv);\r\n  };\r\n\r\n  // Get unique divisions for the dropdown\r\n  const getUniqueDivisions = () => {\r\n    // Use normalized divisions list directly\r\n    return divisions;\r\n  };\r\n\r\n  // Get unique divisions for employee filtering\r\n  const getEmployeeDivisions = () => {\r\n    const maps = buildDivisionMaps();\r\n\r\n    // Prefer canonical `divisions` list for dropdown options so users always see known\r\n    // divisions even when employee list is empty. Compute counts from `allEmployees`.\r\n    if (divisions && divisions.length) {\r\n      const counts = new Map();\r\n      allEmployees.forEach(e => {\r\n        const key = getEmployeeDivisionKey(e, maps);\r\n        counts.set(key, (counts.get(key) || 0) + 1);\r\n      });\r\n\r\n      const result = divisions.map(d => {\r\n        const key = `id:${String(d.id)}`;\r\n        return {\r\n          key,\r\n          name: d.name,\r\n          count: counts.get(key) || 0,\r\n        };\r\n      });\r\n\r\n      // Also include any divisions derived from employees that aren't in the canonical list\r\n      const extra = [];\r\n      const seen = new Set(result.map(r => r.key));\r\n      allEmployees.forEach(e => {\r\n        const k = getEmployeeDivisionKey(e, maps);\r\n        if (!seen.has(k)) {\r\n          seen.add(k);\r\n          extra.push({ key: k, name: getEmployeeDivisionDisplay(e), count: 1 });\r\n        } else {\r\n          // increment count for extras if present\r\n          const ex = extra.find(x => x.key === k);\r\n          if (ex) ex.count += 1;\r\n        }\r\n      });\r\n\r\n      return [...result, ...extra].sort((a, b) => a.name.localeCompare(b.name));\r\n    }\r\n\r\n    // Fallback: derive from employees if no canonical divisions are available\r\n    const buckets = new Map(); // key -> { key, name, count }\r\n    allEmployees.forEach(e => {\r\n      const key = getEmployeeDivisionKey(e, maps);\r\n      const name = getEmployeeDivisionDisplay(e);\r\n      const existing = buckets.get(key);\r\n      if (existing) {\r\n        existing.count += 1;\r\n      } else {\r\n        buckets.set(key, { key, name, count: 1 });\r\n      }\r\n    });\r\n    return Array.from(buckets.values()).sort((a, b) => a.name.localeCompare(b.name));\r\n  };\r\n\r\n  // Get sections for selected division (for employees)\r\n  const deriveSectionsForDivision = (divisionKey) => {\r\n    if (divisionKey === 'all') return [];\r\n    const maps = buildDivisionMaps();\r\n    // If key is id:XYZ, prefer sections by that divisionId\r\n    if (divisionKey.startsWith('id:')) {\r\n      const id = divisionKey.slice(3);\r\n      const byDivision = allSections\r\n        .filter(section => String(section.divisionId) === String(id))\r\n        .map(section => ({ id: section.id, code: section.code, name: section.name }));\r\n      if (byDivision.length) {\r\n        const seen = new Set();\r\n        const unique = [];\r\n        byDivision.forEach(s => { if (!seen.has(s.id)) { seen.add(s.id); unique.push(s); } });\r\n        return unique.sort((a, b) => a.name.localeCompare(b.name));\r\n      }\r\n    }\r\n    // Fallback: derive from employees in case sections are unavailable or key is name-based\r\n    const employeeSections = [];\r\n    const employeeSeen = new Set();\r\n    allEmployees\r\n      .filter(emp => getEmployeeDivisionKey(emp, maps) === String(divisionKey))\r\n      .forEach(employee => {\r\n        const sectionKey = employee.sectionId || employee.sectionCode;\r\n        const sectionName = employee.sectionHierarchyName || employee.sectionName || String(sectionKey);\r\n        const key = String(sectionKey || '');\r\n        if (key && !employeeSeen.has(key)) {\r\n          employeeSeen.add(key);\r\n          employeeSections.push({ id: key, code: key, name: sectionName });\r\n        }\r\n      });\r\n    return employeeSections.sort((a, b) => a.name.localeCompare(b.name));\r\n  };\r\n\r\n  // Sync period preset into from/to dates when a preset is chosen\r\n  useEffect(() => {\r\n    const now = new Date();\r\n    let from = new Date();\r\n    let to = new Date();\r\n    switch (periodPreset) {\r\n      case 'last7':\r\n        from = new Date(); from.setDate(now.getDate() - 7);\r\n        to = now;\r\n        break;\r\n      case 'last30':\r\n        from = new Date(); from.setDate(now.getDate() - 30);\r\n        to = now;\r\n        break;\r\n      case 'thisMonth':\r\n        from = new Date(now.getFullYear(), now.getMonth(), 1);\r\n        to = now;\r\n        break;\r\n      case 'custom':\r\n      default:\r\n        return; // don't override custom dates\r\n    }\r\n    setAttendanceFromDate(formatDateYmd(from));\r\n    setAttendanceToDate(formatDateYmd(to));\r\n  }, [periodPreset]);\r\n\r\n  // Handle employee division selection change\r\n  const handleEmployeeDivisionChange = (event) => {\r\n    const selectedDiv = event.target.value;\r\n    setSelectedEmployeeDivision(selectedDiv);\r\n    setSelectedSection('all'); // Reset section when division changes\r\n  };\r\n\r\n  // Handle employee section selection change\r\n  const handleSectionChange = (event) => {\r\n    const selectedSec = event.target.value;\r\n    setSelectedSection(selectedSec);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedEmployeeDivision === 'all') {\r\n      setAvailableSections([]);\r\n      return;\r\n    }\r\n\r\n    const sectionsForDivision = deriveSectionsForDivision(selectedEmployeeDivision);\r\n    setAvailableSections(sectionsForDivision);\r\n  }, [selectedEmployeeDivision, allSections, allEmployees]);\r\n\r\n  // Auto-select default division 'IS' (Information Systems) when available\r\n  const autoSelectedDivisionRef = useRef(false);\r\n  const autoSelectedSectionRef = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (selectedEmployeeDivision !== 'all') return; // don't override user's choice\r\n    if (!divisions || !divisions.length) return;\r\n    if (autoSelectedDivisionRef.current) return; // only auto-select once\r\n\r\n    const target = divisions.find(d => {\r\n      const code = String(d.code || '').toLowerCase();\r\n      const name = String(d.name || '').toLowerCase();\r\n      return code === 'is' || name.includes('information systems') || name.includes('information system');\r\n    });\r\n\r\n    if (target) {\r\n      // Use the same key format produced by getEmployeeDivisions (id:ID)\r\n      setSelectedEmployeeDivision(`id:${String(target.id)}`);\r\n      autoSelectedDivisionRef.current = true;\r\n      // reset section auto-select flag so the section auto-select can run for this division\r\n      autoSelectedSectionRef.current = false;\r\n    }\r\n  }, [divisions, selectedEmployeeDivision]);\r\n\r\n  // After availableSections are derived for the selected division, auto-select an IS section if present\r\n  // After availableSections are derived for the selected division, auto-select an IS section if present\r\n  useEffect(() => {\r\n    if (selectedSection !== 'all') return; // don't override user's choice\r\n    if (!availableSections || !availableSections.length) return;\r\n    if (autoSelectedSectionRef.current) return; // only auto-select once per lifecycle\r\n\r\n    const sec = availableSections.find(s => {\r\n      const code = String(s.code || '').toLowerCase();\r\n      const name = String(s.name || '').toLowerCase();\r\n      return code === 'is' || name.includes('(is)') || name.includes('information systems') || name.includes('information system');\r\n    });\r\n\r\n    if (sec) {\r\n      setSelectedSection(String(sec.id));\r\n      autoSelectedSectionRef.current = true;\r\n    }\r\n  }, [availableSections, selectedSection]);\r\n\r\n  useEffect(() => {\r\n    let filtered = allEmployees;\r\n\r\n    if (selectedEmployeeDivision !== 'all') {\r\n      const maps = buildDivisionMaps();\r\n      filtered = filtered.filter(emp => getEmployeeDivisionKey(emp, maps) === String(selectedEmployeeDivision));\r\n    }\r\n    if (selectedSection !== 'all') {\r\n      const selObj = availableSections.find(s => String(s.id) === String(selectedSection));\r\n      const selNameKey = normalizeTextKey(selObj?.name || '');\r\n      filtered = filtered.filter(emp => {\r\n        const byIdOrCode = String(emp.sectionId || emp.sectionCode) === String(selectedSection);\r\n        if (byIdOrCode) return true;\r\n        const empNameKey = normalizeTextKey(getEmployeeSectionName(emp));\r\n        return selNameKey && empNameKey === selNameKey;\r\n      });\r\n    }\r\n\r\n    // Ensure Colombo-only is enforced even if source changes\r\n    filtered = filtered.filter(isColomboEmployeeNormalized);\r\n\r\n    setEmployees(filtered);\r\n  }, [allEmployees, selectedEmployeeDivision, selectedSection]);\r\n\r\n    const renderIndividualAttendance = () => {\r\n      // We only use Employee ID input (no dropdown). Division/Section are used to scope lookup if needed.\r\n      const divisionOptions = divisions || [];\r\n\r\n      return (\r\n        <div className=\"api-table-container\">\r\n          <h3>Individual Attendance Report</h3>\r\n\r\n          <div className=\"mb-3 d-flex align-items-center gap-2 flex-wrap\">\r\n            <label className=\"form-label mb-0\">Division:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              style={{ width: '260px' }}\r\n              value={selectedIADivision}\r\n              onChange={e => { setSelectedIADivision(e.target.value); setSelectedIASection('all'); }}\r\n            >\r\n              <option value=\"all\">All Divisions</option>\r\n              {divisionOptions.map(d => (\r\n                <option key={d.id} value={`id:${d.id}`}>\r\n                  {d.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            <label className=\"form-label mb-0\">Section:</label>\r\n            <select\r\n              className=\"form-select\"\r\n              style={{ width: '260px' }}\r\n              value={selectedIASection}\r\n              onChange={e => setSelectedIASection(e.target.value)}\r\n              disabled={selectedIADivision === 'all'}\r\n            >\r\n              {selectedIADivision === 'all' ? (\r\n                <option value=\"all\">Select a division first</option>\r\n              ) : (\r\n                <>\r\n                  <option value=\"all\">All Sections</option>\r\n                  {deriveSectionsForDivision(selectedIADivision).map(s => (\r\n                    <option key={s.id} value={s.id}>{s.name}</option>\r\n                  ))}\r\n                </>\r\n              )}\r\n            </select>\r\n\r\n            <label className=\"form-label mb-0\">Period:</label>\r\n            <select className=\"form-select\" style={{ width: '180px' }} value={periodPreset} onChange={e => setPeriodPreset(e.target.value)}>\r\n              <option value=\"last7\">Last 7 days</option>\r\n              <option value=\"last30\">Last 30 days</option>\r\n              <option value=\"thisMonth\">This month</option>\r\n              <option value=\"custom\">Custom</option>\r\n            </select>\r\n\r\n            <label className=\"form-label mb-0\">From:</label>\r\n            <input type=\"date\" className=\"form-control\" style={{ width: '180px' }} value={attendanceFromDate} onChange={e => { setAttendanceFromDate(e.target.value); setPeriodPreset('custom'); }} />\r\n            <label className=\"form-label mb-0\">To:</label>\r\n            <input type=\"date\" className=\"form-control\" style={{ width: '180px' }} value={attendanceToDate} onChange={e => { setAttendanceToDate(e.target.value); setPeriodPreset('custom'); }} />\r\n\r\n            <label className=\"form-label mb-0\">Employee ID:</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              style={{ width: '320px' }}\r\n              placeholder=\"Enter employee ID\"\r\n              value={selectedAttendanceEmployee || ''}\r\n              onChange={e => setSelectedAttendanceEmployee(e.target.value || null)}\r\n              onKeyDown={e => {\r\n                if (e.key === 'Enter') {\r\n                  if (!selectedAttendanceEmployee) {\r\n                    setAttendanceError('Please enter an employee ID');\r\n                    return;\r\n                  }\r\n                  fetchAttendanceForEmployee(selectedAttendanceEmployee);\r\n                }\r\n              }}\r\n            />\r\n\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => {\r\n                if (!selectedAttendanceEmployee) {\r\n                  setAttendanceError('Please select an employee');\r\n                  return;\r\n                }\r\n                fetchAttendanceForEmployee(selectedAttendanceEmployee);\r\n              }}\r\n              disabled={attendanceLoading}\r\n            >\r\n              {attendanceLoading ? 'Loading...' : 'Load Report'}\r\n            </button>\r\n          </div>\r\n\r\n          {attendanceError && <div className=\"alert alert-danger\">{attendanceError}</div>}\r\n\r\n          {attendanceSummary && (\r\n            <div className=\"mb-2\">\r\n              <strong>Summary:</strong> {attendanceSummary.total_records ?? attendanceSummary.total_records === 0 ? ` ${attendanceSummary.total_records} records` : ''}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-sm table-bordered\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Time</th>\r\n                  <th>Scan Type</th>\r\n                  <th>Division</th>\r\n                  <th>Section</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {attendanceRecords && attendanceRecords.length ? (\r\n                  attendanceRecords.map(rec => (\r\n                    <tr key={`${rec.attendance_id || rec.employee_ID}-${rec.date_}-${rec.time_}`}>\r\n                      <td>{rec.date_}</td>\r\n                      <td>{rec.time_}</td>\r\n                      <td>{rec.scan_type}</td>\r\n                      <td>{rec.division_name || rec.divisionName || ''}</td>\r\n                      <td>{rec.section_name || rec.sectionName || ''}</td>\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr><td colSpan={5} className=\"text-center\">No attendance records loaded.</td></tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n\r\n  const refreshData = () => {\r\n    if (activeTab === 'divisions') {\r\n      fetchDivisions();\r\n    } else if (activeTab === 'sections') {\r\n      fetchSections();\r\n      setSelectedDivision('all'); // Reset filter when refreshing\r\n    } else if (activeTab === 'employees') {\r\n      fetchAllData();\r\n      setSelectedEmployeeDivision('all'); // Reset employee filters when refreshing\r\n      setSelectedSection('all');\r\n      setAvailableSections([]);\r\n    } else if (activeTab === 'individual-attendance') {\r\n      // Ensure IA view has HRIS data available and reset filters\r\n      fetchAllData();\r\n      setSelectedIADivision('all');\r\n      setSelectedIASection('all');\r\n      setSelectedAttendanceEmployee(null);\r\n      setPeriodPreset('last7');\r\n    }\r\n    setShowEmployeeJson(false);\r\n    setShowDivisionJson(false);\r\n    setShowSectionJson(false);\r\n  };\r\n\r\n  // Fetch individual attendance from MySQL using ReportGeneration API\r\n  const fetchAttendanceForEmployee = async (empNumber) => {\r\n    try {\r\n      setAttendanceLoading(true);\r\n      setAttendanceError(null);\r\n      setAttendanceRecords([]);\r\n      setAttendanceSummary(null);\r\n      setSelectedAttendanceEmployee(empNumber);\r\n\r\n      const payload = {\r\n        report_type: 'individual',\r\n        employee_id: empNumber,\r\n        from_date: attendanceFromDate,\r\n        to_date: attendanceToDate\r\n      };\r\n\r\n      const resp = await axios.post(`${API_BASE_URL}/reports/mysql/attendance`, payload);\r\n      if (resp.data && resp.data.success) {\r\n        setAttendanceRecords(resp.data.data || []);\r\n        setAttendanceSummary(resp.data.summary || null);\r\n      } else {\r\n        setAttendanceError(resp.data?.message || 'Failed to fetch attendance');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching attendance:', error);\r\n      setAttendanceError(error.response?.data?.message || error.message || 'Error fetching attendance');\r\n    } finally {\r\n      setAttendanceLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"api-data-viewer\">\r\n      {/* Professional Section Header with Logo */}\r\n      <PageHeader\r\n        title=\"HRIS API Data Viewer\"\r\n        subtitle=\"View and explore synchronized HRIS data\"\r\n        icon=\"bi-cloud-download\"\r\n        onBack={onBack}\r\n        actions={\r\n          <button \r\n            className=\"btn btn-outline-primary refresh-btn\"\r\n            onClick={refreshData}\r\n            disabled={loading}\r\n          >\r\n            <i className=\"bi bi-arrow-clockwise\"></i>\r\n            Refresh\r\n          </button>\r\n        }\r\n      />\r\n\r\n      <div className=\"api-tabs\">\r\n        <button\r\n          className={`tab-btn ${activeTab === 'divisions' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('divisions')}\r\n        >\r\n          <i className=\"bi bi-building\"></i>\r\n          Divisions\r\n        </button>\r\n        <button\r\n          className={`tab-btn ${activeTab === 'sections' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('sections')}\r\n        >\r\n          <i className=\"bi bi-diagram-3\"></i>\r\n          Sections\r\n        </button>\r\n        <button\r\n          className={`tab-btn ${activeTab === 'employees' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('employees')}\r\n        >\r\n          <i className=\"bi bi-people\"></i>\r\n          Employees\r\n        </button>\r\n        <button\r\n          className={`tab-btn ${activeTab === 'individual-attendance' ? 'active' : ''}`}\r\n          onClick={openIndividualAttendance}\r\n        >\r\n          <i className=\"bi bi-person-lines-fill\"></i>\r\n          Individual Attendance\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"api-content\">\r\n        {error && (\r\n          <div className={`alert ${error.includes('') ? 'alert-warning' : 'alert-danger'}`}>\r\n            <i className={`bi ${error.includes('') ? 'bi-exclamation-triangle' : 'bi-exclamation-circle'}`}></i>\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {loading ? (\r\n          <div className=\"loading-container\">\r\n            <div className=\"spinner-border text-primary\" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n            <p>Fetching data from HRIS API...</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {activeTab === 'divisions' && renderDivisions()}\r\n            {activeTab === 'sections' && renderSections()}\r\n            {activeTab === 'employees' && renderEmployees()}\r\n            {activeTab === 'individual-attendance' && renderIndividualAttendance()}\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"api-stats\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-value\">{divisions.length}</div>\r\n          <div className=\"stat-label\">Divisions</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-value\">\r\n            {sections.length}\r\n            {selectedDivision !== 'all' && allSections.length > 0 && (\r\n              <small style={{ fontSize: '0.6em', display: 'block' }}>\r\n                of {allSections.length}\r\n              </small>\r\n            )}\r\n          </div>\r\n          <div className=\"stat-label\">Sections</div>\r\n        </div>\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-value\">\r\n            {employees.length}\r\n            {(selectedEmployeeDivision !== 'all' || selectedSection !== 'all') && allEmployees.length > 0 && (\r\n              <small style={{ fontSize: '0.6em', display: 'block' }}>\r\n                of {allEmployees.length}\r\n              </small>\r\n            )}\r\n          </div>\r\n          <div className=\"stat-label\">Employees</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApiDataViewer;"],"names":["_ref","title","subtitle","icon","actions","onBack","_jsxs","_Fragment","children","className","onClick","style","marginBottom","background","color","border","width","padding","_jsx","fontWeight","src","logo","alt","divisions","setDivisions","useState","sections","setSections","employees","setEmployees","loading","setLoading","activeTab","setActiveTab","error","setError","allSections","setAllSections","selectedDivision","setSelectedDivision","allEmployees","setAllEmployees","selectedEmployeeDivision","setSelectedEmployeeDivision","selectedSection","setSelectedSection","availableSections","setAvailableSections","showEmployeeJson","setShowEmployeeJson","showDivisionJson","setShowDivisionJson","showSectionJson","setShowSectionJson","attendanceFromDate","setAttendanceFromDate","d","Date","setDate","getDate","formatDateYmd","attendanceToDate","setAttendanceToDate","periodPreset","setPeriodPreset","attendanceLoading","setAttendanceLoading","attendanceError","setAttendanceError","attendanceRecords","setAttendanceRecords","attendanceSummary","setAttendanceSummary","selectedAttendanceEmployee","setSelectedAttendanceEmployee","selectedIADivision","setSelectedIADivision","selectedIASection","setSelectedIASection","rawDivisions","setRawDivisions","rawSections","setRawSections","rawEmployees","setRawEmployees","API_BASE_URL","process","pad","n","String","padStart","getFullYear","getMonth","parseHrisDate","value","asNum","Number","isNaN","trim","$date","v","$numberLong","_","isColomboString","s","toLowerCase","includes","isColomboEmployeeRaw","row","_row$currentwork","DIVISION_NAME","HIE_NAME_3","currentwork","division_name","divisionName","isColomboEmployeeNormalized","e","divisionHierarchyName","normalizeTextKey","replace","normalizeDivisions","data","arguments","length","undefined","out","seen","Set","forEach","_ref2","_ref3","_ref4","_ref5","_ref6","_d$_id","_ref7","_ref8","_ref9","_ref0","_d$code","_ref1","_ref10","_ref11","_d$name","_d$def_level","_ref12","_d$isActive","id","_id","DIVISION_ID","code","hie_code","DIVISION_CODE","has","add","push","name","hie_name","hie_relationship","def_level","DEF_LEVEL","isActive","active","sort","a","b","localeCompare","normalizeSections","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_s$_id","_ref19","_ref20","_ref21","_ref22","_s$division_id","_ref23","_ref24","_ref25","_s$code","_ref26","_ref27","_ref28","_s$name","_ref29","_s$division_code","_ref30","_s$division_name","_s$def_level","_ref31","_s$isActive","SECTION_ID","SECTION_CODE","section_code","divisionId","division_id","division_code","section_name","SECTION_NAME","divisionCode","normalizeEmployees","_ref42","_ref43","_e$EMP_NUMBER","_ref44","_ref45","_e$HIE_NAME_","_e$currentwork","_e$currentwork2","_ref46","_ref47","_e$HIE_NAME_2","_e$currentwork3","_e$currentwork4","_ref48","_ref49","_e$FULLNAME","_ref50","_ref51","_e$CALLING_NAME","_ref52","_e$DESIGNATION","_ref53","_e$NIC","_ref54","_ref55","_ref56","_e$DIVISION_ID","_ref57","_e$DIVISION_CODE","_ref58","_ref59","_e$DIVISION_NAME","_ref60","_ref61","_ref62","_e$SECTION_ID","_ref63","_e$SECTION_CODE","_ref64","_ref65","_e$SECTION_NAME","_ref66","_e$GENDER","_ref67","_e$STATUS","_ref68","_e$DATE_OF_BIRTH","_ref69","_e$DATE_OF_JOINING","empNumber","EMP_NUMBER","hie3","hie_name_3","hie4","HIE_NAME_4","hie_name_4","fullName","FULLNAME","callingName","CALLING_NAME","calling_name","preferredName","designation","DESIGNATION","nic","NIC","sectionId","section_id","sectionCode","sectionName","gender","GENDER","status","STATUS","dateOfBirth","DATE_OF_BIRTH","date_of_birth","dob","dateOfJoining","DATE_OF_JOINING","date_of_joining","doj","sectionHierarchyName","buildDivisionMaps","codeToId","Map","nameToId","idToName","set","getEmployeeDivisionDisplay","getEmployeeDivisionKey","maps","_maps$idToName","_maps$codeToId","_maps$nameToId","get","filterSectionsByDivision","divisionFilter","sourceSections","filtered","filter","section","fetchDivisions","async","response","axios","success","apiRows","normalized","fallback","message","_error$response","console","fetchSections","sectionData","_error$response2","fetchAllData","requests","employeeResponse","sectionResponse","divisionResponse","Promise","all","normalizedDivisions","prev","filteredApiRows","normalizedEmployees","_error$response3","useEffect","handleDivisionChange","event","selectedDiv","target","getUniqueDivisions","getEmployeeDivisions","counts","key","result","map","count","extra","r","k","ex","find","x","buckets","existing","Array","from","values","deriveSectionsForDivision","divisionKey","startsWith","slice","byDivision","unique","employeeSections","employeeSeen","emp","employee","sectionKey","now","to","handleEmployeeDivisionChange","handleSectionChange","selectedSec","sectionsForDivision","autoSelectedDivisionRef","useRef","autoSelectedSectionRef","current","sec","selObj","selNameKey","empNameKey","fetchAttendanceForEmployee","payload","report_type","employee_id","from_date","to_date","resp","post","_resp$data","summary","_error$response5","_error$response5$data","PageHeader","refreshData","disabled","openIndividualAttendance","role","JSON","stringify","countsByDivName","idx","_ref78","_ref79","_row$_id","_ref80","_row$_id2","_ref81","_ref82","_row$name","_row$status","idVal","nameVal","statusVal","empCount","renderSections","_getUniqueDivisions$f","htmlFor","onChange","display","division","filteredRaw","rs","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_s$_id2","_ref38","_ref39","_ref40","_ref41","_s$division_id2","normalizeSectionMeta","sectionCounts","idKey","codeKey","nameKey","renderEmployees","_getEmployeeDivisions","_availableSections$fi","_attendanceSummary$to","divisionSelected","employeesInSelectedDivision","sectionEmployeeCounts","keyId","keyCode","keyName","divisionMap","sectionMap","minWidth","type","meta","_ref70","_ref71","_e$EMP_NUMBER2","_ref72","_ref73","_ref74","_e$DIVISION_ID2","_ref75","_ref76","_ref77","_e$SECTION_ID2","normalizeEmployeeMeta","_row$currentwork2","rowSecName","rowNameKey","total_records","rec","date_","time_","scan_type","attendance_id","employee_ID","colSpan","renderIndividualAttendance","_attendanceSummary$to2","divisionOptions","placeholder","onKeyDown","fontSize"],"sourceRoot":""}