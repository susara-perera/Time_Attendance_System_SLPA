{"version":3,"file":"static/js/723.5422c8fc.chunk.js","mappings":"8KAYA,MA0CA,EA1CmBA,IAA+D,IAA9D,MAAEC,EAAK,SAAEC,EAAQ,KAAEC,EAAO,YAAW,QAAEC,EAAO,OAAEC,GAAQL,EAC1E,OACEM,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACGH,IACCC,EAAAA,EAAAA,MAAA,UACEG,UAAU,iBACVC,QAASL,EACTJ,MAAM,oBACNU,MAAO,CAAEC,aAAc,OAAQC,WAAY,cAAeC,MAAO,UAAWC,OAAQ,gCAAiCC,MAAO,OAAQC,QAAS,YAAaT,SAAA,EAE1JU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,qBAAuB,QAAMS,EAAAA,EAAAA,KAAA,QAAMP,MAAO,CAAEQ,WAAY,KAAMX,SAAC,aAGhFF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,sBAAqBD,SAAA,EAClCF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,mBAAkBD,SAAA,EAC/BU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,mBAAkBD,UAC/BU,EAAAA,EAAAA,KAAA,KAAGT,UAAW,MAAMN,SAEtBG,EAAAA,EAAAA,MAAA,OAAKG,UAAU,mBAAkBD,SAAA,EAC/BU,EAAAA,EAAAA,KAAA,MAAAV,SAAKP,IACJC,IAAYgB,EAAAA,EAAAA,KAAA,KAAAV,SAAIN,WAGvBI,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,CAC/BJ,IAAWc,EAAAA,EAAAA,KAAA,OAAKT,UAAU,sBAAqBD,SAAEJ,KAClDc,EAAAA,EAAAA,KAAA,OAAKT,UAAU,mBAAkBD,UAC/BU,EAAAA,EAAAA,KAAA,OAAKE,IAAKC,EAAMC,IAAI,0BAK1BhB,EAAAA,EAAAA,MAAA,OAAKG,UAAU,yBAAwBD,SAAA,EACrCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,2CACfS,EAAAA,EAAAA,KAAA,OAAKT,UAAU,2CACfS,EAAAA,EAAAA,KAAA,OAAKT,UAAU,mD,2CCtBvB,IAAIc,EAAiB,KAGrB,MAAMC,EAAoBA,KACnBD,IACHA,EAAiBE,SAASC,cAAc,OACxCH,EAAeI,GAAK,yBACpBJ,EAAed,UAAY,yBAC3BgB,SAASG,KAAKC,YAAYN,IAErBA,GAIHO,EAAaA,IAAM,SAASC,KAAKC,SAASC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,KAG/EC,EAAWC,IACf,MAAMC,EAAQ,CACZC,QAAS,uBACTC,MAAO,mBACPC,QAAS,+BACTC,KAAM,sBACNC,SAAU,2BAEZ,OAAOL,EAAMD,IAASC,EAAMI,MAYjBE,EAAkB7C,IAMxB,IANyB,KAC9BsC,EAAO,OAAM,MACbrC,EAAQ,GAAE,QACV6C,EAAU,GAAE,SACZC,EAAW,IAAI,aACfC,GAAe,GAChBhD,EACC,MAAMiD,EAAYzB,IACZ0B,EAAUpB,IAEVqB,EAAU1B,SAASC,cAAc,OAkCvC,GAjCAyB,EAAQxB,GAAKuB,EACbC,EAAQ1C,UAAY,6BAA6B6B,uBAEjDa,EAAQC,UAAY,yGAGCf,EAAQC,0EAGrBrC,EAAQ,mCAAmCA,UAAgB,iDACzB6C,qOAS1CG,EAAUpB,YAAYsB,GAGtBE,WAAW,KACTF,EAAQG,UAAUC,OAAO,sBACzBJ,EAAQG,UAAUE,IAAI,wBACrB,IAGCR,GAAyB,YAATV,GAClBmB,IAIEV,EAAW,EAAG,CAChB,MAAMW,EAAcP,EAAQQ,cAAc,0BACtCD,IACFA,EAAY/C,MAAMiD,kBAAoB,GAAGb,OAG3CM,WAAW,KACTQ,EAAYX,IACXH,EACL,CAEA,OAAOG,GAQIY,EAAoBC,IAO1B,IAP2B,MAChC9D,EAAQ,UAAS,QACjB6C,EAAU,gBAAe,YACzBkB,EAAc,UAAS,WACvBC,EAAa,SAAQ,KACrB3B,EAAO,UAAS,SAChB4B,GAAW,GACZH,EACC,OAAO,IAAII,QAASC,IAClB,MAAMnB,EAAYzB,IACZ6C,EAAWvC,IAEXwC,EAAU7C,SAASC,cAAc,OACvC4C,EAAQ3C,GAAK0C,EACbC,EAAQ7D,UAAY,4CAEpB6D,EAAQlB,UAAY,mDACwBd,+DAEpC4B,EAAW,8EAEM7B,EAAiB,WAATC,EAAoB,QAAUA,2CAErD,+FAEgCrC,wDACC6C,8NAMjCmB,6FAEsD3B,0FAEtD0B,6DAMVf,EAAUpB,YAAYyC,GAGtBjB,WAAW,KACTiB,EAAQhB,UAAUC,OAAO,uBACzBe,EAAQhB,UAAUE,IAAI,yBACrB,IAGHc,EAAQC,iBAAiB,QAAUC,IACjC,GAAIA,EAAEC,OAAOC,QAAQ,iBAAkB,CACrC,MAAMC,EAASH,EAAEC,OAAOC,QAAQ,iBAAiBE,QAAQD,OACzDE,EAAaR,GACbD,EAAmB,YAAXO,EACV,MAAWH,EAAEC,SAAWH,IAEtBO,EAAaR,GACbD,GAAQ,SA6CVP,EAAeX,IACnB,MAAM4B,EAAQrD,SAASsD,eAAe7B,GAClC4B,IACFA,EAAMxB,UAAUC,OAAO,uBACvBuB,EAAMxB,UAAUE,IAAI,qBACpBH,WAAW,KACTyB,EAAMvB,UACL,OAODsB,EAAgBR,IACpB,MAAMW,EAASvD,SAASsD,eAAeV,GACnCW,IACFA,EAAO1B,UAAUC,OAAO,wBACxByB,EAAO1B,UAAUE,IAAI,sBACrBH,WAAW,KACT2B,EAAOzB,UACN,OAcDE,EAAkBA,KACtB,MACMR,EAAYxB,SAASG,KAE3B,IAAK,IAAIqD,EAAI,EAAGA,EAHM,GAGaA,IAAK,CACtC,MAAMC,EAAWzD,SAASC,cAAc,OACxCwD,EAASzE,UAAY,WACrByE,EAASvE,MAAMwE,KAA0B,IAAhBlD,KAAKC,SAAR,IACtBgD,EAASvE,MAAMyE,eAAoC,GAAhBnD,KAAKC,SAAR,IAChCgD,EAASvE,MAAM0E,gBAAkBC,IACjCrC,EAAUpB,YAAYqD,GAEtB7B,WAAW,IAAM6B,EAAS3B,SAAU,IACtC,GAGI+B,EAAiBA,KACrB,MAAMC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAClF,OAAOA,EAAOtD,KAAKuD,MAAMvD,KAAKC,SAAWqD,EAAOE,S,8GClRlD,MAgpCA,EAhpCuBzF,IAAiB,IAAhB,OAAEK,GAAQL,EAChC,MAAO0F,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAcC,IAAmBJ,EAAAA,EAAAA,WAAS,IAC1CK,EAAaC,IAAkBN,EAAAA,EAAAA,UAAS,OACxCO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,CACvCS,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,WAAY,GACZC,KAAM,GACNC,SAAU,GACVC,gBAAiB,GACjBC,MAAO,GACPC,SAAU,GACVC,QAAS,GACTC,WAAY,MAEPC,EAAWC,IAAgBrB,EAAAA,EAAAA,UAAS,KACpCsB,EAAUC,IAAevB,EAAAA,EAAAA,UAAS,KAClCwB,EAAmBC,IAAwBzB,EAAAA,EAAAA,UAAS,KACpD0B,EAAaC,IAAkB3B,EAAAA,EAAAA,UAAS,KACxC4B,EAAsBC,IAA2B7B,EAAAA,EAAAA,UAAS,KAC1D8B,EAAOC,IAAY/B,EAAAA,EAAAA,UAAS,IAC7BgC,GAAeC,EAAAA,EAAAA,GAAc,QAAS,QACtCC,GAAgBD,EAAAA,EAAAA,GAAc,QAAS,UACvCE,GAAgBF,EAAAA,EAAAA,GAAc,QAAS,WAErCG,KAAMC,KADQJ,EAAAA,EAAAA,GAAc,QAAS,WACfK,EAAAA,EAAAA,YAAWC,EAAAA,KACnC,EAAEC,IAAMC,EAAAA,EAAAA,MAGRC,EAAyBC,MAExBN,GAAoC,gBAArBA,EAAYxB,QAIzB8B,IAAWN,EAAYO,KAAOD,IAAWN,EAAYtG,IAIxD8G,EAAmBC,IACvB,IAAKA,EAAY,MAAO,MACxB,MAAMC,EAAQC,OAAOF,GACf7B,EAAWG,EAAU6B,KAAKC,KACzBA,GACE,CAACA,EAAIN,IAAKM,EAAInH,IAAIoH,KAAKC,QAAWC,IAAND,GAAmBJ,OAAOI,KAAOL,IAEtE,OAAO9B,EAAYA,EAASqC,MAAQ,mBAAsB,OAItDC,EAAkBC,IACtB,IAAKA,EAAW,MAAO,MACvB,MAAMT,EAAQC,OAAOQ,GACftC,EAAUI,EAAS2B,KAAKQ,KACvBA,GACE,CAACA,EAAIb,IAAKa,EAAI1H,IAAIoH,KAAKC,QAAWC,IAAND,GAAmBJ,OAAOI,KAAOL,IAEtE,OAAO7B,EAAWA,EAAQoC,MAAQ,kBAAqB,OAInDI,EAAqBJ,IACzB,IAAKA,EAAM,MAAO,GAElB,IAAIK,EAAUX,OAAOM,GAAMM,QAAQ,gBAAiB,IAAIC,OAGxD,OADAF,EAAUA,EAAQC,QAAQ,WAAY,IAAIC,OACnCF,IAGTG,EAAAA,EAAAA,WAAU,KAEUC,WAChB,IACE,MAAMC,EAAQC,aAAaC,QAAQ,SAC7BC,EAAeC,8BAGrB,IACE,MAAMC,QAAsBC,MAAM,GAAGH,UAAsB,CACzDI,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,sBAIpB,GAAIK,EAAcG,GAAI,CACpB,MAAMC,QAAkBJ,EAAcK,OACtCC,QAAQC,IAAI,sBAAuBH,GAGnC,MAGMI,GAHQJ,EAAU3E,OAAS2E,EAAUK,MAAQ,IAGzBC,IAAI3C,IAC5BuC,QAAQC,IAAI,gBAAiBxC,GAG7B,MAAMU,EAAaV,EAAKU,YAAc,KAChCU,EAAYpB,EAAKoB,WAAa,KAC9BwB,EAAe5C,EAAK4C,cAAgB,KAEpCC,EAAe7C,EAAK6C,cAAgB,GACpCC,EAAiB9C,EAAK+C,aAAe,GACrCA,EAAczB,EAAkBwB,GAChCE,EAAiBhD,EAAKgD,gBAAkB,GAE9C,MAAO,CACLrJ,GAAIqG,EAAKQ,KAAOR,EAAKrG,GACrB0E,UAAW2B,EAAK3B,WAAa,GAC7BC,SAAU0B,EAAK1B,UAAY,GAC3BC,MAAOyB,EAAKzB,OAAS,GACrBE,KAAMuB,EAAKvB,MAAQ,WACnBD,WAAYwB,EAAKxB,YAAc,GAC/ByE,QAA0B,IAAlBjD,EAAKkD,SAAqB,SAAW,WAC7CrE,SAAU6B,EACV5B,QAASsC,EACTrC,WAAY6D,EACZC,aAAcA,EACdE,YAAaA,EACbC,eAAgBA,EAEhBG,gBAAiBN,GAAgB,MACjCO,eAAgBL,GAAe,MAC/BM,kBAAmBL,GAAkB,SAIzCT,QAAQC,IAAI,gBAAiBC,GAC7B9E,EAAS8E,EACX,KAAO,CACLF,QAAQ9H,MAAM,iCAAkCwH,EAAcgB,QAC9D,MAAMK,QAAkBrB,EAAcsB,OACtChB,QAAQ9H,MAAM,kBAAmB6I,GACjC3F,EAAS,GACX,CACF,CAAE,MAAO6F,GACPjB,QAAQ9H,MAAM,wBAAyB+I,GACvC7F,EAAS,GACX,CAGA,IACE,MAAM8F,QAA0BvB,MAAM,GAAGH,yBAAqC,CAC5EI,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,sBAIpB,GAAI6B,EAAkBrB,GAAI,CACxB,MAAMsB,QAAsBD,EAAkBnB,OAC9CC,QAAQC,IAAI,+BAAgCkB,GAG5C,MAAMC,EAAeD,EAAchB,MAAQgB,GAAiB,GAC5DnB,QAAQC,IAAI,iBAAkBmB,EAAalG,QAG3C,MAAMmG,EAAsBD,EAAahB,IAAIkB,IAAC,CAC5CrD,IAAKqD,EAAErD,KAAOqD,EAAElK,IAAMkK,EAAEC,UAAYD,EAAEE,KACtCpK,GAAIkK,EAAErD,KAAOqD,EAAElK,IAAMkK,EAAEC,UAAYD,EAAEE,KACrCA,KAAMF,EAAEE,MAAQF,EAAEC,UAAYD,EAAEG,UAAYH,EAAErD,KAAOqD,EAAElK,GACvDuH,KAAM2C,EAAE3C,MAAQ2C,EAAEI,UAAYJ,EAAEK,UAAYL,EAAEM,kBAAoB,mBAClEA,iBAAkBN,EAAEM,kBAAoBN,EAAEO,iBAC1ClB,UAAyB,IAAfW,EAAEX,YACVmB,KAAK,CAACC,EAAGC,IAAMD,EAAEpD,KAAKsD,cAAcD,EAAErD,OAE1CqB,QAAQC,IAAI,wBAAyBoB,GACrC3E,EAAa2E,EACf,KAAO,CACLrB,QAAQ9H,MAAM,qCAAsCgJ,EAAkBR,QACtE,MAAMK,QAAkBG,EAAkBF,OAC1ChB,QAAQ9H,MAAM,4BAA6B6I,GAC3CrE,EAAa,GACf,CACF,CAAE,MAAOwF,GACPlC,QAAQ9H,MAAM,4BAA6BgK,GAC3CxF,EAAa,GACf,CAGA,IACE,MAAMyF,QAAyBxC,MAAM,GAAGH,wBAAoC,CAC1EI,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,sBAIpB,GAAI8C,EAAiBtC,GAAI,CACvB,MAAMuC,QAAqBD,EAAiBpC,OAC5CC,QAAQC,IAAI,8BAA+BmC,GAG3C,MAAMC,EAAcD,EAAajC,MAAQiC,GAAgB,GACzDpC,QAAQC,IAAI,gBAAiBoC,EAAYnH,QAOzC,MAAMoH,EAAqBD,EAAYjC,IAAImC,IAAC,CAC1CtE,IAAKsE,EAAEtE,KAAOsE,EAAEnL,IAAMmL,EAAEhB,UAAYgB,EAAEf,KACtCpK,GAAImL,EAAEtE,KAAOsE,EAAEnL,IAAMmL,EAAEhB,UAAYgB,EAAEf,KACrCA,KAAMe,EAAEf,MAAQe,EAAEhB,UAAYgB,EAAEd,UAAYc,EAAEC,cAAgBD,EAAEtE,KAAOsE,EAAEnL,GACzEuH,KAAM4D,EAAE5D,MAAQ4D,EAAEb,UAAYa,EAAEZ,UAAYY,EAAEE,cAAgB,WAAWF,EAAEf,OAE3EkB,aAAcH,EAAEI,eAAiBJ,EAAEV,kBAAoBU,EAAEG,cAAgB,GACzEvE,WAAYoE,EAAEK,aAAeL,EAAEpE,YAAc,GAE7CmC,aAAciC,EAAEM,eAAiBN,EAAEjC,cAAgB,GACnDsB,iBAAkBW,EAAEX,kBAAoBW,EAAEV,kBAAoBU,EAAEI,eAAiB,GACjFhC,UAAyB,IAAf4B,EAAE5B,YACVmB,KAAK,CAACC,EAAGC,IAAMD,EAAEpD,KAAKsD,cAAcD,EAAErD,OAE1CqB,QAAQC,IAAI,uBAAwBqC,GACpC1F,EAAY0F,EACd,KAAO,CACLtC,QAAQ9H,MAAM,oCAAqCiK,EAAiBzB,QACpE,MAAMK,QAAkBoB,EAAiBnB,OACzChB,QAAQ9H,MAAM,2BAA4B6I,GAC1CnE,EAAY,GACd,CACF,CAAE,MAAOkG,GACP9C,QAAQ9H,MAAM,2BAA4B4K,GAC1ClG,EAAY,GACd,CAGA,IACE,MAAMmG,QAA4BpD,MAAM,GAAGH,2BAAuC,CAChFI,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,sBAIpB,GAAI0D,EAAoBlD,GAAI,CAC1B,MAAMmD,QAAwBD,EAAoBhD,OAClDC,QAAQC,IAAI,4BAA6B+C,GAGzC,MAAMC,EAAiBD,EAAgB7C,MAAQ6C,GAAmB,GAClEhD,QAAQC,IAAI,mBAAoBgD,EAAe/H,QAG/C,MAAMgI,EAAwBD,EAAe7C,IAAI+C,IAAG,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,MAAK,CACvD1F,IAAKkF,EAAIlF,KAAOkF,EAAI/L,IAAM+L,EAAIS,SAC9BxM,GAAI+L,EAAIlF,KAAOkF,EAAI/L,IAAM+L,EAAIS,SAC7BpC,MAAoB,QAAd4B,EAAAD,EAAIU,kBAAU,IAAAT,OAAA,EAAdA,EAAgBU,eAAgBX,EAAIS,UAAYT,EAAI3B,MAAQ2B,EAAIlF,IACtEU,MAAoB,QAAd0E,EAAAF,EAAIU,kBAAU,IAAAR,OAAA,EAAdA,EAAgBU,eAAgBZ,EAAIa,UAAYb,EAAIxE,MAAQ,cAAcwE,EAAI3B,OACpF3C,WAA4B,QAAjByE,EAAAH,EAAIc,qBAAa,IAAAX,OAAA,EAAjBA,EAAmBlM,KAAM+L,EAAIe,YAAcf,EAAIX,cAAgB,GAC1E2B,aAA8B,QAAjBZ,EAAAJ,EAAIc,qBAAa,IAAAV,OAAA,EAAjBA,EAAmB9B,WAAY0B,EAAIX,cAAgB,GAChEhC,aAA8B,QAAjBgD,EAAAL,EAAIc,qBAAa,IAAAT,OAAA,EAAjBA,EAAmB7B,WAAYwB,EAAIV,cAAgB,GAChEtE,YAA8B,QAAlBsF,EAAAN,EAAIiB,sBAAc,IAAAX,OAAA,EAAlBA,EAAoBrM,KAAM+L,EAAIP,aAAeO,EAAIR,eAAiB,GAC9ED,cAAgC,QAAlBgB,EAAAP,EAAIiB,sBAAc,IAAAV,OAAA,EAAlBA,EAAoBf,gBAAiBQ,EAAIR,eAAiB,GACxErC,cAAgC,QAAlBqD,EAAAR,EAAIiB,sBAAc,IAAAT,OAAA,EAAlBA,EAAoBd,gBAAiBM,EAAIN,eAAiB,GACxElC,UAA2B,IAAjBwC,EAAIxC,YACZmB,KAAK,CAACC,EAAGC,IAAMD,EAAEpD,KAAKsD,cAAcD,EAAErD,OAE1CqB,QAAQC,IAAI,0BAA2BiD,GACvClG,EAAekG,EACjB,KAAO,CACLlD,QAAQ9H,MAAM,uCAAwC6K,EAAoBrC,QAC1E,MAAMK,QAAkBgC,EAAoB/B,OAC5ChB,QAAQ9H,MAAM,8BAA+B6I,GAC7C/D,EAAe,GACjB,CACF,CAAE,MAAOqH,GACPrE,QAAQ9H,MAAM,8BAA+BmM,GAC7CrH,EAAe,GACjB,CAGA,IACE,MAAMsH,QAAsB3E,MAAM,GAAGH,UAAsB,CACzDI,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,sBAIpB,GAAIiF,EAAczE,GAAI,CACpB,MAAM0E,QAAkBD,EAAcvE,OACtCC,QAAQC,IAAI,sBAAuBsE,GAGnC,MAAMpH,EAAQoH,EAAUpE,MAAQoE,GAAa,GAC7CvE,QAAQC,IAAI,iBAAkB9C,GAC9BC,EAASD,EACX,KAAO,CACL6C,QAAQ9H,MAAM,iCAAkCoM,EAAc5D,QAC9D,MAAMK,QAAkBuD,EAActD,OACtChB,QAAQ9H,MAAM,wBAAyB6I,GACvC3D,EAAS,GACX,CACF,CAAE,MAAOoH,GACPxE,QAAQ9H,MAAM,wBAAyBsM,GACvCpH,EAAS,GACX,CAEA7B,GAAW,EAEb,CAAE,MAAOrD,GACP8H,QAAQ9H,MAAM,uBAAwBA,GACtCqD,GAAW,EACb,GAGFkJ,IACC,KAGHtF,EAAAA,EAAAA,WAAU,KACR,IAAKvD,EAASU,SAEZ,YADAQ,EAAqB,IAKvB,MAAM4H,EAAmBjI,EAAU6B,KAAKgD,GAAKA,EAAE3C,OAAS/C,EAASU,UAC3DqI,GAAuC,OAAhBD,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBlD,OAAQ,GAEvDxB,QAAQC,IAAI,0BAA2BrE,EAASU,UAChD0D,QAAQC,IAAI,0BAA2B0E,GAGvC,MAAMC,EAAmBjI,EAASkI,OAAOtI,GAEb8B,OAAO9B,EAAQmG,cAAgBnG,EAAQqF,kBAAoB,MAGxD+C,GAG/B3E,QAAQC,IAAI,qBAAsB2E,EAAiB1J,QACnD4B,EAAqB8H,IACpB,CAAChJ,EAASU,SAAUK,EAAUF,KAGjC0C,EAAAA,EAAAA,WAAU,KACR,IAAKvD,EAASW,QAEZ,YADAW,EAAwB,IAK1B,MAAM4H,EAAkBjI,EAAkByB,KAAKiE,GAAKA,EAAE5D,OAAS/C,EAASW,SAClEwI,GAAqC,OAAfD,QAAe,IAAfA,OAAe,EAAfA,EAAiBtD,OAAQ,GAErDxB,QAAQC,IAAI,yBAA0BrE,EAASW,SAC/CyD,QAAQC,IAAI,yBAA0B8E,GAGtC,MAAMC,EAAsBjI,EAAY8H,OAAOrI,GAChB6B,OAAO7B,EAAW2H,aAAe3H,EAAWqC,WAAa,MACtDkG,GAGlC/E,QAAQC,IAAI,wBAAyB+E,EAAoB9J,QACzDgC,EAAwB8H,IACvB,CAACpJ,EAASW,QAASQ,EAAaF,IAKnC,MAsUMoI,EAAqBhL,IACzB,MAAM,KAAE0E,EAAI,MAAEuG,GAAUjL,EAAEC,OAC1B2B,EAAYsJ,GAEG,aAATxG,EACK,IACFwG,EACH,CAACxG,GAAOuG,EACR3I,QAAS,GACTC,WAAY,IAIH,YAATmC,EACK,IACFwG,EACH,CAACxG,GAAOuG,EACR1I,WAAY,IAGT,IACF2I,EACH,CAACxG,GAAOuG,KAKd,OAAI5J,GAEA3E,EAAAA,EAAAA,KAAA,OAAKT,UAAU,oBAAmBD,UAChCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,iBAAiBgG,KAAK,SAAQjG,UAC3CU,EAAAA,EAAAA,KAAA,QAAMT,UAAU,kBAAiBD,SAAE4H,EAAE,YAAc,mBAMtDR,GAkBHtH,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAE9BU,EAAAA,EAAAA,KAACyO,EAAAA,EAAU,CACT1P,MAAOmI,EAAE,kBACTlI,SAAS,6CACTC,KAAK,YACLE,OAAQA,EACRD,SACEE,EAAAA,EAAAA,MAAA,UACEG,UAAU,+BACVC,QAASoH,EAvYG8H,KACpBxJ,EAAY,CACVC,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,WAAY,GACZC,KAAM,GACNC,SAAU,GACVC,gBAAiB,GACjBC,MAAO,GACPC,SAAU,GACVC,QAAS,GACTC,WAAY,KAEdb,EAAe,MACfF,GAAgB,SAwXiCiD,EACzChJ,MAAmDmI,EAA3CN,EAA6C,UAA3B,uBAC1B+H,UAAW/H,EACXnH,MAAO,CAAEmP,OAAQhI,EAAgB,UAAY,eAAgBtH,SAAA,EAE7DU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,sBAAwB,kBAM3CH,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,mBAAkBD,UAC/BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,qBAAoBD,SAAA,EACnCU,EAAAA,EAAAA,KAAA,SAAAV,UACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEU,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,sBACPlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,cAAgB,UACvBlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,iBACPlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,gBACPlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,oBACPlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,mBACPlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,gBAAkB,YACzBlH,EAAAA,EAAAA,KAAA,MAAAV,SAAK4H,EAAE,iBAAmB,kBAG9BlH,EAAAA,EAAAA,KAAA,SAAAV,SACGkF,EAAMiF,IAAI3C,IAAI,IAAA+H,EAAAC,EAAA,OACb1P,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEU,EAAAA,EAAAA,KAAA,MAAAV,UAAIU,EAAAA,EAAAA,KAAA,UAAAV,SAASwH,EAAKxB,gBAClBtF,EAAAA,EAAAA,KAAA,MAAAV,SAAK,GAAGwH,EAAK3B,aAAa2B,EAAK1B,cAC/BpF,EAAAA,EAAAA,KAAA,MAAAV,SAAKwH,EAAKzB,SACVrF,EAAAA,EAAAA,KAAA,MAAAV,UACEU,EAAAA,EAAAA,KAAA,QAAMT,UAAW,mBAAmBuH,EAAKvB,KAAK+C,QAAQ,IAAK,OAAOhJ,SAC/DwH,EAAKvB,KAAK+C,QAAQ,IAAK,KAAKyG,mBAGjC/O,EAAAA,EAAAA,KAAA,MAAAV,SAAKwH,EAAKmD,iBAAmBnD,EAAK6C,eAA8B,QAAlBkF,EAAK/H,EAAKnB,gBAAQ,IAAAkJ,OAAA,EAAbA,EAAe7G,OAAST,EAAgBT,EAAKnB,WAAa,SAC7G3F,EAAAA,EAAAA,KAAA,MAAAV,SAAKwH,EAAKoD,gBAAkBpD,EAAK+C,cAA4B,QAAjBiF,EAAKhI,EAAKlB,eAAO,IAAAkJ,OAAA,EAAZA,EAAc9G,OAASC,EAAenB,EAAKlB,UAAY,SACxG5F,EAAAA,EAAAA,KAAA,MAAAV,UACEU,EAAAA,EAAAA,KAAA,QAAMT,UAAW,uBAAuBuH,EAAKiD,SAASzK,SACnDwH,EAAKiD,OAAOgF,mBAGjB/O,EAAAA,EAAAA,KAAA,MAAAV,UACEF,EAAAA,EAAAA,MAAA,OAAKK,MAAO,CAAEuP,QAAS,OAAQC,IAAK,OAAQ3P,SAAA,EAC1CU,EAAAA,EAAAA,KAAA,UACET,UAAU,+BACVC,QAASqH,EAAgB,IAravBC,KAEtB,MAAMoI,EAAgBpI,EAAK6C,cAAsC,QAAtB7C,EAAK6C,aAAyB7C,EAAK6C,aAAe,GACvFwF,EAAerI,EAAK+C,aAAoC,QAArB/C,EAAK+C,YAAwB/C,EAAK+C,YAAc,GAEzFR,QAAQC,IAAI,gBAAiBxC,GAC7BuC,QAAQC,IAAI,2BAA4B4F,GACxC7F,QAAQC,IAAI,0BAA2B6F,GAEvCjK,EAAY,CACVC,UAAW2B,EAAK3B,UAChBC,SAAU0B,EAAK1B,SACfC,MAAOyB,EAAKzB,MACZC,WAAYwB,EAAKxB,WACjBC,KAAMuB,EAAKvB,KACXC,SAAU,GACVC,gBAAiB,GACjBC,MAAOoB,EAAKpB,OAAS,GACrBC,SAAUuJ,EACVtJ,QAASuJ,IAEXnK,EAAe8B,GACfhC,GAAgB,IA+YmCsK,CAAetI,QAAQiB,EACtDhJ,MAAQ8H,EAAgD,YAAhC,8BACxB8H,UAAW9H,EACXpH,MAAO,CAAEM,QAAS,WAAYsP,SAAU,OAAQT,OAAQ/H,EAAgB,UAAY,eAAgBvH,UAEpGU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,oBAEfS,EAAAA,EAAAA,KAAA,UACET,UAAU,8BACVC,QAAS4H,EAAsBN,EAAKrG,IAAM,IArZvCgI,WASvB,SARwB7F,EAAAA,EAAAA,IAAkB,CACxC7D,MAAOmI,EAAE,sBAAwB,cACjCtF,QAAS,2EACTkB,YAAa,SACbC,WAAY,SACZ3B,KAAM,WAIN,IACE,MAAMsH,EAAQC,aAAaC,QAAQ,SAC7B0G,QAAiBtG,MAAM,mCAAmC3B,IAAU,CACxEkI,OAAQ,SACRtG,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,sBAIpB,GAAI4G,EAASpG,GACXzE,EAASD,EAAM0J,OAAOpH,GAAQA,EAAKrG,KAAO4G,KAC1C1F,EAAAA,EAAAA,IAAgB,CACdP,KAAM,UACNrC,MAAO,WACP6C,QAASsF,EAAE,uBAAyB,4BACpCrF,SAAU,UAEP,CACL,MAAMN,QAAc+N,EAASlG,QAC7BzH,EAAAA,EAAAA,IAAgB,CACdP,KAAM,QACNrC,MAAO,QACP6C,QAASL,EAAMK,SAAWsF,EAAE,gBAC5BrF,SAAU,KAEd,CACF,CAAE,MAAON,GACP8H,QAAQ9H,MAAM,uBAAwBA,IACtCI,EAAAA,EAAAA,IAAgB,CACdP,KAAM,QACNrC,MAAO,QACP6C,QAAS,2CACTC,SAAU,KAEd,GAwWkE2N,CAAiB1I,EAAKrG,SAAMsH,EAC5EhJ,MAAQqI,EAAsBN,EAAKrG,IAA2I,cAApIqG,EAAKrG,MAAkB,OAAXsG,QAAW,IAAXA,OAAW,EAAXA,EAAaO,MAAOR,EAAKrG,MAAkB,OAAXsG,QAAW,IAAXA,OAAW,EAAXA,EAAatG,IAAK,iCAAmC,gCAC3IkO,UAAWvH,EAAsBN,EAAKrG,IACtChB,MAAO,CAAEM,QAAS,WAAYsP,SAAU,OAAQT,OAAQxH,EAAsBN,EAAKrG,IAAM,UAAY,eAAgBnB,UAErHU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,yBAlCZuH,EAAKrG,aA4CA,IAAjB+D,EAAMD,SACTvE,EAAAA,EAAAA,KAAA,OAAKT,UAAU,UAASD,UACtBU,EAAAA,EAAAA,KAAA,KAAAV,SAAI4H,EAAE,uBAMXrC,IACC7E,EAAAA,EAAAA,KAAA,OAAKT,UAAU,qBAAqBC,QAASA,IAAMsF,GAAgB,GAAOxF,UACxEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAqBC,QAAU8D,GAAMA,EAAEmM,kBAAkBnQ,SAAA,EAEtEU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,qCAGfH,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,4BAA2BD,SAAA,EACxCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,0BAAyBD,UACtCU,EAAAA,EAAAA,KAAA,KAAGT,UAAW,OAAMwF,EAAc,iBAAmB,4BAEvD3F,EAAAA,EAAAA,MAAA,OAAKG,UAAU,yBAAwBD,SAAA,EACrCU,EAAAA,EAAAA,KAAA,MAAIT,UAAU,mBAAkBD,SACf4H,EAAdnC,EAAgB,WAAgB,iBAEnC/E,EAAAA,EAAAA,KAAA,QAAMT,UAAU,sBAAqBD,SAClCyF,EAAc,0CAA4C,qCAIjE/E,EAAAA,EAAAA,KAAA,UACET,UAAU,uBACVC,QAASA,IAAMsF,GAAgB,GAC/B1D,KAAK,SAAQ9B,UAEbU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,qBAKjBH,EAAAA,EAAAA,MAAA,QAAMsQ,SA1ZKjH,UAGnB,GAFAnF,EAAEqM,iBAEG/I,GAAkB7B,EAWvB,GAAKA,GAAeE,EAASO,WAAaP,EAASQ,gBAWnD,GAAKR,EAASE,WAAcF,EAASG,UAAaH,EAASI,OAAUJ,EAASK,YAAeL,EAASM,KAUtG,GAAKR,GAAgBE,EAASO,SAU9B,IACE,MAAMkD,EAAQC,aAAaC,QAAQ,SAGnC,IAAIgH,EAAiB,KACjBC,EAAgB,KAChBC,EAAmB,KAEvBzG,QAAQC,IAAI,wCAA+BxD,GAC3CuD,QAAQC,IAAI,gDAAuCrE,EAASU,UAExDV,EAASU,WACXiK,EAAiB9J,EAAU6B,KAAKgD,GAAKA,EAAE3C,OAAS/C,EAASU,UACzD0D,QAAQC,IAAI,8CAAqCsG,IAG/C3K,EAASW,UACXiK,EAAgB7J,EAAS2B,KAAKiE,GAAKA,EAAE5D,OAAS/C,EAASW,SACvDyD,QAAQC,IAAI,6CAAoCuG,IAG9C5K,EAASY,aACXiK,EAAmB1J,EAAYuB,KAAKiE,GAAKA,EAAE5D,OAAS/C,EAASY,YAC7DwD,QAAQC,IAAI,gDAAuCwG,IAGrD,MAAMC,EAAW,CACf5K,UAAWF,EAASE,UACpBC,SAAUH,EAASG,SACnBC,MAAOJ,EAASI,MAChBC,WAAYL,EAASK,WACrBC,KAAMN,EAASM,KACfG,MAAOT,EAASS,MAChBC,SAAUiK,EACVhK,QAASiK,EACThK,WAAYiK,GAWd,IAAIR,EAuBJ,GA/BAjG,QAAQC,IAAI,4CAAmCyG,GAE1ChL,EAEME,EAASO,WAClBuK,EAASvK,SAAWP,EAASO,UAF7BuK,EAASvK,SAAWP,EAASO,SAQ7B8J,EAFEvK,QAEeiE,MAAM,mCAAmCjE,EAAYtE,KAAM,CAC1E8O,OAAQ,MACRtG,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,oBAElBhI,KAAMsP,KAAKC,UAAUF,WAIN/G,MAAM,kCAAmC,CACxDuG,OAAQ,OACRtG,QAAS,CACP,cAAiB,UAAUP,IAC3B,eAAgB,oBAElBhI,KAAMsP,KAAKC,UAAUF,KAIrBT,EAASpG,GAAI,CACf,MAAMgH,QAAeZ,EAASlG,OAC9BC,QAAQC,IAAI,gCAAuB4G,GACnC,MAAMC,EAAeD,EAAOpJ,MAAQoJ,EAAO1G,MAAQ,KACnDH,QAAQC,IAAI,mCAA0B6G,GAGtC,MAAMC,EAAiBC,IACrB,IAAKA,EAAG,OAAO,KAEfhH,QAAQC,IAAI,6CAAoC+G,GAGhD,MAAM7I,EAAa6I,EAAE7I,YAAc,KAC7BU,EAAYmI,EAAEnI,WAAa,KAC3BwB,EAAe2G,EAAE3G,cAAgB,KAEjCC,EAAe0G,EAAE1G,cAAgB,GACjCC,EAAiByG,EAAExG,aAAe,GAClCA,EAAczB,EAAkBwB,GAChCE,EAAiBuG,EAAEvG,gBAAkB,GAErCwG,EAAa,CACjB7P,GAAI4P,EAAE/I,KAAO+I,EAAE5P,GACf0E,UAAWkL,EAAElL,WAAa,GAC1BC,SAAUiL,EAAEjL,UAAY,GACxBC,MAAOgL,EAAEhL,OAAS,GAClBE,KAAM8K,EAAE9K,MAAQ,WAChBD,WAAY+K,EAAE/K,YAAc,GAC5ByE,QAAuB,IAAfsG,EAAErG,SAAqB,SAAW,WAC1CrE,SAAU6B,EACV5B,QAASsC,EACTrC,WAAY6D,EACZC,aAAcA,EACdE,YAAaA,EACbC,eAAgBA,EAChBG,gBAAiBN,GAAgB,MACjCO,eAAgBL,GAAe,MAC/BM,kBAAmBL,GAAkB,OAIvC,OADAT,QAAQC,IAAI,0BAAsBgH,GAC3BA,GAGT,GAAIH,EAAc,CAChB,MAAMG,EAAaF,EAAcD,GAG/B1L,EADEM,EACOP,EAAMiF,IAAI3C,GAAQA,EAAKrG,KAAOsE,EAAYtE,GAAK6P,EAAaxJ,GAE5D0H,GAAQ,IAAIA,EAAM8B,GAE/B,MAEE,GAAIvL,EAEFN,EAASD,EAAMiF,IAAI3C,GACjBA,EAAKrG,KAAOsE,EAAYtE,GACpB,IACKqG,EACH3B,UAAWF,EAASE,UACpBC,SAAUH,EAASG,SACnBC,MAAOJ,EAASI,MAChBC,WAAYL,EAASK,WACrBC,KAAMN,EAASM,KACfI,SAAUV,EAASU,SACnBC,QAASX,EAASW,SAEpBkB,QAED,CAEL,MAAMyJ,EAAU,CACd9P,GAAKyP,EAAO1G,OAAS0G,EAAO1G,KAAK/I,IAAMyP,EAAO1G,KAAKlC,MAAS,GAAGzG,KAAKC,QACpEqE,UAAWF,EAASE,UACpBC,SAAUH,EAASG,SACnBC,MAAOJ,EAASI,MAChBC,WAAYL,EAASK,WACrBC,KAAMN,EAASM,KACfwE,OAAQ,SACRpE,SAAUV,EAASU,SACnBC,QAASX,EAASW,SAEpBnB,EAAS+J,GAAQ,IAAIA,EAAM+B,GAC7B,CAGFzL,GAAgB,GAChBE,EAAe,OAEfrD,EAAAA,EAAAA,IAAgB,CACdP,KAAM,UACNrC,MAAOgG,EAAc,WAAa,WAClCnD,QAASmD,EACJmC,EAAE,sBAAwB,4BAC1BA,EAAE,sBAAwB,4BAC/BrF,SAAU,IACVC,cAAeiD,GAEnB,KAAO,CACL,MAAMxD,QAAc+N,EAASlG,QAC7BzH,EAAAA,EAAAA,IAAgB,CACdP,KAAM,QACNrC,MAAO,QACP6C,QAASL,EAAMK,SAAYsF,EAAE,qBAAuB,sBACpDrF,SAAU,KAEd,CACF,CAAE,MAAON,GACP8H,QAAQ9H,MAAM,qBAAsBA,IACpCI,EAAAA,EAAAA,IAAgB,CACdP,KAAM,QACNrC,MAAO,QACP6C,QAASsF,EAAE,qBAAuB,uCAClCrF,SAAU,KAEd,MAnMEF,EAAAA,EAAAA,IAAgB,CACdP,KAAM,UACNrC,MAAO,oBACP6C,QAASsF,EAAE,qBAAuB,sCAClCrF,SAAU,WAdZF,EAAAA,EAAAA,IAAgB,CACdP,KAAM,UACNrC,MAAO,sBACP6C,QAASsF,EAAE,uBAAyB,sCACpCrF,SAAU,WAfZF,EAAAA,EAAAA,IAAgB,CACdP,KAAM,UACNrC,MAAO,oBACP6C,QAASsF,EAAE,wBAA0B,0BACrCrF,SAAU,WAfZF,EAAAA,EAAAA,IAAgB,CACdP,KAAM,QACNrC,MAAO,oBACP6C,QAAS,8CACTC,SAAU,OAkZuBvC,SAAA,EAC3BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAG9BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,2BAA0BD,SAAA,EACvCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,yBAAwBD,UACrCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,oBAEfS,EAAAA,EAAAA,KAAA,QAAMT,UAAU,0BAAyBD,SAAC,6BAG5CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAgBD,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,uBACZ2H,EAAE,aAAa,KAAClH,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAE9CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,kCACbS,EAAAA,EAAAA,KAAA,SACEoB,KAAK,OACL4G,KAAK,YACLzI,UAAU,kBACVgP,MAAOtJ,EAASE,UAChBqL,SAAUlC,EACVmC,YAAY,mBACZC,UAAQ,WAKdtR,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,uBACZ2H,EAAE,YAAY,KAAClH,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAE7CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,kCACbS,EAAAA,EAAAA,KAAA,SACEoB,KAAK,OACL4G,KAAK,WACLzI,UAAU,kBACVgP,MAAOtJ,EAASG,SAChBoL,SAAUlC,EACVmC,YAAY,kBACZC,UAAQ,cAMhBtR,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAiBE,MAAO,CAAEkR,UAAW,QAASrR,SAAA,EAC3DF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,mBACZ2H,EAAE,cAAc,KAAClH,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAE/CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,oCACbS,EAAAA,EAAAA,KAAA,SACEoB,KAAK,QACL4G,KAAK,QACLzI,UAAU,kBACVgP,MAAOtJ,EAASI,MAChBmL,SAAUlC,EACVmC,YAAY,eACZC,UAAQ,WAKdtR,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,eACZ2H,EAAE,mBAAmB,KAAClH,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAEpDF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,gCACbS,EAAAA,EAAAA,KAAA,SACEoB,KAAK,OACL4G,KAAK,aACLzI,UAAU,kBACVgP,MAAOtJ,EAASK,WAChBkL,SAAUlC,EACVmC,YAAY,eACZC,UAAQ,iBAQlBtR,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,2BAA0BD,SAAA,EACvCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,yBAAwBD,UACrCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,sBAEfS,EAAAA,EAAAA,KAAA,QAAMT,UAAU,0BAAyBD,SAAC,4BAG5CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAgBD,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,oBACZ2H,EAAE,iBAAiB,KAAClH,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAElDF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,qCACbH,EAAAA,EAAAA,MAAA,UACE4I,KAAK,WACLzI,UAAU,mBACVgP,MAAOtJ,EAASU,SAChB6K,SAAUlC,EACVoC,UAAQ,EAAApR,SAAA,EAERU,EAAAA,EAAAA,KAAA,UAAQuO,MAAM,GAAEjP,SAAE4H,EAAE,oBACnBpB,EAAU2D,IAAI9D,IACb3F,EAAAA,EAAAA,KAAA,UAA2DuO,MAAO5I,EAASqC,KAAK1I,SAC7EqG,EAASqC,MADCrC,EAAS2B,KAAO3B,EAASlF,IAAMkF,EAASqC,iBAQ7D5I,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,uBACZ2H,EAAE,aAAa,KAAClH,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAE9CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,wCACbH,EAAAA,EAAAA,MAAA,UACE4I,KAAK,OACLzI,UAAU,mBACVgP,MAAOtJ,EAASM,KAChBiL,SAAUlC,EACVoC,UAAQ,EAAApR,SAAA,EAERU,EAAAA,EAAAA,KAAA,UAAQuO,MAAM,GAAEjP,SAAC,wBAChBkH,EAAMiD,IAAIlE,IACTnG,EAAAA,EAAAA,MAAA,UAAyBmP,MAAOhJ,EAAKgJ,MAAMjP,SAAA,CACxCiG,EAAKqL,MAAM,MAAIrL,EAAKsL,aAAe,mBADzBtL,EAAKgJ,qBAS5BvO,EAAAA,EAAAA,KAAA,OAAKT,UAAU,wBAAwBE,MAAO,CAAEkR,UAAW,QAASrR,UAClEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,qBACZ2H,EAAE,oBAEL9H,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,sCACbH,EAAAA,EAAAA,MAAA,UACE4I,KAAK,UACLzI,UAAU,mBACVgP,MAAOtJ,EAASW,QAChB4K,SAAUlC,EACVK,UAAW1J,EAASU,SAASrG,SAAA,EAE7BU,EAAAA,EAAAA,KAAA,UAAQuO,MAAM,GAAEjP,SACZ2F,EAASU,SAEsB,IAA7BO,EAAkB3B,OAChB,wBACA2C,EAAE,iBAHJ,4BAKLhB,EAAkBuD,IAAI7D,IACrB5F,EAAAA,EAAAA,KAAA,UAAwDuO,MAAO3I,EAAQoC,KAAK1I,SACzE8I,EAAkBxC,EAAQoC,OADhBpC,EAAQ0B,KAAO1B,EAAQnF,IAAMmF,EAAQoC,kBAU3D/C,EAASW,SAAWU,EAAqB/B,OAAS,IACjDvE,EAAAA,EAAAA,KAAA,OAAKT,UAAU,wBAAwBE,MAAO,CAAEkR,UAAW,QAASrR,UAClEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,oBAAsB,kBAGrCH,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,qCACbH,EAAAA,EAAAA,MAAA,UACE4I,KAAK,aACLzI,UAAU,mBACVgP,MAAOtJ,EAASY,WAChB2K,SAAUlC,EAAkBhP,SAAA,EAE5BU,EAAAA,EAAAA,KAAA,UAAQuO,MAAM,GAAEjP,SAAC,kCAChBgH,EAAqBmD,IAAI5D,IACxB7F,EAAAA,EAAAA,KAAA,UAA8CuO,MAAO1I,EAAWgF,KAAKvL,SAClEuG,EAAWmC,MADDnC,EAAWyB,KAAOzB,EAAWpF,oBAYxDrB,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,2BAA0BD,SAAA,EACvCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,yBAAwBD,UACrCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,yBAEfS,EAAAA,EAAAA,KAAA,QAAMT,UAAU,0BAAyBD,SAAC,iBAG5CF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,iBAAgBD,SAAA,EAC7BF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,cACZ2H,EAAE,iBAAiB,KAAGnC,IAAe/E,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAEnEF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,gCACbS,EAAAA,EAAAA,KAAA,SACEoB,KAAK,WACL4G,KAAK,WACLzI,UAAU,kBACVgP,MAAOtJ,EAASO,SAChBgL,SAAUlC,EACVmC,YAAa1L,EAAc,8BAAgC,iBAC3D2L,UAAW3L,EACX+L,UAAU,aAKhB1R,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BF,EAAAA,EAAAA,MAAA,SAAOG,UAAU,kBAAiBD,SAAA,EAChCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,mBACZ2H,EAAE,wBAAwB,KAAGnC,IAAe/E,EAAAA,EAAAA,KAAA,QAAMT,UAAU,WAAUD,SAAC,UAE1EF,EAAAA,EAAAA,MAAA,OAAKG,UAAU,qBAAoBD,SAAA,EACjCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,qCACbS,EAAAA,EAAAA,KAAA,SACEoB,KAAK,WACL4G,KAAK,kBACLzI,UAAU,kBACVgP,MAAOtJ,EAASQ,gBAChB+K,SAAUlC,EACVmC,YAAa1L,EAAc,8BAAgC,mBAC3D2L,UAAW3L,EACX+L,UAAU,sBAUtB1R,EAAAA,EAAAA,MAAA,OAAKG,UAAU,oBAAmBD,SAAA,EAChCF,EAAAA,EAAAA,MAAA,UACEgC,KAAK,SACL7B,UAAU,2BACVC,QAASA,IAAMsF,GAAgB,GAAOxF,SAAA,EAEtCU,EAAAA,EAAAA,KAAA,KAAGT,UAAU,mBACZ2H,EAAE,cAEL9H,EAAAA,EAAAA,MAAA,UACEgC,KAAK,SACL7B,UAAU,2BACVoP,UAAW/H,IAAkB7B,EAC7BhG,MAAQ6H,GAAkB7B,EAA0D,GAA5C,0CAA+CzF,SAAA,EAEvFU,EAAAA,EAAAA,KAAA,KAAGT,UAAW,OAAMwF,EAAc,uBAAyB,yBAC5CmC,EAAdnC,EAAgB,aAAiB6B,EAAkB,UAAe,yCAra/ExH,EAAAA,EAAAA,MAAA,OAAKG,UAAU,kBAAiBD,SAAA,EAC9BU,EAAAA,EAAAA,KAACyO,EAAAA,EAAU,CACT1P,MAAOmI,EAAE,kBACTlI,SAAS,qBACTC,KAAK,eAEPe,EAAAA,EAAAA,KAAA,OAAKT,UAAU,oBAAmBD,UAChCU,EAAAA,EAAAA,KAAA,OAAKT,UAAU,UAASD,UACtBU,EAAAA,EAAAA,KAAA,KAAAV,SAAI4H,EAAE,kC","sources":["components/dashboard/PageHeader.jsx","components/common/ModernAlert.jsx","components/dashboard/UserManagement.jsx"],"sourcesContent":["import React from 'react';\r\nimport './PageHeader.css';\r\nimport logo from '../../assets/logo.jpg';\r\n\r\n/**\r\n * Reusable Page Header Component with Logo\r\n * @param {string} title - The page title\r\n * @param {string} subtitle - The page subtitle/description\r\n * @param {string} icon - Bootstrap icon class (e.g., \"bi-building\")\r\n * @param {React.ReactNode} actions - Optional action buttons\r\n * @param {function} onBack - Optional back navigation function\r\n */\r\nconst PageHeader = ({ title, subtitle, icon = 'bi-folder', actions, onBack }) => {\r\n  return (\r\n    <>\r\n      {onBack && (\r\n        <button \r\n          className=\"back-arrow-btn\"\r\n          onClick={onBack}\r\n          title=\"Back to Dashboard\"\r\n          style={{ marginBottom: '12px', background: 'transparent', color: '#0f172a', border: '1px solid rgba(15,23,42,0.08)', width: 'auto', padding: '8px 12px' }}\r\n        >\r\n          <i className=\"bi bi-arrow-left\"></i>&nbsp;<span style={{ fontWeight: 600 }}>Back</span>\r\n        </button>\r\n      )}\r\n      <div className=\"page-header-banner\">\r\n        <div className=\"page-header-content\">\r\n          <div className=\"page-header-left\">\r\n            <div className=\"page-header-icon\">\r\n              <i className={`bi ${icon}`}></i>\r\n            </div>\r\n            <div className=\"page-header-text\">\r\n              <h1>{title}</h1>\r\n              {subtitle && <p>{subtitle}</p>}\r\n            </div>\r\n          </div>\r\n        <div className=\"page-header-right\">\r\n          {actions && <div className=\"page-header-actions\">{actions}</div>}\r\n          <div className=\"page-header-logo\">\r\n            <img src={logo} alt=\"Company Logo\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Decorative Elements */}\r\n      <div className=\"page-header-decoration\">\r\n        <div className=\"decoration-circle decoration-circle-1\"></div>\r\n        <div className=\"decoration-circle decoration-circle-2\"></div>\r\n        <div className=\"decoration-circle decoration-circle-3\"></div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import './ModernAlert.css';\r\n\r\n/**\r\n * Modern Alert/Notification System\r\n * Replaces basic alert() with beautiful, animated notifications\r\n * \r\n * Usage:\r\n * import { showModernAlert, showConfirmDialog } from './ModernAlert';\r\n * \r\n * showModernAlert({\r\n *   type: 'success',\r\n *   title: 'Success!',\r\n *   message: 'User created successfully',\r\n *   duration: 3000\r\n * });\r\n * \r\n * const confirmed = await showConfirmDialog({\r\n *   title: 'Delete User',\r\n *   message: 'Are you sure you want to delete this user?',\r\n *   confirmText: 'Delete',\r\n *   cancelText: 'Cancel',\r\n *   type: 'danger'\r\n * });\r\n */\r\n\r\nlet alertContainer = null;\r\n\r\n// Create alert container if it doesn't exist\r\nconst getAlertContainer = () => {\r\n  if (!alertContainer) {\r\n    alertContainer = document.createElement('div');\r\n    alertContainer.id = 'modern-alert-container';\r\n    alertContainer.className = 'modern-alert-container';\r\n    document.body.appendChild(alertContainer);\r\n  }\r\n  return alertContainer;\r\n};\r\n\r\n// Generate unique ID\r\nconst generateId = () => `alert-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n// Icons for different alert types\r\nconst getIcon = (type) => {\r\n  const icons = {\r\n    success: 'bi-check-circle-fill',\r\n    error: 'bi-x-circle-fill',\r\n    warning: 'bi-exclamation-triangle-fill',\r\n    info: 'bi-info-circle-fill',\r\n    question: 'bi-question-circle-fill'\r\n  };\r\n  return icons[type] || icons.info;\r\n};\r\n\r\n/**\r\n * Show a modern alert notification\r\n * @param {Object} options - Alert options\r\n * @param {string} options.type - Alert type: 'success', 'error', 'warning', 'info'\r\n * @param {string} options.title - Alert title\r\n * @param {string} options.message - Alert message\r\n * @param {number} options.duration - Duration in ms (default: 3000, 0 for persistent)\r\n * @param {boolean} options.showConfetti - Show confetti animation (success only)\r\n */\r\nexport const showModernAlert = ({\r\n  type = 'info',\r\n  title = '',\r\n  message = '',\r\n  duration = 3000,\r\n  showConfetti = false\r\n}) => {\r\n  const container = getAlertContainer();\r\n  const alertId = generateId();\r\n  \r\n  const alertEl = document.createElement('div');\r\n  alertEl.id = alertId;\r\n  alertEl.className = `modern-alert modern-alert-${type} modern-alert-enter`;\r\n  \r\n  alertEl.innerHTML = `\r\n    <div class=\"modern-alert-content\">\r\n      <div class=\"modern-alert-icon\">\r\n        <i class=\"bi ${getIcon(type)}\"></i>\r\n      </div>\r\n      <div class=\"modern-alert-body\">\r\n        ${title ? `<div class=\"modern-alert-title\">${title}</div>` : ''}\r\n        <div class=\"modern-alert-message\">${message}</div>\r\n      </div>\r\n      <button class=\"modern-alert-close\" onclick=\"this.closest('.modern-alert').remove()\">\r\n        <i class=\"bi bi-x\"></i>\r\n      </button>\r\n    </div>\r\n    <div class=\"modern-alert-progress\"></div>\r\n  `;\r\n  \r\n  container.appendChild(alertEl);\r\n  \r\n  // Trigger animation\r\n  setTimeout(() => {\r\n    alertEl.classList.remove('modern-alert-enter');\r\n    alertEl.classList.add('modern-alert-active');\r\n  }, 10);\r\n  \r\n  // Show confetti for success\r\n  if (showConfetti && type === 'success') {\r\n    triggerConfetti();\r\n  }\r\n  \r\n  // Auto remove after duration\r\n  if (duration > 0) {\r\n    const progressBar = alertEl.querySelector('.modern-alert-progress');\r\n    if (progressBar) {\r\n      progressBar.style.animationDuration = `${duration}ms`;\r\n    }\r\n    \r\n    setTimeout(() => {\r\n      removeAlert(alertId);\r\n    }, duration);\r\n  }\r\n  \r\n  return alertId;\r\n};\r\n\r\n/**\r\n * Show a confirmation dialog\r\n * @param {Object} options - Dialog options\r\n * @returns {Promise<boolean>} - True if confirmed, false if cancelled\r\n */\r\nexport const showConfirmDialog = ({\r\n  title = 'Confirm',\r\n  message = 'Are you sure?',\r\n  confirmText = 'Confirm',\r\n  cancelText = 'Cancel',\r\n  type = 'warning', // 'warning', 'danger', 'info'\r\n  showIcon = true\r\n}) => {\r\n  return new Promise((resolve) => {\r\n    const container = getAlertContainer();\r\n    const dialogId = generateId();\r\n    \r\n    const overlay = document.createElement('div');\r\n    overlay.id = dialogId;\r\n    overlay.className = 'modern-dialog-overlay modern-dialog-enter';\r\n    \r\n    overlay.innerHTML = `\r\n      <div class=\"modern-dialog modern-dialog-${type}\">\r\n        <div class=\"modern-dialog-content\">\r\n          ${showIcon ? `\r\n            <div class=\"modern-dialog-icon\">\r\n              <i class=\"bi ${getIcon(type === 'danger' ? 'error' : type)}\"></i>\r\n            </div>\r\n          ` : ''}\r\n          <div class=\"modern-dialog-body\">\r\n            <h3 class=\"modern-dialog-title\">${title}</h3>\r\n            <p class=\"modern-dialog-message\">${message}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"modern-dialog-footer\">\r\n          <button class=\"modern-btn modern-btn-cancel\" data-action=\"cancel\">\r\n            <i class=\"bi bi-x-circle\"></i>\r\n            ${cancelText}\r\n          </button>\r\n          <button class=\"modern-btn modern-btn-confirm modern-btn-${type}\" data-action=\"confirm\">\r\n            <i class=\"bi bi-check-circle\"></i>\r\n            ${confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    container.appendChild(overlay);\r\n    \r\n    // Trigger animation\r\n    setTimeout(() => {\r\n      overlay.classList.remove('modern-dialog-enter');\r\n      overlay.classList.add('modern-dialog-active');\r\n    }, 10);\r\n    \r\n    // Handle button clicks\r\n    overlay.addEventListener('click', (e) => {\r\n      if (e.target.closest('[data-action]')) {\r\n        const action = e.target.closest('[data-action]').dataset.action;\r\n        removeDialog(dialogId);\r\n        resolve(action === 'confirm');\r\n      } else if (e.target === overlay) {\r\n        // Click outside to cancel\r\n        removeDialog(dialogId);\r\n        resolve(false);\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Show a loading dialog\r\n * @param {string} message - Loading message\r\n * @returns {string} - Dialog ID for later removal\r\n */\r\nexport const showLoadingDialog = (message = 'Processing...') => {\r\n  const container = getAlertContainer();\r\n  const dialogId = generateId();\r\n  \r\n  const overlay = document.createElement('div');\r\n  overlay.id = dialogId;\r\n  overlay.className = 'modern-dialog-overlay modern-dialog-enter';\r\n  \r\n  overlay.innerHTML = `\r\n    <div class=\"modern-dialog modern-dialog-loading\">\r\n      <div class=\"modern-dialog-content\">\r\n        <div class=\"modern-loading-spinner\">\r\n          <div class=\"spinner-border text-primary\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n        <p class=\"modern-dialog-message\">${message}</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n  \r\n  container.appendChild(overlay);\r\n  \r\n  setTimeout(() => {\r\n    overlay.classList.remove('modern-dialog-enter');\r\n    overlay.classList.add('modern-dialog-active');\r\n  }, 10);\r\n  \r\n  return dialogId;\r\n};\r\n\r\n/**\r\n * Remove a specific alert\r\n */\r\nconst removeAlert = (alertId) => {\r\n  const alert = document.getElementById(alertId);\r\n  if (alert) {\r\n    alert.classList.remove('modern-alert-active');\r\n    alert.classList.add('modern-alert-exit');\r\n    setTimeout(() => {\r\n      alert.remove();\r\n    }, 300);\r\n  }\r\n};\r\n\r\n/**\r\n * Remove a specific dialog\r\n */\r\nconst removeDialog = (dialogId) => {\r\n  const dialog = document.getElementById(dialogId);\r\n  if (dialog) {\r\n    dialog.classList.remove('modern-dialog-active');\r\n    dialog.classList.add('modern-dialog-exit');\r\n    setTimeout(() => {\r\n      dialog.remove();\r\n    }, 300);\r\n  }\r\n};\r\n\r\n/**\r\n * Close a loading dialog\r\n */\r\nexport const closeLoadingDialog = (dialogId) => {\r\n  removeDialog(dialogId);\r\n};\r\n\r\n/**\r\n * Confetti animation for success\r\n */\r\nconst triggerConfetti = () => {\r\n  const confettiCount = 50;\r\n  const container = document.body;\r\n  \r\n  for (let i = 0; i < confettiCount; i++) {\r\n    const confetti = document.createElement('div');\r\n    confetti.className = 'confetti';\r\n    confetti.style.left = `${Math.random() * 100}%`;\r\n    confetti.style.animationDelay = `${Math.random() * 0.5}s`;\r\n    confetti.style.backgroundColor = getRandomColor();\r\n    container.appendChild(confetti);\r\n    \r\n    setTimeout(() => confetti.remove(), 3000);\r\n  }\r\n};\r\n\r\nconst getRandomColor = () => {\r\n  const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7', '#a29bfe', '#fd79a8'];\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n};\r\n\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport usePermission from '../../hooks/usePermission';\r\nimport { useLanguage } from '../../context/LanguageContext';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { showModernAlert, showConfirmDialog } from '../common/ModernAlert';\r\nimport './UserManagement.css';\r\nimport PageHeader from './PageHeader';\r\n\r\nconst UserManagement = ({ onBack }) => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    employeeId: '',\r\n    role: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    phone: '',\r\n    division: '',\r\n    section: '',\r\n    subsection: ''\r\n  });\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [sections, setSections] = useState([]);\r\n  const [availableSections, setAvailableSections] = useState([]);\r\n  const [subsections, setSubsections] = useState([]);\r\n  const [availableSubsections, setAvailableSubsections] = useState([]);\r\n  const [roles, setRoles] = useState([]);\r\n  const canViewUsers = usePermission('users', 'read');\r\n  const canCreateUser = usePermission('users', 'create');\r\n  const canUpdateUser = usePermission('users', 'update');\r\n  const canDeleteUser = usePermission('users', 'delete');\r\n  const { user: currentUser } = useContext(AuthContext);\r\n  const { t } = useLanguage();\r\n\r\n  // Helper function to check if current user can delete a specific user\r\n  const canDeleteSpecificUser = (userId) => {\r\n    // Only super_admin can delete users\r\n    if (!currentUser || currentUser.role !== 'super_admin') {\r\n      return false;\r\n    }\r\n    // Cannot delete yourself\r\n    return userId !== currentUser._id && userId !== currentUser.id;\r\n  };\r\n\r\n  // Helper function to get division name by ID\r\n  const getDivisionName = (divisionId) => {\r\n    if (!divisionId) return 'N/A';\r\n    const idStr = String(divisionId);\r\n    const division = divisions.find(div => {\r\n      if (!div) return false;\r\n      return [div._id, div.id].some(c => c !== undefined && String(c) === idStr);\r\n    });\r\n    return division ? (division.name || 'Unknown Division') : 'N/A';\r\n  };\r\n\r\n  // Helper function to get section name by ID\r\n  const getSectionName = (sectionId) => {\r\n    if (!sectionId) return 'N/A';\r\n    const idStr = String(sectionId);\r\n    const section = sections.find(sec => {\r\n      if (!sec) return false;\r\n      return [sec._id, sec.id].some(c => c !== undefined && String(c) === idStr);\r\n    });\r\n    return section ? (section.name || 'Unknown Section') : 'N/A';\r\n  };\r\n\r\n  // Helper to sanitize section display name (removes IDs/codes and counts in parentheses)\r\n  const formatSectionName = (name) => {\r\n    if (!name) return '';\r\n    // Remove any parenthetical groups e.g. \"(IS)\" or \"(333)\"\r\n    let cleaned = String(name).replace(/\\s*\\([^)]*\\)/g, '').trim();\r\n    // Remove trailing hyphen if left behind e.g. \"Administration -\"\r\n    cleaned = cleaned.replace(/\\s*-\\s*$/, '').trim();\r\n    return cleaned;\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fetch users and divisions from API\r\n    const fetchData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n        \r\n        // Fetch users from database\r\n        try {\r\n          const usersResponse = await fetch(`${API_BASE_URL}/users`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (usersResponse.ok) {\r\n            const usersData = await usersResponse.json();\r\n            console.log('Users API Response:', usersData); // Debug log\r\n            \r\n            // Handle the response structure properly - API returns { success: true, users: [...], count: N }\r\n            const users = usersData.users || usersData.data || [];\r\n            \r\n            // Map the data to match frontend structure\r\n            const mappedUsers = users.map(user => {\r\n              console.log('Mapping user:', user); // Debug log\r\n\r\n              // Use denormalized fields directly (divisionName, sectionName from database)\r\n              const divisionId = user.divisionId || null;\r\n              const sectionId = user.sectionId || null;\r\n              const subsectionId = user.subsectionId || null;\r\n\r\n              const divisionName = user.divisionName || '';\r\n              const sectionNameRaw = user.sectionName || '';\r\n              const sectionName = formatSectionName(sectionNameRaw);\r\n              const subsectionName = user.subsectionName || '';\r\n\r\n              return {\r\n                id: user._id || user.id,\r\n                firstName: user.firstName || '',\r\n                lastName: user.lastName || '',\r\n                email: user.email || '',\r\n                role: user.role || 'employee',\r\n                employeeId: user.employeeId || '',\r\n                status: user.isActive !== false ? 'active' : 'inactive',\r\n                division: divisionId,\r\n                section: sectionId,\r\n                subsection: subsectionId,\r\n                divisionName: divisionName,\r\n                sectionName: sectionName,\r\n                subsectionName: subsectionName,\r\n                // Keep display values separate\r\n                divisionDisplay: divisionName || 'N/A',\r\n                sectionDisplay: sectionName || 'N/A',\r\n                subsectionDisplay: subsectionName || 'N/A'\r\n              };\r\n            });\r\n            \r\n            console.log('Mapped users:', mappedUsers); // Debug log\r\n            setUsers(mappedUsers);\r\n          } else {\r\n            console.error('Failed to fetch users, status:', usersResponse.status);\r\n            const errorText = await usersResponse.text();\r\n            console.error('Error response:', errorText);\r\n            setUsers([]);\r\n          }\r\n        } catch (userError) {\r\n          console.error('Error fetching users:', userError);\r\n          setUsers([]);\r\n        }\r\n        \r\n        // Fetch divisions from MySQL (faster and more reliable)\r\n        try {\r\n          const divisionsResponse = await fetch(`${API_BASE_URL}/mysql-data/divisions`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (divisionsResponse.ok) {\r\n            const divisionsData = await divisionsResponse.json();\r\n            console.log('Divisions HRIS API Response:', divisionsData); // Debug log\r\n            \r\n            // Handle different response structures and normalize\r\n            const rawDivisions = divisionsData.data || divisionsData || [];\r\n            console.log('Raw divisions:', rawDivisions.length); // Debug log\r\n            \r\n            // Normalize divisions to consistent format\r\n            const normalizedDivisions = rawDivisions.map(d => ({\r\n              _id: d._id || d.id || d.HIE_CODE || d.code,\r\n              id: d._id || d.id || d.HIE_CODE || d.code,\r\n              code: d.code || d.HIE_CODE || d.hie_code || d._id || d.id,\r\n              name: d.name || d.HIE_NAME || d.hie_name || d.hie_relationship || 'Unknown Division',\r\n              hie_relationship: d.hie_relationship || d.HIE_RELATIONSHIP,\r\n              isActive: d.isActive !== false\r\n            })).sort((a, b) => a.name.localeCompare(b.name));\r\n            \r\n            console.log('Normalized divisions:', normalizedDivisions); // Debug log\r\n            setDivisions(normalizedDivisions);\r\n          } else {\r\n            console.error('Failed to fetch divisions, status:', divisionsResponse.status);\r\n            const errorText = await divisionsResponse.text();\r\n            console.error('Divisions error response:', errorText);\r\n            setDivisions([]);\r\n          }\r\n        } catch (divisionError) {\r\n          console.error('Error fetching divisions:', divisionError);\r\n          setDivisions([]);\r\n        }\r\n\r\n        // Fetch sections from MySQL (faster and more reliable)\r\n        try {\r\n          const sectionsResponse = await fetch(`${API_BASE_URL}/mysql-data/sections`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (sectionsResponse.ok) {\r\n            const sectionsData = await sectionsResponse.json();\r\n            console.log('Sections HRIS API Response:', sectionsData); // Debug log\r\n            \r\n            // Handle different response structures and normalize\r\n            const rawSections = sectionsData.data || sectionsData || [];\r\n            console.log('Raw sections:', rawSections.length); // Debug log\r\n            \r\n            // Normalize sections to consistent format\r\n            // The sections API returns:\r\n            // - code/HIE_CODE: section's own code\r\n            // - name/HIE_NAME: section name\r\n            // - division_code/HIE_RELATIONSHIP: parent division's CODE (not name)\r\n            const normalizedSections = rawSections.map(s => ({\r\n              _id: s._id || s.id || s.HIE_CODE || s.code,\r\n              id: s._id || s.id || s.HIE_CODE || s.code,\r\n              code: s.code || s.HIE_CODE || s.hie_code || s.section_code || s._id || s.id,\r\n              name: s.name || s.HIE_NAME || s.hie_name || s.section_name || `Section ${s.code}`,\r\n              // division_code is the parent division's HIE_CODE\r\n              divisionCode: s.division_code || s.HIE_RELATIONSHIP || s.divisionCode || '',\r\n              divisionId: s.division_id || s.divisionId || '',\r\n              // These may not be available - need to lookup from divisions\r\n              divisionName: s.division_name || s.divisionName || '',\r\n              hie_relationship: s.hie_relationship || s.HIE_RELATIONSHIP || s.division_code || '',\r\n              isActive: s.isActive !== false\r\n            })).sort((a, b) => a.name.localeCompare(b.name));\r\n            \r\n            console.log('Normalized sections:', normalizedSections); // Debug log\r\n            setSections(normalizedSections);\r\n          } else {\r\n            console.error('Failed to fetch sections, status:', sectionsResponse.status);\r\n            const errorText = await sectionsResponse.text();\r\n            console.error('Sections error response:', errorText);\r\n            setSections([]);\r\n          }\r\n        } catch (sectionError) {\r\n          console.error('Error fetching sections:', sectionError);\r\n          setSections([]);\r\n        }\r\n\r\n        // Fetch subsections from MySQL\r\n        try {\r\n          const subsectionsResponse = await fetch(`${API_BASE_URL}/mysql-data/subsections`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (subsectionsResponse.ok) {\r\n            const subsectionsData = await subsectionsResponse.json();\r\n            console.log('Subsections API Response:', subsectionsData); // Debug log\r\n            \r\n            // Handle different response structures and normalize\r\n            const rawSubsections = subsectionsData.data || subsectionsData || [];\r\n            console.log('Raw subsections:', rawSubsections.length); // Debug log\r\n            \r\n            // Normalize subsections to consistent format\r\n            const normalizedSubsections = rawSubsections.map(sub => ({\r\n              _id: sub._id || sub.id || sub.sub_code,\r\n              id: sub._id || sub.id || sub.sub_code,\r\n              code: sub.subSection?.sub_hie_code || sub.sub_code || sub.code || sub._id,\r\n              name: sub.subSection?.sub_hie_name || sub.sub_name || sub.name || `Subsection ${sub.code}`,\r\n              sectionId: sub.parentSection?.id || sub.section_id || sub.section_code || '',\r\n              sectionCode: sub.parentSection?.hie_code || sub.section_code || '',\r\n              sectionName: sub.parentSection?.hie_name || sub.section_name || '',\r\n              divisionId: sub.parentDivision?.id || sub.division_id || sub.division_code || '',\r\n              divisionCode: sub.parentDivision?.division_code || sub.division_code || '',\r\n              divisionName: sub.parentDivision?.division_name || sub.division_name || '',\r\n              isActive: sub.isActive !== false\r\n            })).sort((a, b) => a.name.localeCompare(b.name));\r\n            \r\n            console.log('Normalized subsections:', normalizedSubsections); // Debug log\r\n            setSubsections(normalizedSubsections);\r\n          } else {\r\n            console.error('Failed to fetch subsections, status:', subsectionsResponse.status);\r\n            const errorText = await subsectionsResponse.text();\r\n            console.error('Subsections error response:', errorText);\r\n            setSubsections([]);\r\n          }\r\n        } catch (subsectionError) {\r\n          console.error('Error fetching subsections:', subsectionError);\r\n          setSubsections([]);\r\n        }\r\n\r\n        // Fetch roles from API\r\n        try {\r\n          const rolesResponse = await fetch(`${API_BASE_URL}/roles`, {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n\r\n          if (rolesResponse.ok) {\r\n            const rolesData = await rolesResponse.json();\r\n            console.log('Roles API Response:', rolesData); // Debug log\r\n\r\n            // Handle the response structure properly\r\n            const roles = rolesData.data || rolesData || [];\r\n            console.log('Fetched roles:', roles); // Debug log\r\n            setRoles(roles);\r\n          } else {\r\n            console.error('Failed to fetch roles, status:', rolesResponse.status);\r\n            const errorText = await rolesResponse.text();\r\n            console.error('Roles error response:', errorText);\r\n            setRoles([]);\r\n          }\r\n        } catch (roleError) {\r\n          console.error('Error fetching roles:', roleError);\r\n          setRoles([]);\r\n        }\r\n        \r\n        setLoading(false);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Filter sections based on selected division\r\n  useEffect(() => {\r\n    if (!formData.division) {\r\n      setAvailableSections([]);\r\n      return;\r\n    }\r\n\r\n    // Find the selected division to get its code\r\n    const selectedDivision = divisions.find(d => d.name === formData.division);\r\n    const selectedDivisionCode = selectedDivision?.code || '';\r\n    \r\n    console.log('Selected Division Name:', formData.division);\r\n    console.log('Selected Division Code:', selectedDivisionCode);\r\n\r\n    // Filter sections that belong to the selected division (by division code)\r\n    const filteredSections = sections.filter(section => {\r\n      // Section's divisionCode/hie_relationship contains the parent division's CODE\r\n      const sectionParentCode = String(section.divisionCode || section.hie_relationship || '');\r\n      \r\n      // Match by code\r\n      return sectionParentCode === selectedDivisionCode;\r\n    });\r\n\r\n    console.log('Filtered Sections:', filteredSections.length);\r\n    setAvailableSections(filteredSections);\r\n  }, [formData.division, sections, divisions]);\r\n\r\n  // Filter subsections based on selected section\r\n  useEffect(() => {\r\n    if (!formData.section) {\r\n      setAvailableSubsections([]);\r\n      return;\r\n    }\r\n\r\n    // Find the selected section to get its code\r\n    const selectedSection = availableSections.find(s => s.name === formData.section);\r\n    const selectedSectionCode = selectedSection?.code || '';\r\n    \r\n    console.log('Selected Section Name:', formData.section);\r\n    console.log('Selected Section Code:', selectedSectionCode);\r\n\r\n    // Filter subsections that belong to the selected section (by section code)\r\n    const filteredSubsections = subsections.filter(subsection => {\r\n      const subsectionParentCode = String(subsection.sectionCode || subsection.sectionId || '');\r\n      return subsectionParentCode === selectedSectionCode;\r\n    });\r\n\r\n    console.log('Filtered Subsections:', filteredSubsections.length);\r\n    setAvailableSubsections(filteredSubsections);\r\n  }, [formData.section, subsections, availableSections]);\r\n\r\n  // The main filtering useEffect already handles section updates for editing\r\n  // So we don't need a separate useEffect for editing mode\r\n\r\n  const handleAddUser = () => {\r\n    setFormData({\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      employeeId: '',\r\n      role: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      phone: '',\r\n      division: '',\r\n      section: '',\r\n      subsection: ''\r\n    });\r\n    setEditingUser(null);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    // Only use divisionName/sectionName if they're actual names (not empty)\r\n    const divisionValue = user.divisionName && user.divisionName !== 'N/A' ? user.divisionName : '';\r\n    const sectionValue = user.sectionName && user.sectionName !== 'N/A' ? user.sectionName : '';\r\n    \r\n    console.log('Editing user:', user);\r\n    console.log('Division value for form:', divisionValue);\r\n    console.log('Section value for form:', sectionValue);\r\n    \r\n    setFormData({\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      employeeId: user.employeeId,\r\n      role: user.role,\r\n      password: '',\r\n      confirmPassword: '',\r\n      phone: user.phone || '',\r\n      division: divisionValue,\r\n      section: sectionValue\r\n    });\r\n    setEditingUser(user);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    const confirmed = await showConfirmDialog({\r\n      title: t('confirmDeleteUser') || 'Delete User',\r\n      message: 'This action cannot be undone. Are you sure you want to delete this user?',\r\n      confirmText: 'Delete',\r\n      cancelText: 'Cancel',\r\n      type: 'danger'\r\n    });\r\n\r\n    if (confirmed) {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`http://localhost:5000/api/users/${userId}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          setUsers(users.filter(user => user.id !== userId));\r\n          showModernAlert({\r\n            type: 'success',\r\n            title: 'Deleted!',\r\n            message: t('userDeletedSuccess') || 'User deleted successfully',\r\n            duration: 3000\r\n          });\r\n        } else {\r\n          const error = await response.json();\r\n          showModernAlert({\r\n            type: 'error',\r\n            title: 'Error',\r\n            message: error.message || t('noUsersFound'),\r\n            duration: 4000\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n        showModernAlert({\r\n          type: 'error',\r\n          title: 'Error',\r\n          message: 'Failed to delete user. Please try again.',\r\n          duration: 4000\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // Enforce front-end permission check as a safeguard\r\n    if (!canCreateUser && !editingUser) {\r\n      showModernAlert({\r\n        type: 'error',\r\n        title: 'Permission Denied',\r\n        message: 'You do not have permission to create users.',\r\n        duration: 3000\r\n      });\r\n      return;\r\n    }\r\n    \r\n    // Check if passwords match when adding a new user\r\n    if (!editingUser && formData.password !== formData.confirmPassword) {\r\n      showModernAlert({\r\n        type: 'warning',\r\n        title: 'Password Mismatch',\r\n        message: t('passwordsDoNotMatch') || 'Passwords do not match!',\r\n        duration: 3000\r\n      });\r\n      return;\r\n    }\r\n    \r\n    // Validate required fields\r\n    if (!formData.firstName || !formData.lastName || !formData.email || !formData.employeeId || !formData.role) {\r\n      showModernAlert({\r\n        type: 'warning',\r\n        title: 'Missing Information',\r\n        message: t('pleaseFillRequired') || 'Please fill in all required fields!',\r\n        duration: 3000\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (!editingUser && !formData.password) {\r\n      showModernAlert({\r\n        type: 'warning',\r\n        title: 'Password Required',\r\n        message: t('passwordRequired') || 'Password is required for new users!',\r\n        duration: 3000\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      // Resolve division, section, and subsection objects to send full data\r\n      let divisionObject = null;\r\n      let sectionObject = null;\r\n      let subsectionObject = null;\r\n      \r\n      console.log(' DEBUG - Divisions array:', divisions);\r\n      console.log(' DEBUG - FormData division value:', formData.division);\r\n      \r\n      if (formData.division) {\r\n        divisionObject = divisions.find(d => d.name === formData.division);\r\n        console.log(' DEBUG - Found division object:', divisionObject);\r\n      }\r\n      \r\n      if (formData.section) {\r\n        sectionObject = sections.find(s => s.name === formData.section);\r\n        console.log(' DEBUG - Found section object:', sectionObject);\r\n      }\r\n      \r\n      if (formData.subsection) {\r\n        subsectionObject = subsections.find(s => s.name === formData.subsection);\r\n        console.log(' DEBUG - Found subsection object:', subsectionObject);\r\n      }\r\n      \r\n      const userData = {\r\n        firstName: formData.firstName,\r\n        lastName: formData.lastName,\r\n        email: formData.email,\r\n        employeeId: formData.employeeId,\r\n        role: formData.role,\r\n        phone: formData.phone,\r\n        division: divisionObject,  // Send full object with id, name, code\r\n        section: sectionObject,    // Send full object with id, name, code\r\n        subsection: subsectionObject  // Send full object with id, name, code\r\n      };\r\n      \r\n      console.log(' Sending user data to server:', userData); // Debug\r\n\r\n      if (!editingUser) {\r\n        userData.password = formData.password;\r\n      } else if (formData.password) {\r\n        userData.password = formData.password;\r\n      }\r\n\r\n      let response;\r\n      if (editingUser) {\r\n        // Update existing user\r\n        response = await fetch(`http://localhost:5000/api/users/${editingUser.id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(userData)\r\n        });\r\n      } else {\r\n        // Create new user\r\n        response = await fetch('http://localhost:5000/api/users', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(userData)\r\n        });\r\n      }\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log(' Server response:', result); // Debug\r\n        const returnedUser = result.user || result.data || null;\r\n        console.log(' Returned user data:', returnedUser); // Debug\r\n\r\n        // Helper to normalize server user into frontend shape\r\n        const normalizeUser = (u) => {\r\n          if (!u) return null;\r\n          \r\n          console.log(' Normalizing user from server:', u); // Debug\r\n          \r\n          // Use denormalized fields directly from database\r\n          const divisionId = u.divisionId || null;\r\n          const sectionId = u.sectionId || null;\r\n          const subsectionId = u.subsectionId || null;\r\n          \r\n          const divisionName = u.divisionName || '';\r\n          const sectionNameRaw = u.sectionName || '';\r\n          const sectionName = formatSectionName(sectionNameRaw);\r\n          const subsectionName = u.subsectionName || '';\r\n\r\n          const normalized = {\r\n            id: u._id || u.id,\r\n            firstName: u.firstName || '',\r\n            lastName: u.lastName || '',\r\n            email: u.email || '',\r\n            role: u.role || 'employee',\r\n            employeeId: u.employeeId || '',\r\n            status: u.isActive !== false ? 'active' : 'inactive',\r\n            division: divisionId,\r\n            section: sectionId,\r\n            subsection: subsectionId,\r\n            divisionName: divisionName,\r\n            sectionName: sectionName,\r\n            subsectionName: subsectionName,\r\n            divisionDisplay: divisionName || 'N/A',\r\n            sectionDisplay: sectionName || 'N/A',\r\n            subsectionDisplay: subsectionName || 'N/A'\r\n          };\r\n          \r\n          console.log(' Normalized user:', normalized); // Debug\r\n          return normalized;\r\n        };\r\n\r\n        if (returnedUser) {\r\n          const normalized = normalizeUser(returnedUser);\r\n\r\n          if (editingUser) {\r\n            setUsers(users.map(user => user.id === editingUser.id ? normalized : user));\r\n          } else {\r\n            setUsers(prev => [...prev, normalized]);\r\n          }\r\n        } else {\r\n          // Fallback to previous optimistic update if server did not return full user\r\n          if (editingUser) {\r\n            // Update existing user in state\r\n            setUsers(users.map(user => \r\n              user.id === editingUser.id \r\n                ? {\r\n                    ...user,\r\n                    firstName: formData.firstName,\r\n                    lastName: formData.lastName,\r\n                    email: formData.email,\r\n                    employeeId: formData.employeeId,\r\n                    role: formData.role,\r\n                    division: formData.division,\r\n                    section: formData.section\r\n                  }\r\n                : user\r\n            ));\r\n          } else {\r\n            // Add new user to state\r\n            const newUser = {\r\n              id: (result.data && (result.data.id || result.data._id)) || `${Date.now()}`,\r\n              firstName: formData.firstName,\r\n              lastName: formData.lastName,\r\n              email: formData.email,\r\n              employeeId: formData.employeeId,\r\n              role: formData.role,\r\n              status: 'active',\r\n              division: formData.division,\r\n              section: formData.section\r\n            };\r\n            setUsers(prev => [...prev, newUser]);\r\n          }\r\n        }\r\n\r\n        setShowAddModal(false);\r\n        setEditingUser(null);\r\n\r\n        showModernAlert({\r\n          type: 'success',\r\n          title: editingUser ? 'Updated!' : 'Created!',\r\n          message: editingUser \r\n            ? (t('userUpdateSuccess') || 'User updated successfully')\r\n            : (t('userCreateSuccess') || 'User created successfully'),\r\n          duration: 3000,\r\n          showConfetti: !editingUser\r\n        });\r\n      } else {\r\n        const error = await response.json();\r\n        showModernAlert({\r\n          type: 'error',\r\n          title: 'Error',\r\n          message: error.message || (t('failedToSaveUser') || 'Failed to save user'),\r\n          duration: 4000\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving user:', error);\r\n      showModernAlert({\r\n        type: 'error',\r\n        title: 'Error',\r\n        message: t('failedToSaveUser') || 'Error saving user. Please try again.',\r\n        duration: 4000\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => {\r\n      // If division changes, reset section and subsection to ensure consistency\r\n      if (name === 'division') {\r\n        return {\r\n          ...prev,\r\n          [name]: value,\r\n          section: '',\r\n          subsection: ''\r\n        };\r\n      }\r\n      // If section changes, reset subsection\r\n      if (name === 'section') {\r\n        return {\r\n          ...prev,\r\n          [name]: value,\r\n          subsection: ''\r\n        };\r\n      }\r\n      return {\r\n        ...prev,\r\n        [name]: value\r\n      };\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"visually-hidden\">{t('loading') || 'Loading...'}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!canViewUsers) {\r\n    return (\r\n      <div className=\"user-management\">\r\n        <PageHeader\r\n          title={t('userManagement')}\r\n          subtitle=\"User access denied\"\r\n          icon=\"bi-people\"\r\n        />\r\n        <div className=\"professional-card\">\r\n          <div className=\"no-data\">\r\n            <p>{t('noPermissionViewUsers')}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-management\">\r\n      {/* Professional Section Header with Logo */}\r\n      <PageHeader\r\n        title={t('userManagement')}\r\n        subtitle=\"Manage system users and access permissions\"\r\n        icon=\"bi-people\"\r\n        onBack={onBack}\r\n        actions={\r\n          <button \r\n            className=\"btn-professional btn-primary\"\r\n            onClick={canCreateUser ? handleAddUser : undefined}\r\n            title={!canCreateUser ? t('noPermissionAddUser') : t('addUser')}\r\n            disabled={!canCreateUser}\r\n            style={{ cursor: canCreateUser ? 'pointer' : 'not-allowed' }}\r\n          >\r\n            <i className=\"bi bi-plus-circle\"></i> Add User\r\n          </button>\r\n        }\r\n      />\r\n\r\n      {/* Professional Users Table */}\r\n      <div className=\"professional-card\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"professional-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>{t('employeeIdLabel')}</th>\r\n                <th>{t('nameLabel') || 'Name'}</th>\r\n                <th>{t('emailLabel')}</th>\r\n                <th>{t('roleLabel')}</th>\r\n                <th>{t('divisionLabel')}</th>\r\n                <th>{t('sectionLabel')}</th>\r\n                <th>{t('statusLabel') || 'Status'}</th>\r\n                <th>{t('actionsLabel') || 'Actions'}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map(user => (\r\n                <tr key={user.id}>\r\n                  <td><strong>{user.employeeId}</strong></td>\r\n                  <td>{`${user.firstName} ${user.lastName}`}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>\r\n                    <span className={`role-badge role-${user.role.replace('_', '-')}`}>\r\n                      {user.role.replace('_', ' ').toUpperCase()}\r\n                    </span>\r\n                  </td>\r\n                  <td>{user.divisionDisplay || user.divisionName || (user.division?.name) || getDivisionName(user.division) || 'N/A'}</td>\r\n                  <td>{user.sectionDisplay || user.sectionName || (user.section?.name) || getSectionName(user.section) || 'N/A'}</td>\r\n                  <td>\r\n                    <span className={`status-badge status-${user.status}`}>\r\n                      {user.status.toUpperCase()}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <div style={{ display: 'flex', gap: '8px' }}>\r\n                      <button \r\n                        className=\"btn-professional btn-primary\"\r\n                        onClick={canUpdateUser ? () => handleEditUser(user) : undefined}\r\n                        title={!canUpdateUser ? 'No permission to edit users' : 'Edit User'}\r\n                        disabled={!canUpdateUser}\r\n                        style={{ padding: '8px 12px', fontSize: '12px', cursor: canUpdateUser ? 'pointer' : 'not-allowed' }}\r\n                      >\r\n                        <i className=\"bi bi-pencil\"></i>\r\n                      </button>\r\n                      <button \r\n                        className=\"btn-professional btn-danger\"\r\n                        onClick={canDeleteSpecificUser(user.id) ? () => handleDeleteUser(user.id) : undefined}\r\n                        title={!canDeleteSpecificUser(user.id) ? (user.id === currentUser?._id || user.id === currentUser?.id ? 'Cannot delete your own account' : 'No permission to delete users') : 'Delete User'}\r\n                        disabled={!canDeleteSpecificUser(user.id)}\r\n                        style={{ padding: '8px 12px', fontSize: '12px', cursor: canDeleteSpecificUser(user.id) ? 'pointer' : 'not-allowed' }}\r\n                      >\r\n                        <i className=\"bi bi-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n            {users.length === 0 && (\r\n          <div className=\"no-data\">\r\n            <p>{t('noUsersFound')}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Professional Add/Edit User Modal */}\r\n      {showAddModal && (\r\n        <div className=\"user-modal-overlay\" onClick={() => setShowAddModal(false)}>\r\n          <div className=\"user-modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            {/* Decorative Elements */}\r\n            <div className=\"user-modal-decoration top-right\"></div>\r\n            \r\n            {/* Premium Modal Header */}\r\n            <div className=\"user-modal-header\">\r\n              <div className=\"user-modal-header-content\">\r\n                <div className=\"user-modal-icon-wrapper\">\r\n                  <i className={`bi ${editingUser ? 'bi-person-gear' : 'bi-person-plus-fill'}`}></i>\r\n                </div>\r\n                <div className=\"user-modal-title-group\">\r\n                  <h3 className=\"user-modal-title\">\r\n                    {editingUser ? t('editUser') : t('addNewUser')}\r\n                  </h3>\r\n                  <span className=\"user-modal-subtitle\">\r\n                    {editingUser ? 'Update user information and permissions' : 'Create a new user account'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button \r\n                className=\"user-modal-close-btn\"\r\n                onClick={() => setShowAddModal(false)}\r\n                type=\"button\"\r\n              >\r\n                <i className=\"bi bi-x-lg\"></i>\r\n              </button>\r\n            </div>\r\n            \r\n            {/* Modal Body with Form */}\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"user-modal-body\">\r\n                \r\n                {/* Personal Information Section */}\r\n                <div className=\"user-form-section\">\r\n                  <div className=\"user-form-section-header\">\r\n                    <div className=\"user-form-section-icon\">\r\n                      <i className=\"bi bi-person\"></i>\r\n                    </div>\r\n                    <span className=\"user-form-section-title\">Personal Information</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-form-grid\">\r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-person-badge\"></i>\r\n                        {t('firstName')} <span className=\"required\">*</span>\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-person user-input-icon\"></i>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"firstName\"\r\n                          className=\"user-form-input\"\r\n                          value={formData.firstName}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"Enter first name\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-person-badge\"></i>\r\n                        {t('lastName')} <span className=\"required\">*</span>\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-person user-input-icon\"></i>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"lastName\"\r\n                          className=\"user-form-input\"\r\n                          value={formData.lastName}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"Enter last name\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-form-grid\" style={{ marginTop: '20px' }}>\r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-envelope\"></i>\r\n                        {t('emailLabel')} <span className=\"required\">*</span>\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-envelope user-input-icon\"></i>\r\n                        <input\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          className=\"user-form-input\"\r\n                          value={formData.email}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"user@slpa.lk\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-hash\"></i>\r\n                        {t('employeeIdLabel')} <span className=\"required\">*</span>\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-hash user-input-icon\"></i>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"employeeId\"\r\n                          className=\"user-form-input\"\r\n                          value={formData.employeeId}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"e.g., EMP001\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* Organization Section */}\r\n                <div className=\"user-form-section\">\r\n                  <div className=\"user-form-section-header\">\r\n                    <div className=\"user-form-section-icon\">\r\n                      <i className=\"bi bi-building\"></i>\r\n                    </div>\r\n                    <span className=\"user-form-section-title\">Organization & Role</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-form-grid\">\r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-diagram-3\"></i>\r\n                        {t('divisionLabel')} <span className=\"required\">*</span>\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-diagram-3 user-input-icon\"></i>\r\n                        <select\r\n                          name=\"division\"\r\n                          className=\"user-form-select\"\r\n                          value={formData.division}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                        >\r\n                          <option value=\"\">{t('selectDivision')}</option>\r\n                          {divisions.map(division => (\r\n                            <option key={division._id || division.id || division.name} value={division.name}>\r\n                              {division.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-shield-check\"></i>\r\n                        {t('roleLabel')} <span className=\"required\">*</span>\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-shield-check user-input-icon\"></i>\r\n                        <select\r\n                          name=\"role\"\r\n                          className=\"user-form-select\"\r\n                          value={formData.role}\r\n                          onChange={handleInputChange}\r\n                          required\r\n                        >\r\n                          <option value=\"\">-- Choose a role --</option>\r\n                          {roles.map(role => (\r\n                            <option key={role.value} value={role.value}>\r\n                              {role.label} - {role.description || 'No description'}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-form-grid single\" style={{ marginTop: '20px' }}>\r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-collection\"></i>\r\n                        {t('sectionLabel')}\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-collection user-input-icon\"></i>\r\n                        <select\r\n                          name=\"section\"\r\n                          className=\"user-form-select\"\r\n                          value={formData.section}\r\n                          onChange={handleInputChange}\r\n                          disabled={!formData.division}\r\n                        >\r\n                          <option value=\"\">\r\n                            {!formData.division \r\n                              ? 'Select a division first' \r\n                              : availableSections.length === 0 \r\n                                ? 'No sections available' \r\n                                : t('selectSection')}\r\n                          </option>\r\n                          {availableSections.map(section => (\r\n                            <option key={section._id || section.id || section.name} value={section.name}>\r\n                              {formatSectionName(section.name)}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Subsection Dropdown */}\r\n                  {formData.section && availableSubsections.length > 0 && (\r\n                    <div className=\"user-form-grid single\" style={{ marginTop: '20px' }}>\r\n                      <div className=\"user-form-group\">\r\n                        <label className=\"user-form-label\">\r\n                          <i className=\"bi bi-diagram-3\"></i>\r\n                          Sub-Section\r\n                        </label>\r\n                        <div className=\"user-input-wrapper\">\r\n                          <i className=\"bi bi-diagram-3 user-input-icon\"></i>\r\n                          <select\r\n                            name=\"subsection\"\r\n                            className=\"user-form-select\"\r\n                            value={formData.subsection}\r\n                            onChange={handleInputChange}\r\n                          >\r\n                            <option value=\"\">Select Sub-Section (Optional)</option>\r\n                            {availableSubsections.map(subsection => (\r\n                              <option key={subsection._id || subsection.id} value={subsection.code}>\r\n                                {subsection.name}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Security Section */}\r\n                <div className=\"user-form-section\">\r\n                  <div className=\"user-form-section-header\">\r\n                    <div className=\"user-form-section-icon\">\r\n                      <i className=\"bi bi-shield-lock\"></i>\r\n                    </div>\r\n                    <span className=\"user-form-section-title\">Security</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"user-form-grid\">\r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-key\"></i>\r\n                        {t('passwordLabel')} {!editingUser && <span className=\"required\">*</span>}\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-lock user-input-icon\"></i>\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          className=\"user-form-input\"\r\n                          value={formData.password}\r\n                          onChange={handleInputChange}\r\n                          placeholder={editingUser ? \"Leave blank to keep current\" : \"Enter password\"}\r\n                          required={!editingUser}\r\n                          minLength=\"1\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"user-form-group\">\r\n                      <label className=\"user-form-label\">\r\n                        <i className=\"bi bi-key-fill\"></i>\r\n                        {t('confirmPasswordLabel')} {!editingUser && <span className=\"required\">*</span>}\r\n                      </label>\r\n                      <div className=\"user-input-wrapper\">\r\n                        <i className=\"bi bi-lock-fill user-input-icon\"></i>\r\n                        <input\r\n                          type=\"password\"\r\n                          name=\"confirmPassword\"\r\n                          className=\"user-form-input\"\r\n                          value={formData.confirmPassword}\r\n                          onChange={handleInputChange}\r\n                          placeholder={editingUser ? \"Leave blank to keep current\" : \"Confirm password\"}\r\n                          required={!editingUser}\r\n                          minLength=\"1\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n              </div>\r\n              \r\n              {/* Modal Footer */}\r\n              <div className=\"user-modal-footer\">\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"user-btn user-btn-cancel\"\r\n                  onClick={() => setShowAddModal(false)}\r\n                >\r\n                  <i className=\"bi bi-x-circle\"></i>\r\n                  {t('cancel')}\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"user-btn user-btn-submit\"\r\n                  disabled={!canCreateUser && !editingUser}\r\n                  title={!canCreateUser && !editingUser ? 'You do not have permission to add users' : ''}\r\n                >\r\n                  <i className={`bi ${editingUser ? 'bi-check-circle-fill' : 'bi-plus-circle-fill'}`}></i>\r\n                  {editingUser ? t('updateUser') : (canCreateUser ? t('addUser') : t('noPermissionAddUser'))}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;"],"names":["_ref","title","subtitle","icon","actions","onBack","_jsxs","_Fragment","children","className","onClick","style","marginBottom","background","color","border","width","padding","_jsx","fontWeight","src","logo","alt","alertContainer","getAlertContainer","document","createElement","id","body","appendChild","generateId","Date","now","Math","random","toString","substr","getIcon","type","icons","success","error","warning","info","question","showModernAlert","message","duration","showConfetti","container","alertId","alertEl","innerHTML","setTimeout","classList","remove","add","triggerConfetti","progressBar","querySelector","animationDuration","removeAlert","showConfirmDialog","_ref2","confirmText","cancelText","showIcon","Promise","resolve","dialogId","overlay","addEventListener","e","target","closest","action","dataset","removeDialog","alert","getElementById","dialog","i","confetti","left","animationDelay","backgroundColor","getRandomColor","colors","floor","length","users","setUsers","useState","loading","setLoading","showAddModal","setShowAddModal","editingUser","setEditingUser","formData","setFormData","firstName","lastName","email","employeeId","role","password","confirmPassword","phone","division","section","subsection","divisions","setDivisions","sections","setSections","availableSections","setAvailableSections","subsections","setSubsections","availableSubsections","setAvailableSubsections","roles","setRoles","canViewUsers","usePermission","canCreateUser","canUpdateUser","user","currentUser","useContext","AuthContext","t","useLanguage","canDeleteSpecificUser","userId","_id","getDivisionName","divisionId","idStr","String","find","div","some","c","undefined","name","getSectionName","sectionId","sec","formatSectionName","cleaned","replace","trim","useEffect","async","token","localStorage","getItem","API_BASE_URL","process","usersResponse","fetch","headers","ok","usersData","json","console","log","mappedUsers","data","map","subsectionId","divisionName","sectionNameRaw","sectionName","subsectionName","status","isActive","divisionDisplay","sectionDisplay","subsectionDisplay","errorText","text","userError","divisionsResponse","divisionsData","rawDivisions","normalizedDivisions","d","HIE_CODE","code","hie_code","HIE_NAME","hie_name","hie_relationship","HIE_RELATIONSHIP","sort","a","b","localeCompare","divisionError","sectionsResponse","sectionsData","rawSections","normalizedSections","s","section_code","section_name","divisionCode","division_code","division_id","division_name","sectionError","subsectionsResponse","subsectionsData","rawSubsections","normalizedSubsections","sub","_sub$subSection","_sub$subSection2","_sub$parentSection","_sub$parentSection2","_sub$parentSection3","_sub$parentDivision","_sub$parentDivision2","_sub$parentDivision3","sub_code","subSection","sub_hie_code","sub_hie_name","sub_name","parentSection","section_id","sectionCode","parentDivision","subsectionError","rolesResponse","rolesData","roleError","fetchData","selectedDivision","selectedDivisionCode","filteredSections","filter","selectedSection","selectedSectionCode","filteredSubsections","handleInputChange","value","prev","PageHeader","handleAddUser","disabled","cursor","_user$division","_user$section","toUpperCase","display","gap","divisionValue","sectionValue","handleEditUser","fontSize","response","method","handleDeleteUser","stopPropagation","onSubmit","preventDefault","divisionObject","sectionObject","subsectionObject","userData","JSON","stringify","result","returnedUser","normalizeUser","u","normalized","newUser","onChange","placeholder","required","marginTop","label","description","minLength"],"sourceRoot":""}