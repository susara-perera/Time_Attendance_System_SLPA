{"version":3,"file":"static/js/110.df3e3505.chunk.js","mappings":"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","sources":["components/dashboard/PageHeader.jsx","components/dashboard/SectionManagement.jsx","components/common/ModernAlert.jsx"],"sourcesContent":["import React from 'react';\r\nimport './PageHeader.css';\r\nimport logo from '../../assets/logo.jpg';\r\n\r\n/**\r\n * Reusable Page Header Component with Logo\r\n * @param {string} title - The page title\r\n * @param {string} subtitle - The page subtitle/description\r\n * @param {string} icon - Bootstrap icon class (e.g., \"bi-building\")\r\n * @param {React.ReactNode} actions - Optional action buttons\r\n * @param {function} onBack - Optional back navigation function\r\n */\r\nconst PageHeader = ({ title, subtitle, icon = 'bi-folder', actions, onBack }) => {\r\n  return (\r\n    <>\r\n      {onBack && (\r\n        <button \r\n          className=\"back-arrow-btn\"\r\n          onClick={onBack}\r\n          title=\"Back to Dashboard\"\r\n          style={{ marginBottom: '12px', background: 'transparent', color: '#0f172a', border: '1px solid rgba(15,23,42,0.08)', width: 'auto', padding: '8px 12px' }}\r\n        >\r\n          <i className=\"bi bi-arrow-left\"></i>&nbsp;<span style={{ fontWeight: 600 }}>Back</span>\r\n        </button>\r\n      )}\r\n      <div className=\"page-header-banner\">\r\n        <div className=\"page-header-content\">\r\n          <div className=\"page-header-left\">\r\n            <div className=\"page-header-icon\">\r\n              <i className={`bi ${icon}`}></i>\r\n            </div>\r\n            <div className=\"page-header-text\">\r\n              <h1>{title}</h1>\r\n              {subtitle && <p>{subtitle}</p>}\r\n            </div>\r\n          </div>\r\n        <div className=\"page-header-right\">\r\n          {actions && <div className=\"page-header-actions\">{actions}</div>}\r\n          <div className=\"page-header-logo\">\r\n            <img src={logo} alt=\"Company Logo\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Decorative Elements */}\r\n      <div className=\"page-header-decoration\">\r\n        <div className=\"decoration-circle decoration-circle-1\"></div>\r\n        <div className=\"decoration-circle decoration-circle-2\"></div>\r\n        <div className=\"decoration-circle decoration-circle-3\"></div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport usePermission from '../../hooks/usePermission';\r\nimport { showModernAlert, showConfirmDialog } from '../common/ModernAlert';\r\nimport PageHeader from './PageHeader';\r\nimport './SectionManagement.css';\r\n\r\nconst SectionManagement = ({ onBack }) => {\r\n  const [sections, setSections] = useState([]);\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  // HRIS source flag removed (was unused) - keep rawSections/rawDivisions for snapshots\r\n  const [selectedDivision, setSelectedDivision] = useState(''); // division _id or 'all'\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sortOption, setSortOption] = useState('name_asc'); // name_asc, name_desc, id_asc, id_desc\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [currentSection, setCurrentSection] = useState(null);\r\n  // Sub-section modal state\r\n  const [showSubModal, setShowSubModal] = useState(false);\r\n  const [subParentSection, setSubParentSection] = useState(null);\r\n  const [subForm, setSubForm] = useState({ name: '', code: '' });\r\n  const [subSubmitting, setSubSubmitting] = useState(false);\r\n  const [subErrors, setSubErrors] = useState({});\r\n  // Sub-section edit modal state\r\n  const [showEditSubModal, setShowEditSubModal] = useState(false);\r\n  const [editingSubSection, setEditingSubSection] = useState(null); // { sectionId, subSection }\r\n  const [editSubForm, setEditSubForm] = useState({ name: '', code: '' });\r\n  const [editSubSubmitting, setEditSubSubmitting] = useState(false);\r\n  const [editSubErrors, setEditSubErrors] = useState({});\r\n  // Raw snapshots from HRIS\r\n  const [rawSections, setRawSections] = useState([]);\r\n  const [rawDivisions, setRawDivisions] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    division: ''\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  // Sub-sections display state\r\n  // expandedSections removed (not used)\r\n  const [subSectionsBySection, setSubSectionsBySection] = useState({}); // { [sectionId]: Array }\r\n  const [subSectionsLoading, setSubSectionsLoading] = useState({}); // { [sectionId]: boolean }\r\n  const [subSectionsError, setSubSectionsError] = useState({}); // { [sectionId]: string }\r\n  // Sub-sections popup modal state\r\n  const [showSubSectionsModal, setShowSubSectionsModal] = useState(false);\r\n  const [currentSectionForSubSections, setCurrentSectionForSubSections] = useState(null);\r\n  // Delete confirmation modal state\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [deleteTarget, setDeleteTarget] = useState(null); // { sectionId, subSectionId }\r\n  // Employee list modal state\r\n  const [showEmployeeModal, setShowEmployeeModal] = useState(false);\r\n  // Bulk transfer selection state\r\n  const [selectedEmployeeIds, setSelectedEmployeeIds] = useState(new Set());\r\n  const [showBulkTransferConfirm, setShowBulkTransferConfirm] = useState(false);\r\n  const [employeeList, setEmployeeList] = useState([]);\r\n  const [employeeLoading, setEmployeeLoading] = useState(false);\r\n  const [selectedSubSection, setSelectedSubSection] = useState(null);\r\n  // Transfer confirmation modal state\r\n  const [showTransferConfirm, setShowTransferConfirm] = useState(false);\r\n  const [transferEmployee, setTransferEmployee] = useState(null);\r\n  const [transferSubmitting, setTransferSubmitting] = useState(false);\r\n  // Track transferred employees\r\n  const [transferredEmployees, setTransferredEmployees] = useState([]);\r\n  // Recall confirmation modal state\r\n  const [showRecallConfirm, setShowRecallConfirm] = useState(false);\r\n  const [recallEmployee, setRecallEmployee] = useState(null);\r\n  const [recallSubmitting, setRecallSubmitting] = useState(false);\r\n  // Transferred employees modal state\r\n  const [showTransferredEmployeesModal, setShowTransferredEmployeesModal] = useState(false);\r\n  // Bulk recall selection state\r\n  const [selectedTransferredEmployeeIds, setSelectedTransferredEmployeeIds] = useState(new Set());\r\n  const [showBulkRecallConfirm, setShowBulkRecallConfirm] = useState(false);\r\n  const [bulkRecallSubmitting, setBulkRecallSubmitting] = useState(false);\r\n  const [transferredEmployeesList, setTransferredEmployeesList] = useState([]);\r\n  const [transferredLoading, setTransferredLoading] = useState(false);\r\n  // Employee counts\r\n  const [activeEmployeeCount, setActiveEmployeeCount] = useState(0);\r\n  const [inactiveEmployeeCount, setInactiveEmployeeCount] = useState(0);\r\n  // Search state for employee modals\r\n  const [employeeSearchQuery, setEmployeeSearchQuery] = useState('');\r\n  const [transferredSearchQuery, setTransferredSearchQuery] = useState('');\r\n  // Toast popup state\r\n  const [toast, setToast] = useState({ show: false, type: 'success', title: '', message: '' });\r\n  const toastTimerRef = useRef(null);\r\n  const canView = usePermission('sections', 'read');\r\n  const canCreate = usePermission('sections', 'create');\r\n  const canViewSubsections = usePermission('subsections', 'read');\r\n  const canCreateSubsection = usePermission('subsections', 'create');\r\n  const canUpdateSubsection = usePermission('subsections', 'update');\r\n  const canDeleteSubsection = usePermission('subsections', 'delete');\r\n  const canTransferSubsection = usePermission('subsections', 'transfer');\r\n  const canRecallSubsection = usePermission('subsections', 'recall');\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n  // Toast helpers\r\n  const hideToast = () => {\r\n    if (toastTimerRef.current) {\r\n      clearTimeout(toastTimerRef.current);\r\n      toastTimerRef.current = null;\r\n    }\r\n    setToast((t) => ({ ...t, show: false }));\r\n  };\r\n\r\n  const showToast = ({ type = 'success', title = '', message = '', duration = 3000 }) => {\r\n    if (toastTimerRef.current) {\r\n      clearTimeout(toastTimerRef.current);\r\n      toastTimerRef.current = null;\r\n    }\r\n    // Ensure message is a string to avoid React rendering objects as children\r\n    const safeMessage = (message && typeof message === 'object') ? (message.message || JSON.stringify(message)) : String(message || '');\r\n    setToast({ show: true, type, title, message: safeMessage });\r\n    toastTimerRef.current = setTimeout(() => {\r\n      setToast((t) => ({ ...t, show: false }));\r\n      toastTimerRef.current = null;\r\n    }, duration);\r\n  };\r\n\r\n  // Helpers: robust date parsing for HRIS/Mongo-like payloads\r\n  const formatDateYmd = (d) => {\r\n    const pad = (n) => String(n).padStart(2, '0');\r\n    return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;\r\n  };\r\n\r\n  const parseHrisDate = (value) => {\r\n    if (!value) return '';\r\n    try {\r\n      if (typeof value === 'string') {\r\n        const asNum = Number(value);\r\n        if (!Number.isNaN(asNum) && value.trim() !== '') {\r\n          const d = new Date(asNum);\r\n          return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n        }\r\n        const d = new Date(value);\r\n        return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n      }\r\n      if (typeof value === 'number') {\r\n        const d = new Date(value);\r\n        return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n      }\r\n      if (typeof value === 'object') {\r\n        if (value.$date) {\r\n          const v = value.$date;\r\n          if (typeof v === 'object' && v.$numberLong) {\r\n            const d = new Date(Number(v.$numberLong));\r\n            return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n          }\r\n          if (typeof v === 'string' || typeof v === 'number') {\r\n            const d = new Date(v);\r\n            return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n          }\r\n        }\r\n        if (value.$numberLong) {\r\n          const d = new Date(Number(value.$numberLong));\r\n          return Number.isNaN(d) ? '' : formatDateYmd(d);\r\n        }\r\n      }\r\n    } catch (_) {\r\n      return '';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // Utils\r\n  const getAuthToken = () => localStorage.getItem('token');\r\n\r\n  // Fetch sub-sections for a given section id\r\n  const fetchSubSections = async (sectionId, { force = false } = {}) => {\r\n    if (!sectionId) return;\r\n    if (subSectionsBySection[sectionId] && !force) return; // cached\r\n    const token = getAuthToken();\r\n    if (!token) return;\r\n    setSubSectionsLoading(prev => ({ ...prev, [sectionId]: true }));\r\n    setSubSectionsError(prev => ({ ...prev, [sectionId]: '' }));\r\n    try {\r\n      // Find the section to get its code\r\n      const section = sections.find(s => s._id === sectionId);\r\n      const sectionCode = section?.code || sectionId;\r\n      \r\n      const resp = await fetch(`${API_BASE_URL}/mysql-subsections?sectionId=${encodeURIComponent(sectionCode)}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` },\r\n        credentials: 'include'\r\n      });\r\n      if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\r\n      const data = await resp.json();\r\n      const items = Array.isArray(data?.data) ? data.data : [];\r\n      setSubSectionsBySection(prev => ({ ...prev, [sectionId]: items }));\r\n    } catch (e) {\r\n      console.error('Failed to fetch sub-sections:', e);\r\n      setSubSectionsError(prev => ({ ...prev, [sectionId]: 'Failed to load sub-sections' }));\r\n    } finally {\r\n      setSubSectionsLoading(prev => ({ ...prev, [sectionId]: false }));\r\n    }\r\n  };\r\n\r\n  const toggleSubSections = async (section) => {\r\n    setCurrentSectionForSubSections(section);\r\n    setShowSubSectionsModal(true);\r\n    const id = section._id;\r\n    if (!subSectionsBySection[id]) {\r\n      await fetchSubSections(id);\r\n    }\r\n  };\r\n\r\n  const handleCloseSubSectionsModal = () => {\r\n    setShowSubSectionsModal(false);\r\n    setCurrentSectionForSubSections(null);\r\n  };\r\n\r\n  // Sub-section edit/delete\r\n  const handleEditSubSection = (sectionId, item) => {\r\n    // Get parent division and section names from currentSectionForSubSections\r\n    const divisionName = getDivisionName(currentSectionForSubSections?.division);\r\n    const sectionName = currentSectionForSubSections?.name || 'N/A';\r\n    \r\n    setEditingSubSection({ \r\n      sectionId, \r\n      subSection: item,\r\n      parentDivision: divisionName,\r\n      parentSection: sectionName\r\n    });\r\n    setEditSubForm({\r\n      name: item?.subSection?.sub_hie_name || item?.subSection?.hie_name || item?.subSection?.name || '',\r\n      code: item?.subSection?.sub_hie_code || item?.subSection?.hie_code || item?.subSection?.code || ''\r\n    });\r\n    setEditSubErrors({});\r\n    setShowEditSubModal(true);\r\n  };\r\n\r\n  const submitEditSubSection = async () => {\r\n    if (!editingSubSection) return;\r\n    if (!canUpdateSubsection) {\r\n      showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to update sub-sections.' });\r\n      return;\r\n    }\r\n\r\n    // Validate\r\n    const errors = {};\r\n    if (!editSubForm.name.trim()) errors.name = 'Sub-section name is required';\r\n    if (!editSubForm.code.trim()) errors.code = 'Sub-section code is required';\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      setEditSubErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setEditSubSubmitting(true);\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setEditSubSubmitting(false);\r\n      showToast({ type: 'error', title: 'Auth', message: 'Token missing. Please login.' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const subSectionId = editingSubSection?.subSection?._id || editingSubSection?.subSection?._id || editingSubSection?.subSection?.id || editingSubSection?.subSection?.section_id || '';\r\n      const payload = {\r\n        // Provide multiple keys for compatibility with different backend routes\r\n        sub_hie_name: editSubForm.name.trim(),\r\n        sub_hie_code: editSubForm.code.trim(),\r\n        hie_name: editSubForm.name.trim(),\r\n        hie_code: editSubForm.code.trim(),\r\n        name: editSubForm.name.trim(),\r\n        code: editSubForm.code.trim()\r\n      };\r\n\r\n      const resp = await fetch(`${API_BASE_URL}/mysql-subsections/${encodeURIComponent(subSectionId)}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(payload)\r\n      });\r\n\r\n      if (!resp.ok) {\r\n        let msg = `Failed to update sub-section (HTTP ${resp.status})`;\r\n        try { const j = await resp.json(); msg = j?.message || msg; } catch (_) {}\r\n        throw new Error(msg);\r\n      }\r\n\r\n      // Close and reset\r\n      setShowEditSubModal(false);\r\n      setEditingSubSection(null);\r\n      setEditSubForm({ name: '', code: '' });\r\n      setEditSubSubmitting(false);\r\n\r\n      setTimeout(() => {\r\n        showToast({ type: 'success', title: 'Success!', message: 'Sub-section updated successfully.' });\r\n      }, 150);\r\n\r\n      // Refresh sub-section list\r\n      await fetchSubSections(editingSubSection.sectionId, { force: true });\r\n    } catch (e) {\r\n      console.error('Edit sub-section failed:', e);\r\n      setEditSubSubmitting(false);\r\n      showToast({ type: 'error', title: 'Failed', message: (e?.message || 'Could not update sub-section.') });\r\n    }\r\n  };\r\n\r\n  const closeEditSubModal = () => {\r\n    setShowEditSubModal(false);\r\n    setEditingSubSection(null);\r\n    setEditSubForm({ name: '', code: '' });\r\n    setEditSubErrors({});\r\n    setEditSubSubmitting(false);\r\n  };\r\n\r\n  const handleDeleteSubSection = (sectionId, id) => {\r\n    setDeleteTarget({ sectionId, subSectionId: id });\r\n    setShowDeleteConfirm(true);\r\n  };\r\n\r\n  const confirmDeleteSubSection = async () => {\r\n    if (!deleteTarget) return;\r\n    if (!canDeleteSubsection) {\r\n      setShowDeleteConfirm(false);\r\n      setDeleteTarget(null);\r\n      return showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to delete sub-sections.' });\r\n    }\r\n    const { sectionId, subSectionId } = deleteTarget;\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setShowDeleteConfirm(false);\r\n      setDeleteTarget(null);\r\n      return showToast({ type: 'error', title: 'Auth', message: 'Token missing. Please login.' });\r\n    }\r\n    try {\r\n  const resp = await fetch(`${API_BASE_URL}/mysql-subsections/${subSectionId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer ${token}` },\r\n        credentials: 'include',\r\n      });\r\n      if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\r\n      \r\n      // Close modal first\r\n      setShowDeleteConfirm(false);\r\n      setDeleteTarget(null);\r\n      \r\n      // Small delay to ensure modal is closed before showing toast\r\n      setTimeout(() => {\r\n        showToast({ type: 'success', title: 'Success!', message: 'Sub-section deleted successfully.' });\r\n      }, 150);\r\n      \r\n      await fetchSubSections(sectionId, { force: true });\r\n    } catch (e) {\r\n      console.error('Delete sub-section failed:', e);\r\n      setShowDeleteConfirm(false);\r\n      setDeleteTarget(null);\r\n      setTimeout(() => {\r\n        showToast({ type: 'error', title: 'Failed', message: 'Could not delete sub-section.' });\r\n      }, 150);\r\n    }\r\n  };\r\n\r\n  // Fetch transferred employees (MySQL) and return mapped IDs for immediate filtering\r\n  const fetchTransferredEmployees = async (subSectionId, token) => {\r\n    try {\r\n      console.log(' Fetching transferred employees for subsection:', subSectionId);\r\n      \r\n  const response = await fetch(`${API_BASE_URL}/mysql-subsections/transferred/${subSectionId}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      });\r\n\r\n      console.log(' Response status:', response.status);\r\n\r\n      if (!response.ok) {\r\n        console.error(' Failed to fetch transferred employees. Status:', response.status);\r\n        return [];\r\n      }\r\n      const data = await response.json();\r\n      console.log(' Response data:', data);\r\n      const transfers = data?.data || [];\r\n      console.log(' Number of transfers found:', transfers.length);\r\n      if (transfers.length > 0) console.log(' Transfer records:', transfers);\r\n\r\n      const transferredIds = transfers.map(t => ({\r\n        employeeId: String(t.employeeId || t.employee_id || t.empId || t.emp_id || ''),\r\n        sub_section_id: t.sub_section_id || t.subSectionId || t.subsection_id || t.subsectionId\r\n      }));\r\n      console.log(' Mapped transferred IDs:', transferredIds);\r\n      setTransferredEmployees(prev => {\r\n        const filtered = prev.filter(t => t.sub_section_id !== subSectionId);\r\n        const updated = [...filtered, ...transferredIds];\r\n        console.log(' Updated transferred employees list:', updated);\r\n        return updated;\r\n      });\r\n      return transferredIds;\r\n    } catch (error) {\r\n      console.error(' Error fetching transferred employees:', error);\r\n      // Don't show error toast, just log it\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Handle opening employee list modal\r\n  const handleAddEmployeeToSubSection = async (subSection) => {\r\n    if (!canTransferSubsection) {\r\n      showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to transfer employees.' });\r\n      return;\r\n    }\r\n    setSelectedSubSection(subSection);\r\n    setShowEmployeeModal(true);\r\n    setSelectedEmployeeIds(new Set());\r\n    setEmployeeLoading(true);\r\n    setEmployeeList([]);\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        throw new Error('No authentication token');\r\n      }\r\n\r\n      // Fetch already transferred employees for this subsection and keep local copy\r\n      const currentTransferred = await fetchTransferredEmployees(subSection._id, token);\r\n\r\n      // Helper: normalization and tolerant matching\r\n      const norm = (v) => (v === undefined || v === null ? '' : String(v).trim().toLowerCase());\r\n      const anyMatch = (values, target) => {\r\n        const t = norm(target);\r\n        if (!t) return false;\r\n        return (values || []).some(v => {\r\n          const vv = norm(v);\r\n          return vv && (vv === t || vv.includes(t) || t.includes(vv));\r\n        });\r\n      };\r\n\r\n      // Extract division and section identifiers from subSection using multiple keys\r\n      const divisionCode = subSection?.parentDivision?.division_code || subSection?.parentDivision?.divisionCode || subSection?.parentDivision?.code || '';\r\n      const divisionName = subSection?.parentDivision?.division_name || subSection?.parentDivision?.divisionName || subSection?.parentDivision?.name || '';\r\n      const sectionCode = subSection?.parentSection?.hie_code || subSection?.parentSection?.hieCode || subSection?.parentSection?.code || '';\r\n      const sectionName = subSection?.parentSection?.hie_name || subSection?.parentSection?.hieName || subSection?.parentSection?.name || '';\r\n\r\n      console.log(' Fetching employees from cache for (relaxed match):', { divisionCode, divisionName, sectionCode, sectionName });\r\n\r\n      // Fetch employees from cache (much faster than direct HRIS API call)\r\n      const response = await fetch(`${API_BASE_URL}/hris-cache/employees`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      const allEmployees = data?.data || data || [];\r\n\r\n      console.log(' Fetched from cache - Total employees:', allEmployees.length);\r\n\r\n      // Candidate extractor: returns many possible fields where division/section might live\r\n      const getEmpDivCandidates = (emp) => [\r\n        emp?.HIE_CODE_4, emp?.hie_code_4, emp?.DIVISION_CODE, emp?.division_code, emp?.divisionCode,\r\n        emp?.currentwork?.HIE_CODE_4, emp?.currentwork?.DIVISION_CODE, emp?.currentwork?.division_code, emp?.currentwork?.divisionCode,\r\n        emp?.HIE_NAME_3, emp?.hie_name_3, emp?.DIVISION_NAME, emp?.division_name, emp?.divisionName,\r\n        emp?.currentwork?.HIE_NAME_3, emp?.currentwork?.DIVISION_NAME, emp?.currentwork?.division_name\r\n      ].filter(Boolean);\r\n\r\n      const getEmpSecCandidates = (emp) => [\r\n        emp?.HIE_CODE_3, emp?.hie_code_3, emp?.SECTION_CODE, emp?.section_code, emp?.sectionCode,\r\n        emp?.currentwork?.HIE_CODE_3, emp?.currentwork?.SECTION_CODE, emp?.currentwork?.section_code, emp?.currentwork?.sectionCode,\r\n        emp?.HIE_NAME_4, emp?.hie_name_4, emp?.SECTION_NAME, emp?.section_name, emp?.sectionName,\r\n        emp?.currentwork?.HIE_NAME_4, emp?.currentwork?.SECTION_NAME, emp?.currentwork?.section_name\r\n      ].filter(Boolean);\r\n\r\n      // Primary strict filter (code or exact name)\r\n      let filteredEmployees = allEmployees.filter(emp => {\r\n        const divCandidates = getEmpDivCandidates(emp);\r\n        const secCandidates = getEmpSecCandidates(emp);\r\n\r\n        const divisionMatch = (divisionCode && anyMatch(divCandidates, divisionCode)) || (divisionName && anyMatch(divCandidates, divisionName));\r\n        const sectionMatch = (sectionCode && anyMatch(secCandidates, sectionCode)) || (sectionName && anyMatch(secCandidates, sectionName));\r\n        return divisionMatch && sectionMatch;\r\n      });\r\n\r\n      // If strict filter yields nothing, relax the matching rules (partial & name-based)\r\n      if (filteredEmployees.length === 0) {\r\n        console.warn('No employees found with strict matching; trying relaxed matching (partial / name-based)');\r\n        filteredEmployees = allEmployees.filter(emp => {\r\n          const divCandidates = getEmpDivCandidates(emp);\r\n          const secCandidates = getEmpSecCandidates(emp);\r\n\r\n          const divisionRelax = divisionCode ? anyMatch(divCandidates, divisionCode) || anyMatch([divisionCode], divCandidates.join(' ')) : (divisionName ? anyMatch(divCandidates, divisionName) : false);\r\n          const sectionRelax = sectionCode ? anyMatch(secCandidates, sectionCode) || anyMatch([sectionCode], secCandidates.join(' ')) : (sectionName ? anyMatch(secCandidates, sectionName) : false);\r\n\r\n          return (divisionRelax || (!divisionCode && divisionName && anyMatch(divCandidates, divisionName))) && (sectionRelax || (!sectionCode && sectionName && anyMatch(secCandidates, sectionName)));\r\n        });\r\n      }\r\n\r\n      console.log(' Filtered employees (after relaxed matching):', filteredEmployees.length);\r\n\r\n      // Exclude already transferred employees (both the authoritative currentTransferred and session-cached transferredEmployees)\r\n      const notTransferredEmployees = filteredEmployees.filter(emp => {\r\n        const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '');\r\n\r\n        const isInCurrent = (currentTransferred || []).some(\r\n          te => String(te.employeeId) === empId && String(te.sub_section_id) === String(subSection._id)\r\n        );\r\n\r\n        const isInSession = (transferredEmployees || []).some(\r\n          te => String(te.employeeId) === empId && String(te.sub_section_id) === String(subSection._id)\r\n        );\r\n\r\n        return !isInCurrent && !isInSession;\r\n      });\r\n\r\n      console.log(' Not transferred employees (after filtering):', notTransferredEmployees.length);\r\n\r\n      // Keep only active employees\r\n      const activeNotTransferred = notTransferredEmployees.filter(isEmployeeActive);\r\n      console.log(' Active not-transferred employees:', activeNotTransferred.length, '(filtered out:', notTransferredEmployees.length - activeNotTransferred.length, ')');\r\n\r\n      setEmployeeList(activeNotTransferred);\r\n      setEmployeeLoading(false);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching employees:', error);\r\n      setEmployeeLoading(false);\r\n      showToast({ \r\n        type: 'error', \r\n        title: 'Error', \r\n        message: 'Failed to fetch employees from HRIS API' \r\n      });\r\n    }\r\n  };\r\n\r\n  const closeEmployeeModal = () => {\r\n    setShowEmployeeModal(false);\r\n    setSelectedSubSection(null);\r\n    setEmployeeList([]);\r\n    setEmployeeSearchQuery('');\r\n    setSelectedEmployeeIds(new Set());\r\n    setShowBulkTransferConfirm(false);\r\n  };\r\n\r\n  // Toggle selection of employee for bulk transfer\r\n  const toggleSelectEmployee = (employee) => {\r\n    const id = String(employee?.EMP_NUMBER || employee?.empNumber || employee?.EMP_ID || employee?.emp_id || '');\r\n    setSelectedEmployeeIds(prev => {\r\n      const next = new Set(Array.from(prev));\r\n      if (next.has(id)) next.delete(id);\r\n      else next.add(id);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const selectAllCurrent = (allChecked, currentEmployeeList) => {\r\n    if (allChecked) {\r\n      const allIds = new Set((currentEmployeeList || employeeList).map(emp => String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '')));\r\n      setSelectedEmployeeIds(allIds);\r\n    } else {\r\n      setSelectedEmployeeIds(new Set());\r\n    }\r\n  };\r\n\r\n  // Handle transfer button click\r\n  const handleTransferEmployee = (employee) => {\r\n    setTransferEmployee(employee);\r\n    setShowTransferConfirm(true);\r\n  };\r\n\r\n  // Confirm transfer and save to MySQL\r\n  const confirmTransferEmployee = async () => {\r\n    if (!canTransferSubsection) {\r\n      setShowTransferConfirm(false);\r\n      setTransferEmployee(null);\r\n      return showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to transfer employees.' });\r\n    }\r\n\r\n    if (!transferEmployee || !selectedSubSection) return;\r\n\r\n    setTransferSubmitting(true);\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setTransferSubmitting(false);\r\n      setShowTransferConfirm(false);\r\n      return showToast({ type: 'error', title: 'Auth', message: 'Token missing. Please login.' });\r\n    }\r\n\r\n    try {\r\n      // Prepare transfer data\r\n      const transferData = {\r\n        employeeId: String(transferEmployee?.EMP_NUMBER || transferEmployee?.empNumber || transferEmployee?.EMP_ID || ''),\r\n        employeeName: transferEmployee?.FULLNAME || transferEmployee?.fullName || transferEmployee?.CALLING_NAME || '',\r\n        division_code: selectedSubSection?.parentDivision?.division_code || '',\r\n        division_name: selectedSubSection?.parentDivision?.division_name || '',\r\n        hie_code: selectedSubSection?.parentSection?.hie_code || '',\r\n        hie_name: selectedSubSection?.parentSection?.hie_name || '',\r\n        sub_section_id: selectedSubSection?._id || '',\r\n        sub_hie_code: selectedSubSection?.subSection?.sub_hie_code || selectedSubSection?.subSection?.hie_code || '',\r\n        sub_hie_name: selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || '',\r\n        transferredAt: new Date().toISOString(),\r\n        employeeData: transferEmployee // Store full employee record\r\n      };\r\n\r\n      console.log(' Transferring employee:', transferData);\r\n\r\n    // Save to MySQL\r\n    const response = await fetch(`${API_BASE_URL}/mysql-subsections/transfer`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(transferData)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(' Transfer successful - API response:', result);\r\n      \r\n      // Add employee to transferred list and immediately remove from selectable employee list\r\n      const newTransfer = { employeeId: transferData.employeeId, sub_section_id: transferData.sub_section_id };\r\n      setTransferredEmployees(prev => [...prev, newTransfer]);\r\n      setEmployeeList(prev => prev.filter(e => String(e?.EMP_NUMBER || e?.empNumber || e?.EMP_ID || '') !== String(transferData.employeeId)));\r\n      // Remove from the selection set if present\r\n      setSelectedEmployeeIds(prev => {\r\n        const next = new Set(Array.from(prev));\r\n        if (next.has(String(transferData.employeeId))) next.delete(String(transferData.employeeId));\r\n        return next;\r\n      });\r\n      setShowTransferConfirm(false);\r\n      setTransferEmployee(null);\r\n      setTransferSubmitting(false);\r\n\r\n      showToast({ \r\n        type: 'success', \r\n        title: 'Success!', \r\n        message: `Employee ${transferData.employeeName} has been successfully transferred to ${transferData.sub_hie_name}!` \r\n      });\r\n\r\n      console.log(' Transfer complete - Record saved to DB with ID:', result?.data?._id);\r\n\r\n    } catch (error) {\r\n      console.error(' Transfer failed:', error);\r\n      setTransferSubmitting(false);\r\n      setShowTransferConfirm(false);\r\n      showToast({ \r\n        type: 'error', \r\n        title: 'Transfer Failed', \r\n        message: 'Failed to transfer employee. Please try again.' \r\n      });\r\n    }\r\n  };\r\n\r\n  const cancelTransfer = () => {\r\n    setShowTransferConfirm(false);\r\n    setTransferEmployee(null);\r\n  };\r\n\r\n  // Bulk transfer state\r\n  const [bulkTransferSubmitting, setBulkTransferSubmitting] = useState(false);\r\n\r\n  const confirmBulkTransfer = async () => {\r\n    if (!canTransferSubsection) {\r\n      setShowBulkTransferConfirm(false);\r\n      return showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to transfer employees.' });\r\n    }\r\n\r\n    if (!selectedSubSection || selectedEmployeeIds.size === 0) return;\r\n    setBulkTransferSubmitting(true);\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setBulkTransferSubmitting(false);\r\n      setShowBulkTransferConfirm(false);\r\n      return showToast({ type: 'error', title: 'Auth', message: 'Token missing. Please login.' });\r\n    }\r\n\r\n    try {\r\n      // build array of transfer objects\r\n      const selectedIdsArray = Array.from(selectedEmployeeIds);\r\n      const selectedEmployees = employeeList.filter(emp => selectedIdsArray.includes(String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '')));\r\n      const transfers = selectedEmployees.map(emp => ({\r\n        employeeId: String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || ''),\r\n        employeeName: emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '',\r\n        division_code: selectedSubSection?.parentDivision?.division_code || '',\r\n        division_name: selectedSubSection?.parentDivision?.division_name || '',\r\n        hie_code: selectedSubSection?.parentSection?.hie_code || '',\r\n        hie_name: selectedSubSection?.parentSection?.hie_name || '',\r\n        sub_section_id: selectedSubSection?._id || '',\r\n        sub_hie_code: selectedSubSection?.subSection?.sub_hie_code || selectedSubSection?.subSection?.hie_code || '',\r\n        sub_hie_name: selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || '',\r\n        transferredAt: new Date().toISOString(),\r\n        employeeData: emp\r\n      }));\r\n\r\n      // Try bulk endpoint first\r\n      let response = await fetch(`${API_BASE_URL}/mysql-subsections/transfer/bulk`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(transfers)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.warn('Bulk transfer failed, will fallback to single inserts if supported. Status:', response.status);\r\n        // If not ok and status not 404, check 404 or fallback\r\n        if (response.status === 404 || response.status === 501 || response.status === 405) {\r\n          // fallback to sequential single transfers\r\n          const singleResults = [];\r\n          for (const t of transfers) {\r\n            const r = await fetch(`${API_BASE_URL}/mysql-subsections/transfer`, {\r\n              method: 'POST',\r\n              headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': 'application/json'\r\n              },\r\n              credentials: 'include',\r\n              body: JSON.stringify(t)\r\n            });\r\n            singleResults.push(r);\r\n          }\r\n          const failed = singleResults.some(r => !r.ok);\r\n          if (failed) throw new Error('One or more single transfers failed in fallback');\r\n        } else {\r\n          // For other failures: attempt fallback too\r\n          const singleResults = [];\r\n          for (const t of transfers) {\r\n            const r = await fetch(`${API_BASE_URL}/mysql-subsections/transfer`, {\r\n              method: 'POST',\r\n              headers: {\r\n                'Authorization': `Bearer ${token}`,\r\n                'Content-Type': 'application/json'\r\n              },\r\n              credentials: 'include',\r\n              body: JSON.stringify(t)\r\n            });\r\n            singleResults.push(r);\r\n          }\r\n          const failed = singleResults.some(r => !r.ok);\r\n          if (failed) throw new Error('One or more single transfers failed in fallback');\r\n        }\r\n      } else {\r\n        // bulk ok\r\n        const bulkResult = await response.json();\r\n        console.log('Bulk transfer result:', bulkResult);\r\n      }\r\n\r\n      // Update local state: mark employees as transferred and remove from employeeList\r\n      setTransferredEmployees(prev => {\r\n        const newEntries = transfers.map(t => ({ employeeId: String(t.employeeId), sub_section_id: String(t.sub_section_id) }));\r\n        // Remove duplicates\r\n        const combined = [...prev, ...newEntries];\r\n        const uniq = [];\r\n        const seen = new Set();\r\n        combined.forEach(c => {\r\n          const key = `${c.employeeId}_${c.sub_section_id}`;\r\n          if (!seen.has(key)) { seen.add(key); uniq.push(c); }\r\n        });\r\n        return uniq;\r\n      });\r\n\r\n      setEmployeeList(prev => prev.filter(emp => !selectedEmployeeIds.has(String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || ''))));\r\n      setSelectedEmployeeIds(new Set());\r\n      setShowBulkTransferConfirm(false);\r\n      setBulkTransferSubmitting(false);\r\n\r\n      showToast({ type: 'success', title: 'Bulk Transfer Completed', message: `${transfers.length} employee${transfers.length !== 1 ? 's were' : ' was'} transferred successfully.` });\r\n      // Refresh authoritative transferred list for this sub-section\r\n      try {\r\n        await fetchTransferredEmployees(selectedSubSection._id, token);\r\n      } catch (e) {\r\n        console.warn('Failed to refresh transfers after bulk operation', e);\r\n      }\r\n    } catch (error) {\r\n      console.error('Bulk transfer failed:', error);\r\n      setShowBulkTransferConfirm(false);\r\n      setBulkTransferSubmitting(false);\r\n      showToast({ type: 'error', title: 'Transfer Failed', message: 'Bulk transfer failed. Check console for details.' });\r\n    }\r\n  };\r\n\r\n  // Handle recall button click - show confirmation modal\r\n  const handleRecallTransfer = (emp) => {\r\n    setRecallEmployee(emp);\r\n    setShowRecallConfirm(true);\r\n  };\r\n\r\n  // Confirm recall and delete from MySQL\r\n  const confirmRecallTransfer = async () => {\r\n    if (!canRecallSubsection) {\r\n      setShowRecallConfirm(false);\r\n      setRecallEmployee(null);\r\n      return showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to recall transfers.' });\r\n    }\r\n    if (!recallEmployee || !selectedSubSection) return;\r\n\r\n    setRecallSubmitting(true);\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setRecallSubmitting(false);\r\n      setShowRecallConfirm(false);\r\n      return showToast({ type: 'error', title: 'Auth', message: 'Token missing. Please login.' });\r\n    }\r\n\r\n  const empId = recallEmployee?.EMP_NUMBER || recallEmployee?.empNumber || recallEmployee?.EMP_ID || recallEmployee?.emp_id;\r\n  const empName = recallEmployee?.FULLNAME || recallEmployee?.fullName || recallEmployee?.CALLING_NAME || recallEmployee?.calling_name || recallEmployee?.name || 'Employee';\r\n\r\n    try {\r\n      // Extra debug to validate payload shape\r\n      console.log('RECALL PAYLOAD:', { employeeId: String(empId), sub_section_id: selectedSubSection?._id });\r\n      console.log(' Recalling transfer for:', { empId, sub_section_id: selectedSubSection._id });\r\n\r\n      // Provide query params redundantly to handle environments that drop DELETE bodies\r\n      const recallUrl = `${API_BASE_URL}/mysql-subsections/recall-transfer?employeeId=${encodeURIComponent(String(empId))}&sub_section_id=${encodeURIComponent(String(selectedSubSection._id))}`;\r\n\r\n      let response = await fetch(recallUrl, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          employeeId: String(empId),\r\n          sub_section_id: selectedSubSection._id\r\n        })\r\n      });\r\n\r\n      // If DELETE fails (e.g., body stripped or method blocked), fall back to POST\r\n      if (!response.ok) {\r\n        console.warn('DELETE recall failed, attempting POST fallback...', response.status);\r\n        response = await fetch(`${API_BASE_URL}/mysql-subsections/recall-transfer`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify({\r\n            employeeId: String(empId),\r\n            sub_section_id: selectedSubSection._id\r\n          })\r\n        });\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n\r\n      // Remove from internal transferred IDs cache (only affects session-added transfers)\r\n      setTransferredEmployees(prev => prev.filter(t => !(String(t.employeeId) === String(empId) && String(t.sub_section_id) === String(selectedSubSection._id))));\r\n\r\n      // Re-fetch authoritative transferred list to ensure consistency even for legacy entries\r\n      try {\r\n        await fetchTransferredEmployees(selectedSubSection._id, token);\r\n      } catch (e) {\r\n        console.warn(' Failed to refresh transferred list after recall:', e);\r\n      }\r\n\r\n      // If the add-employee modal is open, reinsert the recalled employee (avoid duplicates)\r\n      setEmployeeList(prev => {\r\n        const exists = prev.some(e => String(e?.EMP_NUMBER || e?.empNumber || e?.EMP_ID || '') === String(empId));\r\n        if (exists) return prev; // already present\r\n        return [...prev, recallEmployee];\r\n      });\r\n\r\n      // Remove this id from the selected transferred set, if present\r\n      setSelectedTransferredEmployeeIds(prev => {\r\n        const next = new Set(Array.from(prev));\r\n        if (next.has(String(empId))) next.delete(String(empId));\r\n        return next;\r\n      });\r\n\r\n      setShowRecallConfirm(false);\r\n      setRecallEmployee(null);\r\n      setRecallSubmitting(false);\r\n\r\n      showToast({ \r\n        type: 'success', \r\n        title: 'Recalled!', \r\n        message: `Successfully recalled the transfer for ${empName}!` \r\n      });\r\n\r\n      console.log(' Recall successful:', result);\r\n\r\n      // Refresh visible transferred employees modal if still open\r\n      if (showTransferredEmployeesModal) {\r\n        await handleShowTransferredEmployees(selectedSubSection);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(' Recall failed:', error);\r\n      setRecallSubmitting(false);\r\n      setShowRecallConfirm(false);\r\n      showToast({ \r\n        type: 'error', \r\n        title: 'Recall Failed', \r\n        message: 'Failed to recall the transfer. Please try again.' \r\n      });\r\n    }\r\n  };\r\n\r\n  const cancelRecall = () => {\r\n    setShowRecallConfirm(false);\r\n    setRecallEmployee(null);\r\n  };\r\n\r\n  // Bulk recall confirm\r\n  const confirmBulkRecall = async () => {\r\n    if (!canRecallSubsection) {\r\n      setShowBulkRecallConfirm(false);\r\n      return showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to recall transfers.' });\r\n    }\r\n    if (!selectedSubSection || selectedTransferredEmployeeIds.size === 0) return;\r\n    setBulkRecallSubmitting(true);\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      setBulkRecallSubmitting(false);\r\n      setShowBulkRecallConfirm(false);\r\n      return showToast({ type: 'error', title: 'Auth', message: 'Token missing. Please login.' });\r\n    }\r\n\r\n    try {\r\n      const employees = Array.from(selectedTransferredEmployeeIds);\r\n      const recalls = employees.map(id => ({ employeeId: String(id), sub_section_id: selectedSubSection._id }));\r\n\r\n      // Try bulk recall endpoint first\r\n      let response = await fetch(`${API_BASE_URL}/mysql-subsections/recall-transfer/bulk`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(recalls)\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.warn('Bulk recall failed; falling back to individual recals', response.status);\r\n        // fallback: sequential recalls using existing endpoint\r\n        const results = [];\r\n        for (const r of recalls) {\r\n          const res = await fetch(`${API_BASE_URL}/mysql-subsections/recall-transfer`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            },\r\n            credentials: 'include',\r\n            body: JSON.stringify(r)\r\n          });\r\n          results.push(res);\r\n        }\r\n        const anyFailed = results.some(r => !r.ok);\r\n        if (anyFailed) throw new Error('One or more individual recalls failed during fallback');\r\n      } else {\r\n        // success bulk\r\n        const bulkResult = await response.json();\r\n        console.log('Bulk recall result:', bulkResult);\r\n      }\r\n\r\n      // Remove recalled employees from local array list and global state\r\n      setTransferredEmployeesList(prev => prev.filter(emp => !selectedTransferredEmployeeIds.has(String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || ''))));\r\n      setTransferredEmployees(prev => prev.filter(t => !selectedTransferredEmployeeIds.has(String(t.employeeId || t.employee_id || t.empId || t.emp_id))));\r\n      setSelectedTransferredEmployeeIds(new Set());\r\n      setShowBulkRecallConfirm(false);\r\n      setBulkRecallSubmitting(false);\r\n\r\n      showToast({ type: 'success', title: 'Recalled', message: `${employees.length} transfer${employees.length !== 1 ? 's' : ''} recalled successfully` });\r\n      // refresh authoritative transfers for this subsection\r\n      try { await fetchTransferredEmployees(selectedSubSection._id, token); } catch (e) { console.warn('Failed to refresh transferred employees after bulk recall', e); }\r\n    } catch (error) {\r\n      console.error('Bulk recall failed:', error);\r\n      setBulkRecallSubmitting(false);\r\n      setShowBulkRecallConfirm(false);\r\n      showToast({ type: 'error', title: 'Recall Failed', message: 'Bulk recall failed. Check console for details.' });\r\n    }\r\n  };\r\n\r\n  const cancelDeleteSubSection = () => {\r\n    setShowDeleteConfirm(false);\r\n    setDeleteTarget(null);\r\n  };\r\n\r\n  // Handle showing transferred employees only\r\n  const handleShowTransferredEmployees = async (subSection) => {\r\n    if (!canRecallSubsection) {\r\n      showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to view transferred employees.' });\r\n      return;\r\n    }\r\n    setSelectedSubSection(subSection);\r\n    setShowTransferredEmployeesModal(true);\r\n    setSelectedTransferredEmployeeIds(new Set());\r\n    setTransferredLoading(true);\r\n    setTransferredEmployeesList([]);\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        throw new Error('No authentication token');\r\n      }\r\n\r\n      console.log(' Fetching transferred employees for subsection:', subSection._id);\r\n\r\n      // Fetch transferred employees from MySQL\r\n  const response = await fetch(`${API_BASE_URL}/mysql-subsections/transferred/${subSection._id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}`);\r\n      }\r\n\r\n  const data = await response.json();\r\n  const transfers = data?.data || [];\r\n      \r\n      console.log(' Transferred employees:', transfers);\r\n\r\n      // Extract employee data from transfer records\r\n      const employeeDataList = transfers.map(transfer => {\r\n        // Support both Mongo-style 'employeeData' and MySQL 'employee_data'\r\n        const raw = transfer.employeeData ?? transfer.employee_data ?? null;\r\n        if (!raw) return {};\r\n        try {\r\n          // MySQL may return JSON as string; parse if needed\r\n          return typeof raw === 'string' ? JSON.parse(raw) : raw;\r\n        } catch (_) {\r\n          return {};\r\n        }\r\n      });\r\n      \r\n      // Keep only active employees in the transferred list\r\n      const activeEmployeeDataList = employeeDataList.filter(isEmployeeActive);\r\n      console.log(' Active transferred employees:', activeEmployeeDataList.length, '(filtered out:', employeeDataList.length - activeEmployeeDataList.length, ')');\r\n      setTransferredEmployeesList(activeEmployeeDataList);\r\n      setTransferredLoading(false);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching transferred employees:', error);\r\n      setTransferredLoading(false);\r\n      showToast({ \r\n        type: 'error', \r\n        title: 'Error', \r\n        message: 'Failed to fetch transferred employees' \r\n      });\r\n    }\r\n  };\r\n\r\n  const closeTransferredEmployeesModal = () => {\r\n    setShowTransferredEmployeesModal(false);\r\n    setSelectedSubSection(null);\r\n    setTransferredEmployeesList([]);\r\n    setTransferredSearchQuery('');\r\n    setSelectedTransferredEmployeeIds(new Set());\r\n    setShowBulkRecallConfirm(false);\r\n  };\r\n\r\n  // Helpers: string normalization and defaults\r\n  const normalizeTextKey = (s) => (typeof s === 'string' ? s.replace(/\\s+/g, ' ').trim().toLowerCase() : '');\r\n  const findDefaultDivisionId = (divs = []) => {\r\n    // Priority: code === 'IS' -> name contains 'information system' -> code === 'IT' -> name contains 'information technology'\r\n    const byCodeIS = divs.find(d => String(d.code || '').toLowerCase() === 'is');\r\n    if (byCodeIS) return String(byCodeIS._id);\r\n    const byNameIS = divs.find(d => /information\\s*systems?/i.test(String(d.name || '')));\r\n    if (byNameIS) return String(byNameIS._id);\r\n    const byCodeIT = divs.find(d => String(d.code || '').toLowerCase() === 'it');\r\n    if (byCodeIT) return String(byCodeIT._id);\r\n    const byNameIT = divs.find(d => /information\\s*technology/i.test(String(d.name || '')));\r\n    if (byNameIT) return String(byNameIT._id);\r\n    return 'all';\r\n  };\r\n\r\n  // Helper: determine if an employee object represents an active employee\r\n  const isEmployeeActive = (emp) => {\r\n    // HRIS uses ACTIVE_HRM_FLG === 1, some endpoints use STATUS/status === 'ACTIVE', local objects may have isActive boolean\r\n    return emp?.ACTIVE_HRM_FLG === 1 || emp?.STATUS === 'ACTIVE' || emp?.status === 'ACTIVE' || emp?.isActive === true;\r\n  };\r\n\r\n  // Fetch sections and divisions from MySQL sync tables (fallback to HRIS)\r\n  const fetchData = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n\r\n      // Primary: Use fast MySQL sync data (no auth required)\r\n      // Fallback: Use HRIS endpoints (may require auth)\r\n      const [sectionsResponse, divisionsResponse] = await Promise.all([\r\n        // Try MySQL sections first, fallback to HRIS\r\n        fetch(`${API_BASE_URL}/mysql-data/sections`, {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).catch(() => fetch(`${API_BASE_URL}/sections/hris`, {\r\n          headers: {\r\n            'Authorization': token ? `Bearer ${token}` : '',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        })),\r\n        // Try MySQL divisions first, fallback to HRIS\r\n        fetch(`${API_BASE_URL}/mysql-data/divisions`, {\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }).catch(() => fetch(`${API_BASE_URL}/divisions/hris`, {\r\n          headers: {\r\n            'Authorization': token ? `Bearer ${token}` : '',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        }))\r\n      ]);\r\n\r\n      let sectionData = [];\r\n      let divisionData = [];\r\n      let divisionMap = {}; // Map of code -> _id\r\n\r\n      // 1. Process Divisions First to build the lookup map\r\n      if (divisionsResponse.ok) {\r\n        const dData = await divisionsResponse.json();\r\n        const rows = Array.isArray(dData?.data) ? dData.data : [];\r\n        setRawDivisions(rows);\r\n        \r\n        divisionData = rows.map((d) => {\r\n          const divisionId = String(d?._id ?? d?.id ?? d?.DIVISION_ID ?? d?.code ?? d?.division_code ?? d?.DIVISION_CODE ?? d?.hie_code ?? d?.HIE_CODE ?? '');\r\n          const divisionCode = String(d?.code ?? d?.DIVISION_CODE ?? d?.division_code ?? d?.hie_code ?? d?.HIE_CODE ?? '');\r\n          \r\n          if (divisionCode) divisionMap[divisionCode] = divisionId;\r\n          \r\n          return {\r\n            _id: divisionId,\r\n            name: d?.name ?? d?.division_name ?? d?.DIVISION_NAME ?? d?.hie_name ?? d?.HIE_NAME ?? d?.HIE_NAME_3 ?? `Division ${divisionId}`,\r\n            code: divisionCode,\r\n            isActive: typeof d?.isActive === 'boolean' ? d.isActive : (typeof d?.active === 'boolean' ? d.active : (d?.STATUS === 'ACTIVE')),\r\n            status: d?.status ?? d?.STATUS ?? undefined,\r\n            createdAt: d?.createdAt ?? d?.created_at ?? d?.CREATED_AT ?? d?.createdOn ?? d?.CREATED_ON ?? d?.synced_at ?? null,\r\n            source: d?.source ?? (divisionsResponse.url?.includes('/mysql-data') ? 'MySQL Sync' : 'HRIS'),\r\n            _raw: d,\r\n          };\r\n        }).sort((a, b) => a.name.localeCompare(b.name));\r\n        \r\n        console.log('Division Map (Code -> ID):', Object.keys(divisionMap).length, 'entries');\r\n        setDivisions(divisionData);\r\n        \r\n        // Find IS Division (code 66) and set as default\r\n        // Try multiple matching strategies to find IS Division\r\n        const isDivision = divisionData.find(d => \r\n          d.code === '66' || \r\n          d.code === 66 || \r\n          d.divisionCode === '66' || \r\n          d.divisionCode === 66 ||\r\n          String(d.code).trim() === '66' ||\r\n          d.name?.toLowerCase().includes('information systems') ||\r\n          d.name?.toLowerCase().includes('is division')\r\n        );\r\n        \r\n        if (isDivision) {\r\n          setSelectedDivision(isDivision._id);\r\n          console.log(' Set default division to IS Division (66):', isDivision._id, isDivision.name);\r\n        } else {\r\n          console.log(' IS Division (66) not found, using \"all\"');\r\n          setSelectedDivision('all');\r\n        }\r\n      }\r\n\r\n      // 2. Process Sections using the division map\r\n      if (sectionsResponse.ok) {\r\n        const sData = await sectionsResponse.json();\r\n        const rows = Array.isArray(sData?.data) ? sData.data : [];\r\n        setRawSections(rows);\r\n        \r\n        sectionData = rows.map((s) => {\r\n          // Identify division code from section data\r\n          const divCode = String(s?.division_code ?? s?.DIVISION_CODE ?? s?.HIE_RELATIONSHIP ?? s?.HIE_CODE_3 ?? '');\r\n          \r\n          // Try to resolve division ID from map, fallback to raw division_id field\r\n          const resolvedDivisionId = divCode && divisionMap[divCode] ? divisionMap[divCode] : String(s?.division_id ?? s?.DIVISION_ID ?? divCode ?? '');\r\n          \r\n          const divisionName = s?.division_name ?? s?.DIVISION_NAME ?? s?.parentDivision?.division_name ?? s?.parentDivision?.name ?? '';\r\n          const sectionId = String(s?._id ?? s?.id ?? s?.SECTION_ID ?? s?.code ?? s?.hie_code ?? s?.SECTION_CODE ?? s?.section_code ?? s?.HIE_CODE ?? '');\r\n          \r\n          return {\r\n            _id: sectionId,\r\n            name: s?.name ?? s?.section_name ?? s?.SECTION_NAME ?? s?.hie_name ?? s?.HIE_NAME ?? s?.HIE_NAME_4 ?? s?.hie_relationship ?? `Section ${sectionId}`,\r\n            // IMPORTANT: division field must match the _id used in division filter\r\n            division: divisionName ? { _id: resolvedDivisionId || undefined, name: divisionName } : (resolvedDivisionId || ''),\r\n            code: String(s?.code ?? s?.SECTION_CODE ?? s?.hie_code ?? s?.HIE_CODE ?? s?.section_code ?? ''),\r\n            divisionCode: divCode,\r\n            isActive: typeof s?.isActive === 'boolean' ? s.isActive : (typeof s?.active === 'boolean' ? s.active : (s?.STATUS === 'ACTIVE')),\r\n            status: s?.status ?? s?.STATUS ?? undefined,\r\n            createdAt: s?.createdAt ?? s?.created_at ?? s?.CREATED_AT ?? s?.createdOn ?? s?.CREATED_ON ?? s?.synced_at ?? null,\r\n            source: s?.source ?? (sectionsResponse.url?.includes('/mysql-data') ? 'MySQL Sync' : 'HRIS'),\r\n            _raw: s,\r\n          };\r\n        }).sort((a, b) => a.name.localeCompare(b.name));\r\n        \r\n        setSections(sectionData);\r\n      }\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setLoading(false);\r\n    }\r\n  }, [API_BASE_URL]);\r\n\r\n  // Helper: get division name from id/code or populated object\r\n  const getDivisionName = (divisionRef) => {\r\n    if (typeof divisionRef === 'object' && divisionRef?.name) return divisionRef.name;\r\n    if (!divisionRef) return 'N/A';\r\n    const division = divisions.find(div => String(div._id) === String(divisionRef) || String(div.code) === String(divisionRef));\r\n    return division ? division.name : 'N/A';\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Clear error for this field\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Validate form\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!formData.name.trim()) {\r\n      errors.name = 'Section name is required';\r\n    }\r\n    \r\n    if (!formData.division) {\r\n      errors.division = 'Division is required';\r\n    }\r\n    \r\n    console.log('Form validation:', { formData, errors, divisionsCount: divisions.length });\r\n    \r\n    return errors;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // Front-end permission safeguard (create-only on this view)\r\n    if (!canCreate) {\r\n      showModernAlert({\r\n        type: 'error',\r\n        title: 'Permission Denied',\r\n        message: 'You do not have permission to perform this action.',\r\n        duration: 3000\r\n      });\r\n      return;\r\n    }\r\n\r\n    const errors = validateForm();\r\n    \r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        showModernAlert({\r\n          type: 'error',\r\n          title: 'Authentication Required',\r\n          message: 'Authentication token not found. Please log in again.',\r\n          duration: 3000\r\n        });\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // Prepare the data\r\n      const submitData = {\r\n        name: formData.name.trim(),\r\n        division: formData.division,\r\n        code: formData.name.trim().toUpperCase().replace(/[^A-Z0-9]/g, '_').slice(0, 10), // Generate valid code from name\r\n        status: 'active'\r\n      };\r\n\r\n      console.log('Submitting section data:', submitData);\r\n      console.log('Token available:', !!token);\r\n      console.log('Request URL:', currentSection ? \r\n        `http://localhost:5000/api/sections/${currentSection._id}` : \r\n        'http://localhost:5000/api/sections'\r\n      );\r\n      \r\n      if (currentSection) {\r\n        // Update existing section\r\n        const response = await fetch(`http://localhost:5000/api/sections/${currentSection._id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify(submitData)\r\n        });\r\n\r\n        console.log('Update response status:', response.status);\r\n        console.log('Update response headers:', Object.fromEntries(response.headers.entries()));\r\n\r\n        if (response.ok) {\r\n          const updatedSection = await response.json();\r\n          console.log('Section updated:', updatedSection);\r\n          \r\n          // Refresh data to get updated information\r\n          await fetchData();\r\n          \r\n          showModernAlert({\r\n            type: 'success',\r\n            title: 'Updated!',\r\n            message: 'Section updated successfully!',\r\n            duration: 3000\r\n          });\r\n        } else {\r\n          let errorMessage = 'Unknown error';\r\n          try {\r\n            const errorData = await response.json();\r\n            console.error('Failed to update section:', response.status, errorData);\r\n            \r\n            if (errorData.errors && Array.isArray(errorData.errors)) {\r\n              errorMessage = errorData.errors.map(err => err.message).join(', ');\r\n            } else if (errorData.error) {\r\n              errorMessage = errorData.error;\r\n            } else if (errorData.message) {\r\n              errorMessage = errorData.message;\r\n            }\r\n          } catch (jsonError) {\r\n            console.error('Error parsing response:', jsonError);\r\n            errorMessage = `HTTP ${response.status}: ${response.statusText}`;\r\n          }\r\n          \r\n          showModernAlert({\r\n            type: 'error',\r\n            title: 'Update Failed',\r\n            message: `Failed to update section: ${errorMessage}`,\r\n            duration: 4000\r\n          });\r\n        }\r\n      } else {\r\n        // Add new section\r\n        const response = await fetch('http://localhost:5000/api/sections', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify(submitData)\r\n        });\r\n\r\n        console.log('Create response status:', response.status);\r\n        console.log('Create response headers:', Object.fromEntries(response.headers.entries()));\r\n\r\n        if (response.ok) {\r\n          const newSection = await response.json();\r\n          console.log('Section created:', newSection);\r\n          \r\n          // Refresh data to get updated information\r\n          await fetchData();\r\n          \r\n          showModernAlert({\r\n            type: 'success',\r\n            title: 'Created!',\r\n            message: 'Section created successfully!',\r\n            duration: 3000,\r\n            showConfetti: true\r\n          });\r\n        } else {\r\n          let errorMessage = 'Unknown error';\r\n          try {\r\n            const errorData = await response.json();\r\n            console.error('Failed to create section:', response.status, errorData);\r\n            \r\n            if (errorData.errors && Array.isArray(errorData.errors)) {\r\n              errorMessage = errorData.errors.map(err => err.message).join(', ');\r\n            } else if (errorData.error) {\r\n              errorMessage = errorData.error;\r\n            } else if (errorData.message) {\r\n              errorMessage = errorData.message;\r\n            }\r\n          } catch (jsonError) {\r\n            console.error('Error parsing response:', jsonError);\r\n            errorMessage = `HTTP ${response.status}: ${response.statusText}`;\r\n          }\r\n          \r\n          showModernAlert({\r\n            type: 'error',\r\n            title: 'Creation Failed',\r\n            message: `Failed to create section: ${errorMessage}`,\r\n            duration: 4000\r\n          });\r\n        }\r\n      }\r\n      \r\n      handleCloseModal();\r\n    } catch (error) {\r\n      console.error('Error submitting section:', error);\r\n      showModernAlert({\r\n        type: 'error',\r\n        title: 'Error',\r\n        message: `Error ${currentSection ? 'updating' : 'adding'} section. Please try again.`,\r\n        duration: 4000\r\n      });\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle opening edit modal\r\n  // Edit/Delete removed: this view is read-only for sections (only sub-sections can be created/viewed)\r\n\r\n  // Handle create sub-section\r\n  const handleCreateSubSection = (section) => {\r\n    setSubParentSection(section);\r\n    setSubForm({ name: '', code: '' });\r\n    setSubErrors({});\r\n    setShowSubModal(true);\r\n  };\r\n\r\n  const closeSubModal = () => {\r\n    setShowSubModal(false);\r\n    setSubParentSection(null);\r\n    setSubForm({ name: '', code: '' });\r\n    setSubErrors({});\r\n  };\r\n\r\n  const validateSubForm = () => {\r\n    const errs = {};\r\n    if (!subForm.name.trim()) errs.name = 'Sub-section name is required';\r\n    if (!subForm.code.trim()) errs.code = 'Sub-section code is required';\r\n    return errs;\r\n  };\r\n\r\n  const submitSubSection = async () => {\r\n    if (!canCreateSubsection) {\r\n      showToast({ type: 'error', title: 'Permission', message: 'You do not have permission to create sub-sections.' });\r\n      return;\r\n    }\r\n    const errs = validateSubForm();\r\n    if (Object.keys(errs).length) { setSubErrors(errs); return; }\r\n    try {\r\n      setSubSubmitting(true);\r\n      const token = localStorage.getItem('token');\r\n      const parent = subParentSection;\r\n      const divId = (typeof parent.division === 'object' && parent.division?._id) ? parent.division._id : String(parent.division || '');\r\n      const division = divisions.find(d => String(d._id) === String(divId)) || {};\r\n      const rawDivision = rawDivisions.find(rd => {\r\n        const id = String(rd?._id ?? rd?.id ?? rd?.DIVISION_ID ?? rd?.code ?? rd?.DIVISION_CODE ?? '');\r\n        return id && String(id) === String(division._id || divId);\r\n      });\r\n      const rawSection = parent._raw || rawSections.find(rs => {\r\n        const sid = String(rs?._id ?? rs?.id ?? rs?.SECTION_ID ?? rs?.code ?? rs?.SECTION_CODE ?? '');\r\n        return sid && String(sid) === String(parent._id);\r\n      });\r\n\r\n      const sectionCode = rawSection?.hie_code || rawSection?.SECTION_CODE || rawSection?.code || parent.code || '';\r\n      const divisionCode = rawDivision?.DIVISION_CODE || rawDivision?.division_code || division.code || parent.divisionCode || '';\r\n      \r\n      const payload = {\r\n        parentDivision: {\r\n          id: divisionCode, // Use code instead of _id with mysql prefix\r\n          division_code: divisionCode,\r\n          division_name: rawDivision?.DIVISION_NAME || rawDivision?.division_name || division.name || (typeof parent.division === 'object' ? parent.division?.name : ''),\r\n        },\r\n        parentSection: {\r\n          id: sectionCode, // Use code instead of _id with mysql prefix\r\n          hie_code: sectionCode,\r\n          hie_name: rawSection?.hie_name || rawSection?.SECTION_NAME || rawSection?.name || parent.name || '',\r\n        },\r\n        subSection: {\r\n          sub_hie_name: subForm.name.trim(),\r\n          sub_hie_code: subForm.code.trim(),\r\n        },\r\n        hrisSnapshot: {\r\n          division: rawDivision || null,\r\n          section: rawSection || null,\r\n        },\r\n      };\r\n\r\n      console.log(' Subsection Payload:', JSON.stringify(payload, null, 2));\r\n\r\n  const resp = await fetch(`${API_BASE_URL}/mysql-subsections`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify(payload),\r\n      });\r\n\r\n      if (resp.ok) {\r\n        // Try to read created item from response for optimistic update\r\n        const createdResp = await resp.json().catch(() => null);\r\n        closeSubModal();\r\n        showToast({ type: 'success', title: 'Success', message: 'Sub-section created successfully.' });\r\n        // Refresh / optimistically update the parent section's sub-sections\r\n        const parentId = subParentSection?._id;\r\n        if (parentId) {\r\n          const key = String(parentId);\r\n          // derive created item from common response shapes\r\n          const createdItem = createdResp?.data ?? createdResp?.created ?? createdResp?.subSection ?? createdResp ?? null;\r\n          if (createdItem) {\r\n            setSubSectionsBySection(prev => ({ ...prev, [key]: [...(prev[key] || []), createdItem] }));\r\n          }\r\n          // ensure authoritative refresh (handles server-side transforms)\r\n          await fetchSubSections(parentId, { force: true });\r\n        }\r\n      } else {\r\n        let msg = 'Failed to create sub-section';\r\n        try { const err = await resp.json(); msg = err?.message || msg; } catch (_) {}\r\n        showToast({ type: 'error', title: 'Request Failed', message: msg });\r\n      }\r\n    } catch (e) {\r\n      console.error('Error creating sub-section:', e);\r\n      showToast({ type: 'error', title: 'Unexpected Error', message: 'Error creating sub-section.' });\r\n    } finally {\r\n      setSubSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle opening add modal\r\n  // Add/Edit removed from main UI; modal remains but opening is only via other flows if required.\r\n\r\n  // Handle closing modals\r\n  const handleCloseModal = () => {\r\n    setShowAddModal(false);\r\n    setShowEditModal(false);\r\n    setCurrentSection(null);\r\n    setFormData({ name: '', division: '' });\r\n    setFormErrors({});\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n    if (!canView) {\r\n      return (\r\n        <div className=\"section-management\">\r\n          <PageHeader\r\n            title=\"Section Management\"\r\n            subtitle=\"Manage organizational sections, sub-sections and employee assignments\"\r\n            icon=\"bi-diagram-3\"\r\n          />\r\n          <div className=\"professional-card\">\r\n            <div className=\"no-data\">\r\n              <p>You do not have permission to view sections. Contact a Super Admin for access.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n  // Derive filtered sections for current selection\r\n  const getSectionDivisionId = (section) => {\r\n    if (!section) return '';\r\n    if (typeof section.division === 'object' && section.division?._id) return String(section.division._id);\r\n    if (typeof section.division === 'string') return String(section.division);\r\n    return '';\r\n  };\r\n\r\n  const displayedSections = selectedDivision && selectedDivision !== 'all'\r\n    ? sections.filter(s => {\r\n        const sid = getSectionDivisionId(s);\r\n        if (sid) return String(sid) === String(selectedDivision);\r\n        // Fallback by name if only names are available\r\n        const sNameKey = normalizeTextKey(typeof s.division === 'object' ? s.division?.name : '');\r\n        const selectedName = divisions.find(d => String(d._id) === String(selectedDivision))?.name || '';\r\n        const selKey = normalizeTextKey(selectedName);\r\n        return sNameKey && selKey && sNameKey === selKey;\r\n      })\r\n    : sections;\r\n\r\n  // Apply search by section id or section name\r\n  const searchedSections = (() => {\r\n    const q = normalizeTextKey(searchQuery);\r\n    const filtered = !q ? displayedSections : displayedSections.filter(s => {\r\n      const idStr = String(s._id || s.code || s.sectionId || '');\r\n      const nameKey = normalizeTextKey(s.name || '');\r\n      return idStr.includes(q) || nameKey.includes(q);\r\n    });\r\n\r\n    // Apply sorting\r\n    const sorted = filtered.slice().sort((a, b) => {\r\n      const getName = (x) => String(x?.name || '').toLowerCase();\r\n      const getIdNum = (x) => {\r\n        const v = x?.code ?? x?.sectionId ?? x?._id ?? '';\r\n        const n = Number(String(v).replace(/[^0-9.-]/g, ''));\r\n        return Number.isFinite(n) ? n : String(v);\r\n      };\r\n\r\n      if (sortOption === 'name_asc') return getName(a).localeCompare(getName(b));\r\n      if (sortOption === 'name_desc') return getName(b).localeCompare(getName(a));\r\n      if (sortOption === 'id_asc') {\r\n        const ai = getIdNum(a); const bi = getIdNum(b);\r\n        if (typeof ai === 'number' && typeof bi === 'number') return ai - bi;\r\n        return String(ai).localeCompare(String(bi));\r\n      }\r\n      if (sortOption === 'id_desc') {\r\n        const ai = getIdNum(a); const bi = getIdNum(b);\r\n        if (typeof ai === 'number' && typeof bi === 'number') return bi - ai;\r\n        return String(bi).localeCompare(String(ai));\r\n      }\r\n      return 0;\r\n    });\r\n\r\n    return sorted;\r\n  })();\r\n\r\n  const handleDivisionSelect = (e) => setSelectedDivision(e.target.value);\r\n\r\n  return (\r\n    <div className=\"section-management\">\r\n      {/* Toast Styles and Component */}\r\n      <style>{`\r\n        @keyframes toast-slide-in { from { transform: translateY(-12px); opacity: 0 } to { transform: translateY(0); opacity: 1 } }\r\n        @keyframes toast-progress { from { width: 100% } to { width: 0 } }\r\n      `}</style>\r\n      {toast.show && (\r\n        <div\r\n          role=\"status\"\r\n          aria-live=\"polite\"\r\n          style={{\r\n            position: 'fixed',\r\n            top: 20,\r\n            right: 20,\r\n            zIndex: 12000,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              minWidth: 320,\r\n              maxWidth: 420,\r\n              background: '#111827',\r\n              color: 'white',\r\n              borderRadius: 12,\r\n              boxShadow: '0 10px 30px rgba(0,0,0,0.25)',\r\n              padding: 14,\r\n              display: 'flex',\r\n              gap: 12,\r\n              alignItems: 'flex-start',\r\n              animation: 'toast-slide-in 200ms ease-out',\r\n              borderLeft: `6px solid ${toast.type === 'success' ? '#10b981' : toast.type === 'warning' ? '#f59e0b' : '#ef4444'}`,\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: 36,\r\n                height: 36,\r\n                borderRadius: 8,\r\n                background: toast.type === 'success' ? 'rgba(16,185,129,0.18)' : toast.type === 'warning' ? 'rgba(245,158,11,0.18)' : 'rgba(239,68,68,0.18)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                color: toast.type === 'success' ? '#34d399' : toast.type === 'warning' ? '#fbbf24' : '#f87171',\r\n                flexShrink: 0,\r\n              }}\r\n            >\r\n              <i className={`bi ${toast.type === 'success' ? 'bi-check2-circle' : toast.type === 'warning' ? 'bi-exclamation-triangle' : 'bi-x-circle'}`} style={{ fontSize: 18 }}></i>\r\n            </div>\r\n            <div style={{ flex: 1 }}>\r\n              {toast.title ? (\r\n                <div style={{ fontWeight: 700, fontSize: 15, marginBottom: 2 }}>{toast.title}</div>\r\n              ) : null}\r\n              <div style={{ fontSize: 14, opacity: 0.95 }}>{toast.message}</div>\r\n              <div\r\n                style={{\r\n                  height: 3,\r\n                  background: 'rgba(255,255,255,0.2)',\r\n                  borderRadius: 2,\r\n                  marginTop: 10,\r\n                  overflow: 'hidden',\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    height: '100%',\r\n                    background: toast.type === 'success' ? '#34d399' : toast.type === 'warning' ? '#fbbf24' : '#f87171',\r\n                    animation: 'toast-progress 3s linear forwards',\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={hideToast}\r\n              aria-label=\"Close notification\"\r\n              style={{\r\n                background: 'transparent',\r\n                border: 'none',\r\n                color: 'rgba(255,255,255,0.8)',\r\n                cursor: 'pointer',\r\n                padding: 6,\r\n                borderRadius: 6,\r\n                alignSelf: 'center',\r\n              }}\r\n            >\r\n              <i className=\"bi bi-x-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bulk Transfer Confirmation Modal */}\r\n      {showBulkTransferConfirm && selectedSubSection && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 10001,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            maxWidth: '700px',\r\n            width: '100%',\r\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n            overflow: 'hidden'\r\n          }}>\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n              padding: '20px 28px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-people-fill\" style={{ fontSize: '22px', color: 'white' }}></i>\r\n              <h3 style={{ margin: 0, color: 'white', fontSize: '18px', fontWeight: '600' }}>\r\n                Confirm Bulk Transfer ({selectedEmployeeIds.size} selected)\r\n              </h3>\r\n            </div>\r\n            <div style={{ padding: '24px' }}>\r\n              <p style={{ fontSize: '14px', color: '#374151', marginBottom: '12px' }}>\r\n                You're about to transfer <strong>{selectedEmployeeIds.size}</strong> employee{selectedEmployeeIds.size !== 1 ? 's' : ''} to:\r\n              </p>\r\n              <div style={{ padding: '12px 16px', background: '#f9fafb', borderRadius: '8px', border: '1px solid #e5e7eb' }}>\r\n                <div style={{ fontSize: '14px', color: '#1f2937', fontWeight: '600' }}>{selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'N/A'}</div>\r\n                <div style={{ fontSize: '13px', color: '#6b7280' }}>{selectedSubSection?.parentSection?.hie_name || 'Section: N/A'}</div>\r\n                <div style={{ fontSize: '13px', color: '#6b7280' }}>{selectedSubSection?.parentDivision?.division_name || 'Division: N/A'}</div>\r\n              </div>\r\n              <div style={{ marginTop: '18px' }}>\r\n                <strong style={{ color: '#374151' }}>Selected employees preview:</strong>\r\n                <div style={{ marginTop: '8px', maxHeight: '160px', overflowY: 'auto', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '8px' }}>\r\n                  {Array.from(selectedEmployeeIds).slice(0, 10).map((id, idx) => {\r\n                    const emp = employeeList.find(e => String(e?.EMP_NUMBER || e?.empNumber || e?.EMP_ID || e?.emp_id || '') === id);\r\n                    const name = emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || id;\r\n                    return (\r\n                      <div key={id + idx} style={{ padding: '6px 8px', borderBottom: '1px dashed #e5e7eb', fontSize: '13px' }}>{id} - {name}</div>\r\n                    );\r\n                  })}\r\n                  {selectedEmployeeIds.size > 10 && (\r\n                    <div style={{ padding: '6px 8px', color: '#6b7280', fontSize: '13px' }}>+ {selectedEmployeeIds.size - 10} more...</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style={{ padding: '20px 28px', borderTop: '1px solid #e5e7eb', background: '#f9fafb', display: 'flex', justifyContent: 'flex-end', gap: '12px' }}>\r\n              <button\r\n                onClick={() => setShowBulkTransferConfirm(false)}\r\n                disabled={bulkTransferSubmitting}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  border: '2px solid #d1d5db',\r\n                  borderRadius: '8px',\r\n                  backgroundColor: 'white',\r\n                  color: '#6b7280',\r\n                  fontSize: '13px',\r\n                  fontWeight: '600',\r\n                  cursor: bulkTransferSubmitting ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >Cancel</button>\r\n              <button\r\n                onClick={confirmBulkTransfer}\r\n                disabled={bulkTransferSubmitting}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: bulkTransferSubmitting ? '#9ca3af' : 'linear-gradient(135deg, #10b981, #059669)',\r\n                  color: 'white',\r\n                  fontSize: '13px',\r\n                  fontWeight: '600',\r\n                  cursor: bulkTransferSubmitting ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                {bulkTransferSubmitting ? 'Transferring...' : `Confirm (${selectedEmployeeIds.size})`}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <style>{`\r\n        @keyframes spin {\r\n          from { transform: rotate(0deg); }\r\n          to { transform: rotate(360deg); }\r\n        }\r\n        .modal-overlay {\r\n          backdrop-filter: blur(2px);\r\n        }\r\n      `}</style>\r\n      {/* Professional Header with Logo */}\r\n      <PageHeader\r\n        title=\"Section Management\"\r\n        subtitle=\"Manage organizational sections, sub-sections and employee assignments\"\r\n        icon=\"bi-diagram-3\"\r\n        onBack={onBack}\r\n      />\r\n\r\n      {/* Unified Filter & Search Section */}\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        background: '#fff',\r\n        borderRadius: '16px',\r\n        boxShadow: '0 2px 12px rgba(102,126,234,0.07)',\r\n        padding: '28px 32px',\r\n        marginBottom: '28px',\r\n        gap: '32px',\r\n        flexWrap: 'wrap',\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '18px', flex: 1, minWidth: 320 }}>\r\n          <label htmlFor=\"divisionFilter\" className=\"form-label m-0\" style={{ fontWeight: 600, color: '#374151', fontSize: '16px' }}>\r\n            Filter by Division:\r\n          </label>\r\n          {(() => {\r\n            // Build counts per division based on normalized sections\r\n            const divisionCounts = new Map();\r\n            const nameToId = new Map(divisions.map(d => [normalizeTextKey(d.name || ''), String(d._id)]));\r\n            sections.forEach(s => {\r\n              let did = getSectionDivisionId(s);\r\n              if (!did) {\r\n                const sName = typeof s.division === 'object' ? s.division?.name : '';\r\n                const mapped = nameToId.get(normalizeTextKey(sName || ''));\r\n                if (mapped) did = mapped;\r\n              }\r\n              if (did) divisionCounts.set(String(did), (divisionCounts.get(String(did)) || 0) + 1);\r\n            });\r\n            const renderCount = (id) => divisionCounts.get(String(id)) || 0;\r\n            return (\r\n              <select\r\n                id=\"divisionFilter\"\r\n                className=\"form-select\"\r\n                value={selectedDivision || 'all'}\r\n                onChange={handleDivisionSelect}\r\n                style={{\r\n                  minWidth: '260px',\r\n                  fontSize: '15px',\r\n                  borderRadius: '8px',\r\n                  border: '2px solid #e0e7ff',\r\n                  background: '#f8fafc',\r\n                  color: '#374151',\r\n                  fontWeight: 500,\r\n                  boxShadow: '0 1px 4px rgba(102,126,234,0.04)',\r\n                  padding: '10px 18px',\r\n                  outline: 'none',\r\n                  transition: 'border 0.2s',\r\n                }}\r\n              >\r\n                <option value=\"all\">All Divisions ({sections.length} sections)</option>\r\n                {divisions.map(d => (\r\n                  <option key={d._id} value={d._id}>{d.name} ({renderCount(d._id)})</option>\r\n                ))}\r\n              </select>\r\n            );\r\n          })()}\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px', flex: 1, minWidth: 320, justifyContent: 'flex-end' }}>\r\n          <label htmlFor=\"sectionSearch\" className=\"form-label m-0\" style={{ fontWeight: 600, color: '#374151', fontSize: '16px' }}>\r\n            Search:\r\n          </label>\r\n          <select\r\n            id=\"sectionSort\"\r\n            value={sortOption}\r\n            onChange={(e) => setSortOption(e.target.value)}\r\n            style={{\r\n              fontSize: '14px',\r\n              borderRadius: '8px',\r\n              border: '2px solid #e0e7ff',\r\n              background: '#fff',\r\n              color: '#374151',\r\n              fontWeight: 600,\r\n              boxShadow: '0 1px 4px rgba(102,126,234,0.04)',\r\n              padding: '8px 12px',\r\n              outline: 'none',\r\n              marginRight: '8px'\r\n            }}\r\n          >\r\n            <option value=\"name_asc\">Name A  Z</option>\r\n            <option value=\"name_desc\">Name Z  A</option>\r\n            <option value=\"id_asc\">ID Small  High</option>\r\n            <option value=\"id_desc\">ID High  Small</option>\r\n          </select>\r\n\r\n          <input\r\n            id=\"sectionSearch\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Search by Section ID or Name\"\r\n            value={searchQuery}\r\n            onChange={e => setSearchQuery(e.target.value)}\r\n            style={{\r\n              maxWidth: '320px',\r\n              fontSize: '15px',\r\n              borderRadius: '8px',\r\n              border: '2px solid #e0e7ff',\r\n              background: '#f8fafc',\r\n              color: '#374151',\r\n              fontWeight: 500,\r\n              boxShadow: '0 1px 4px rgba(102,126,234,0.04)',\r\n              padding: '10px 18px',\r\n              outline: 'none',\r\n              transition: 'border 0.2s',\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Professional Sections Table */}\r\n      <div className=\"professional-card\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"professional-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Section Name</th>\r\n                <th>Division</th>\r\n                <th>Sub Section</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {searchedSections.map(section => (\r\n                <tr key={section._id} className=\"section-row section-card\">\r\n  \r\n                  <td data-label=\"Section Name\" style={{ minWidth: 320 }}>\r\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: 6 }}>\r\n                      <div style={{ fontSize: '15px', fontWeight: 700, color: '#0f172a' }}>{section.name}</div>\r\n                      <div style={{ color: '#6b7280', fontSize: '13px' }}>{String(section.code || '').toUpperCase()}</div>\r\n                    </div>\r\n                  </td>\r\n\r\n                  <td data-label=\"Division\" style={{ width: 260 }}>\r\n                    <span className=\"role-badge\">\r\n                      {getDivisionName(section.division)}\r\n                    </span>\r\n                  </td>\r\n\r\n                  <td data-label=\"Sub Section\">\r\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', gap: 12 }}>\r\n                      <div className=\"sub-count\">{(subSectionsBySection[section._id]?.length ?? 0)} sub-section{( (subSectionsBySection[section._id]?.length ?? 0) !== 1 ? 's' : '' )}</div>\r\n                      <div className=\"sub-actions\">\r\n                        <button \r\n                          className=\"btn-professional btn-success\"\r\n                          onClick={canCreateSubsection ? () => handleCreateSubSection(section) : undefined}\r\n                          title={!canCreateSubsection ? 'No permission to create sub sections' : 'Create Sub-Section'}\r\n                          disabled={!canCreateSubsection}\r\n                          style={{ padding: '8px 12px', fontSize: '12px', cursor: canCreateSubsection ? 'pointer' : 'not-allowed' }}\r\n                        >\r\n                          <i className=\"bi bi-plus\"></i>\r\n                        </button>\r\n                        {canViewSubsections ? (\r\n                          <button \r\n                            className=\"btn-professional btn-light\"\r\n                            onClick={() => toggleSubSections(section)}\r\n                            title=\"View Sub-Sections\"\r\n                            style={{ padding: '8px 12px', fontSize: '12px' }}\r\n                          >\r\n                            <i className=\"bi bi-chevron-right\"></i>\r\n                          </button>\r\n                        ) : null}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {sections.length === 0 && (\r\n          <div className=\"no-data\">\r\n            <p>No sections found.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add/Edit Section Modal */}\r\n      {(showAddModal || showEditModal) && (\r\n        <div className=\"modal-overlay\" onClick={handleCloseModal}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '20px', marginBottom: '24px' }}>\r\n              <h3 style={{ fontSize: '24px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <i className={`bi ${currentSection ? \"bi-pencil-square\" : \"bi-plus-circle\"}`} style={{ color: 'var(--primary)' }}></i>\r\n                {currentSection ? 'Edit Section' : 'Add New Section'}\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={handleCloseModal}\r\n                style={{ padding: '8px 12px', fontSize: '16px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n            \r\n            <form onSubmit={handleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Section Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className={`form-input ${formErrors.name ? 'error' : ''}`}\r\n                  value={formData.name}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter section name\"\r\n                  required\r\n                />\r\n                {formErrors.name && <span className=\"error-text\">{formErrors.name}</span>}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Division *</label>\r\n                <select\r\n                  name=\"division\"\r\n                  className={`form-select ${formErrors.division ? 'error' : ''}`}\r\n                  value={formData.division}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select Division</option>\r\n                  {divisions.map(division => (\r\n                    <option key={division._id} value={division._id}>\r\n                      {division.name} ({division.code})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {formErrors.division && <span className=\"error-text\">{formErrors.division}</span>}\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '20px', marginTop: '24px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={handleCloseModal}\r\n                  disabled={submitting}\r\n                  style={{ background: 'var(--gray-500)' }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                  disabled={submitting || !canCreate}\r\n                  aria-disabled={submitting || !canCreate}\r\n                  title={!canCreate ? 'You do not have permission to perform this action' : ''}\r\n                >\r\n                  <i className={`bi ${currentSection ? \"bi-check-circle\" : \"bi-plus-circle\"}`}></i>\r\n                  {submitting ? (\r\n                    currentSection ? 'Updating...' : 'Adding...'\r\n                  ) : (\r\n                    currentSection ? 'Update Section' : 'Add Section'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create Sub-Section Modal */}\r\n      {showSubModal && subParentSection && (\r\n        <div \r\n          className=\"modal-overlay\" \r\n          onClick={closeSubModal}\r\n          style={{ \r\n            position: 'fixed', \r\n            top: 0, \r\n            left: 0, \r\n            width: '100%', \r\n            height: '100%', \r\n            backgroundColor: 'rgba(0, 0, 0, 0.6)', \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            justifyContent: 'center', \r\n            zIndex: 1050,\r\n            backdropFilter: 'blur(2px)',\r\n            padding: '20px',\r\n            boxSizing: 'border-box'\r\n          }}\r\n        >\r\n          <div \r\n            className=\"modal-content\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              backgroundColor: '#fff',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',\r\n              width: '100%',\r\n              maxWidth: '950px',\r\n              maxHeight: 'calc(100vh - 40px)',\r\n              position: 'relative',\r\n              border: 'none',\r\n              overflow: 'hidden',\r\n              display: 'flex',\r\n              flexDirection: 'column'\r\n            }}\r\n          >\r\n            {/* Enhanced Header */}\r\n            <div \r\n              style={{ \r\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                color: 'white',\r\n                padding: '24px 32px 20px',\r\n                borderRadius: '16px 16px 0 0',\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                flexShrink: 0\r\n              }}\r\n            >\r\n              <div style={{ position: 'relative', zIndex: 2 }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n                    <div \r\n                      style={{ \r\n                        backgroundColor: 'rgba(255, 255, 255, 0.2)', \r\n                        borderRadius: '12px', \r\n                        padding: '12px',\r\n                        backdropFilter: 'blur(10px)'\r\n                      }}\r\n                    >\r\n                      <i className=\"bi bi-diagram-3-fill\" style={{ fontSize: '24px', color: 'white' }}></i>\r\n                    </div>\r\n                    <div>\r\n                      <h3 style={{ \r\n                        margin: 0, \r\n                        fontSize: '22px', \r\n                        fontWeight: '700', \r\n                        letterSpacing: '-0.5px',\r\n                        textShadow: '0 2px 4px rgba(0, 0, 0, 0.1)'\r\n                      }}>\r\n                        Create Sub-Section\r\n                      </h3>\r\n                      <p style={{ \r\n                        margin: '4px 0 0', \r\n                        fontSize: '14px', \r\n                        opacity: 0.9,\r\n                        fontWeight: '400'\r\n                      }}>\r\n                        Add a new sub-division to organize your structure\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={closeSubModal}\r\n                    style={{ \r\n                      background: 'rgba(255, 255, 255, 0.2)',\r\n                      border: 'none',\r\n                      borderRadius: '8px',\r\n                      color: 'white',\r\n                      cursor: 'pointer',\r\n                      padding: '8px',\r\n                      fontSize: '20px',\r\n                      transition: 'all 0.2s ease',\r\n                      backdropFilter: 'blur(10px)'\r\n                    }}\r\n                    onMouseOver={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.3)'}\r\n                    onMouseOut={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.2)'}\r\n                  >\r\n                    <i className=\"bi bi-x-lg\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div \r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '-50%',\r\n                  right: '-10%',\r\n                  width: '200px',\r\n                  height: '200px',\r\n                  background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)',\r\n                  borderRadius: '50%'\r\n                }}\r\n              ></div>\r\n            </div>\r\n\r\n            {/* Enhanced Body */}\r\n            <div style={{ \r\n              padding: '24px 32px', \r\n              flex: 1,\r\n              overflowY: 'auto',\r\n              minHeight: 0\r\n            }}>\r\n              {/* Active Filters Display */}\r\n              <div style={{\r\n                background: 'linear-gradient(135deg, #667eea15 0%, #764ba215 100%)',\r\n                border: '2px solid #667eea',\r\n                borderRadius: '8px',\r\n                padding: '16px 20px',\r\n                marginBottom: '20px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '12px'\r\n              }}>\r\n                <i className=\"bi bi-funnel-fill\" style={{ color: '#667eea', fontSize: '20px' }}></i>\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{ fontWeight: '600', color: '#495057', marginBottom: '4px' }}>Parent Structure:</div>\r\n                  <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px' }}>\r\n                    <span style={{\r\n                      background: '#667eea',\r\n                      color: 'white',\r\n                      padding: '4px 12px',\r\n                      borderRadius: '20px',\r\n                      fontSize: '13px',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                      {divisions.find(d => String(d._id) === String((typeof subParentSection.division === 'object' && subParentSection.division?._id) ? subParentSection.division._id : String(subParentSection.division || '')))?.name || (typeof subParentSection.division === 'object' ? subParentSection.division?.name : '') || 'N/A'}\r\n                    </span>\r\n                    <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                    <span style={{\r\n                      background: '#764ba2',\r\n                      color: 'white',\r\n                      padding: '4px 12px',\r\n                      borderRadius: '20px',\r\n                      fontSize: '13px',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                      {subParentSection.name || 'N/A'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* New Sub-Section Details */}\r\n              <div style={{ \r\n                backgroundColor: 'white',\r\n                borderRadius: '10px',\r\n                border: '2px solid #e1e5f2',\r\n                padding: '20px'\r\n              }}>\r\n                <div style={{ \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  gap: '10px', \r\n                  marginBottom: '18px' \r\n                }}>\r\n                  <i className=\"bi bi-plus-circle-fill\" style={{ color: '#10b981', fontSize: '16px' }}></i>\r\n                  <h4 style={{ \r\n                    margin: 0, \r\n                    fontSize: '15px', \r\n                    fontWeight: '600', \r\n                    color: '#374151' \r\n                  }}>\r\n                    New Sub-Section Details\r\n                  </h4>\r\n                </div>\r\n\r\n                <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '20px' }}>\r\n                  <div>\r\n                    <label style={{ \r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '6px',\r\n                      fontSize: '14px', \r\n                      fontWeight: '600', \r\n                      color: '#374151', \r\n                      marginBottom: '10px'\r\n                    }}>\r\n                      <i className=\"bi bi-type\" style={{ color: '#667eea' }}></i>\r\n                      Sub-Section Name\r\n                      <span style={{ color: '#ef4444', fontSize: '14px' }}>*</span>\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={subForm.name}\r\n                      onChange={(e) => setSubForm({ ...subForm, name: e.target.value })}\r\n                      placeholder=\"Enter a descriptive name for the sub-section\"\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '14px',\r\n                        border: subErrors.name ? '2px solid #ef4444' : '2px solid #e5e7eb',\r\n                        borderRadius: '8px',\r\n                        fontSize: '14px',\r\n                        transition: 'all 0.2s ease',\r\n                        backgroundColor: '#fff',\r\n                        fontFamily: 'inherit',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (!subErrors.name) e.target.style.borderColor = '#667eea';\r\n                        e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        if (!subErrors.name) e.target.style.borderColor = '#e5e7eb';\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                    {subErrors.name && (\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center', \r\n                        gap: '6px', \r\n                        color: '#ef4444', \r\n                        fontSize: '13px', \r\n                        marginTop: '8px',\r\n                        fontWeight: '500'\r\n                      }}>\r\n                        <i className=\"bi bi-exclamation-circle-fill\"></i>\r\n                        {subErrors.name}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label style={{ \r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '6px',\r\n                      fontSize: '14px', \r\n                      fontWeight: '600', \r\n                      color: '#374151', \r\n                      marginBottom: '10px'\r\n                    }}>\r\n                      <i className=\"bi bi-hash\" style={{ color: '#667eea' }}></i>\r\n                      Sub-Section Code/ID\r\n                      <span style={{ color: '#ef4444', fontSize: '14px' }}>*</span>\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={subForm.code}\r\n                      onChange={(e) => setSubForm({ ...subForm, code: e.target.value })}\r\n                      placeholder=\"e.g., SS-001\"\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '14px',\r\n                        border: subErrors.code ? '2px solid #ef4444' : '2px solid #e5e7eb',\r\n                        borderRadius: '8px',\r\n                        fontSize: '14px',\r\n                        transition: 'all 0.2s ease',\r\n                        backgroundColor: '#fff',\r\n                        fontFamily: 'inherit',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (!subErrors.code) e.target.style.borderColor = '#667eea';\r\n                        e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        if (!subErrors.code) e.target.style.borderColor = '#e5e7eb';\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                    {subErrors.code && (\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center', \r\n                        gap: '6px', \r\n                        color: '#ef4444', \r\n                        fontSize: '13px', \r\n                        marginTop: '8px',\r\n                        fontWeight: '500'\r\n                      }}>\r\n                        <i className=\"bi bi-exclamation-circle-fill\"></i>\r\n                        {subErrors.code}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Enhanced Footer */}\r\n            <div style={{ \r\n              padding: '16px 32px 20px',\r\n              borderTop: '1px solid #f3f4f6',\r\n              backgroundColor: '#fafafa',\r\n              display: 'flex', \r\n              gap: '12px', \r\n              justifyContent: 'flex-end',\r\n              borderRadius: '0 0 16px 16px',\r\n              flexShrink: 0\r\n            }}>\r\n              <button \r\n                onClick={closeSubModal} \r\n                disabled={subSubmitting}\r\n                style={{\r\n                  padding: '12px 24px',\r\n                  border: '2px solid #d1d5db',\r\n                  borderRadius: '8px',\r\n                  backgroundColor: 'white',\r\n                  color: '#6b7280',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: subSubmitting ? 'not-allowed' : 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  opacity: subSubmitting ? 0.6 : 1\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (!subSubmitting) {\r\n                    e.target.style.borderColor = '#9ca3af';\r\n                    e.target.style.color = '#374151';\r\n                  }\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  if (!subSubmitting) {\r\n                    e.target.style.borderColor = '#d1d5db';\r\n                    e.target.style.color = '#6b7280';\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"bi bi-x-circle\" style={{ marginRight: '6px' }}></i>\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={submitSubSection} \r\n                disabled={subSubmitting}\r\n                style={{\r\n                  padding: '12px 24px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: subSubmitting \r\n                    ? 'linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)'\r\n                    : 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n                  color: 'white',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: subSubmitting ? 'not-allowed' : 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  boxShadow: subSubmitting ? 'none' : '0 3px 10px rgba(16, 185, 129, 0.3)'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (!subSubmitting) {\r\n                    e.target.style.transform = 'translateY(-1px)';\r\n                    e.target.style.boxShadow = '0 4px 15px rgba(16, 185, 129, 0.4)';\r\n                  }\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  if (!subSubmitting) {\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = '0 3px 10px rgba(16, 185, 129, 0.3)';\r\n                  }\r\n                }}\r\n              >\r\n                <i className={`bi ${subSubmitting ? 'bi-arrow-repeat' : 'bi-check-circle'}`} \r\n                   style={{ \r\n                     marginRight: '8px',\r\n                     animation: subSubmitting ? 'spin 1s linear infinite' : 'none'\r\n                   }}></i>\r\n                {subSubmitting ? 'Creating...' : 'Create Sub-Section'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Sub-Section Modal */}\r\n      {showEditSubModal && editingSubSection && (\r\n        <div \r\n          className=\"modal-overlay\" \r\n          onClick={closeEditSubModal}\r\n          style={{ \r\n            position: 'fixed', \r\n            top: 0, \r\n            left: 0, \r\n            width: '100%', \r\n            height: '100%', \r\n            backgroundColor: 'rgba(0, 0, 0, 0.6)', \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            justifyContent: 'center', \r\n            zIndex: 11500,\r\n            backdropFilter: 'blur(2px)',\r\n            padding: '20px',\r\n            boxSizing: 'border-box'\r\n          }}\r\n        >\r\n          <div \r\n            className=\"modal-content\" \r\n            onClick={(e) => e.stopPropagation()}\r\n            style={{\r\n              backgroundColor: '#fff',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 20px 60px rgba(0, 0, 0, 0.15)',\r\n              width: '100%',\r\n              maxWidth: '950px',\r\n              maxHeight: 'calc(100vh - 40px)',\r\n              position: 'relative',\r\n              border: 'none',\r\n              overflow: 'hidden',\r\n              display: 'flex',\r\n              flexDirection: 'column'\r\n            }}\r\n          >\r\n            {/* Enhanced Header */}\r\n            <div \r\n              style={{ \r\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                color: 'white',\r\n                padding: '24px 32px 20px',\r\n                borderRadius: '16px 16px 0 0',\r\n                position: 'relative',\r\n                overflow: 'hidden',\r\n                flexShrink: 0\r\n              }}\r\n            >\r\n              <div style={{ position: 'relative', zIndex: 2 }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\r\n                    <div \r\n                      style={{ \r\n                        backgroundColor: 'rgba(255, 255, 255, 0.2)', \r\n                        borderRadius: '12px', \r\n                        padding: '12px',\r\n                        backdropFilter: 'blur(10px)'\r\n                      }}\r\n                    >\r\n                      <i className=\"bi bi-pencil-square\" style={{ fontSize: '24px', color: 'white' }}></i>\r\n                    </div>\r\n                    <div>\r\n                      <h3 style={{ \r\n                        margin: 0, \r\n                        fontSize: '22px', \r\n                        fontWeight: '700', \r\n                        letterSpacing: '-0.5px',\r\n                        textShadow: '0 2px 4px rgba(0, 0, 0, 0.1)'\r\n                      }}>\r\n                        Edit Sub-Section\r\n                      </h3>\r\n                      <p style={{ \r\n                        margin: '4px 0 0', \r\n                        fontSize: '14px', \r\n                        opacity: 0.9,\r\n                        fontWeight: '400'\r\n                      }}>\r\n                        Modify the sub-section details\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <button \r\n                    onClick={closeEditSubModal}\r\n                    disabled={editSubSubmitting}\r\n                    style={{ \r\n                      background: 'rgba(255, 255, 255, 0.2)',\r\n                      border: 'none',\r\n                      borderRadius: '8px',\r\n                      color: 'white',\r\n                      cursor: editSubSubmitting ? 'not-allowed' : 'pointer',\r\n                      padding: '8px',\r\n                      fontSize: '20px',\r\n                      transition: 'all 0.2s ease',\r\n                      backdropFilter: 'blur(10px)',\r\n                      opacity: editSubSubmitting ? 0.5 : 1\r\n                    }}\r\n                    onMouseOver={(e) => {\r\n                      if (!editSubSubmitting) e.target.style.background = 'rgba(255, 255, 255, 0.3)';\r\n                    }}\r\n                    onMouseOut={(e) => {\r\n                      if (!editSubSubmitting) e.target.style.background = 'rgba(255, 255, 255, 0.2)';\r\n                    }}\r\n                  >\r\n                    <i className=\"bi bi-x-lg\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div \r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '-50%',\r\n                  right: '-10%',\r\n                  width: '200px',\r\n                  height: '200px',\r\n                  background: 'radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%)',\r\n                  borderRadius: '50%'\r\n                }}\r\n              ></div>\r\n            </div>\r\n\r\n            {/* Enhanced Body */}\r\n            <div style={{ \r\n              padding: '24px 32px', \r\n              flex: 1,\r\n              overflowY: 'auto',\r\n              minHeight: 0\r\n            }}>\r\n              {/* Active Filters Display */}\r\n              <div style={{\r\n                background: 'linear-gradient(135deg, #667eea15 0%, #764ba215 100%)',\r\n                border: '2px solid #667eea',\r\n                borderRadius: '8px',\r\n                padding: '16px 20px',\r\n                marginBottom: '20px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '12px'\r\n              }}>\r\n                <i className=\"bi bi-funnel-fill\" style={{ color: '#667eea', fontSize: '20px' }}></i>\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{ fontWeight: '600', color: '#495057', marginBottom: '4px' }}>Parent Structure:</div>\r\n                  <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px' }}>\r\n                    <span style={{\r\n                      background: '#667eea',\r\n                      color: 'white',\r\n                      padding: '4px 12px',\r\n                      borderRadius: '20px',\r\n                      fontSize: '13px',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                      {editingSubSection?.parentDivision || 'N/A'}\r\n                    </span>\r\n                    <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                    <span style={{\r\n                      background: '#764ba2',\r\n                      color: 'white',\r\n                      padding: '4px 12px',\r\n                      borderRadius: '20px',\r\n                      fontSize: '13px',\r\n                      fontWeight: '500'\r\n                    }}>\r\n                      {editingSubSection?.parentSection || 'N/A'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Edit Sub-Section Details */}\r\n              <div style={{ \r\n                backgroundColor: 'white',\r\n                borderRadius: '10px',\r\n                border: '2px solid #e1e5f2',\r\n                padding: '20px'\r\n              }}>\r\n                <div style={{ \r\n                  display: 'flex', \r\n                  alignItems: 'center', \r\n                  gap: '10px', \r\n                  marginBottom: '18px' \r\n                }}>\r\n                  <i className=\"bi bi-pencil-fill\" style={{ color: '#667eea', fontSize: '16px' }}></i>\r\n                  <h4 style={{ \r\n                    margin: 0, \r\n                    fontSize: '15px', \r\n                    fontWeight: '600', \r\n                    color: '#374151' \r\n                  }}>\r\n                    Edit Sub-Section Details\r\n                  </h4>\r\n                </div>\r\n\r\n                <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr', gap: '20px' }}>\r\n                  <div>\r\n                    <label style={{ \r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '6px',\r\n                      fontSize: '14px', \r\n                      fontWeight: '600', \r\n                      color: '#374151', \r\n                      marginBottom: '10px'\r\n                    }}>\r\n                      <i className=\"bi bi-type\" style={{ color: '#667eea' }}></i>\r\n                      Sub-Section Name\r\n                      <span style={{ color: '#ef4444', fontSize: '14px' }}>*</span>\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editSubForm.name}\r\n                      onChange={(e) => {\r\n                        setEditSubForm({ ...editSubForm, name: e.target.value });\r\n                        if (editSubErrors.name) setEditSubErrors({ ...editSubErrors, name: '' });\r\n                      }}\r\n                      placeholder=\"Enter a descriptive name for the sub-section\"\r\n                      disabled={editSubSubmitting}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '14px',\r\n                        border: editSubErrors.name ? '2px solid #ef4444' : '2px solid #e5e7eb',\r\n                        borderRadius: '8px',\r\n                        fontSize: '14px',\r\n                        transition: 'all 0.2s ease',\r\n                        backgroundColor: editSubSubmitting ? '#f3f4f6' : '#fff',\r\n                        fontFamily: 'inherit',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (!editSubErrors.name && !editSubSubmitting) {\r\n                          e.target.style.borderColor = '#667eea';\r\n                          e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\r\n                        }\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        if (!editSubErrors.name) e.target.style.borderColor = '#e5e7eb';\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                    {editSubErrors.name && (\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center', \r\n                        gap: '6px', \r\n                        color: '#ef4444', \r\n                        fontSize: '13px', \r\n                        marginTop: '8px',\r\n                        fontWeight: '500'\r\n                      }}>\r\n                        <i className=\"bi bi-exclamation-circle-fill\"></i>\r\n                        {editSubErrors.name}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label style={{ \r\n                      display: 'flex',\r\n                      alignItems: 'center',\r\n                      gap: '6px',\r\n                      fontSize: '14px', \r\n                      fontWeight: '600', \r\n                      color: '#374151', \r\n                      marginBottom: '10px'\r\n                    }}>\r\n                      <i className=\"bi bi-hash\" style={{ color: '#667eea' }}></i>\r\n                      Sub-Section Code/ID\r\n                      <span style={{ color: '#ef4444', fontSize: '14px' }}>*</span>\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editSubForm.code}\r\n                      onChange={(e) => {\r\n                        setEditSubForm({ ...editSubForm, code: e.target.value });\r\n                        if (editSubErrors.code) setEditSubErrors({ ...editSubErrors, code: '' });\r\n                      }}\r\n                      placeholder=\"e.g., SS-001\"\r\n                      disabled={editSubSubmitting}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '14px',\r\n                        border: editSubErrors.code ? '2px solid #ef4444' : '2px solid #e5e7eb',\r\n                        borderRadius: '8px',\r\n                        fontSize: '14px',\r\n                        transition: 'all 0.2s ease',\r\n                        backgroundColor: editSubSubmitting ? '#f3f4f6' : '#fff',\r\n                        fontFamily: 'inherit',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box'\r\n                      }}\r\n                      onFocus={(e) => {\r\n                        if (!editSubErrors.code && !editSubSubmitting) {\r\n                          e.target.style.borderColor = '#667eea';\r\n                          e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\r\n                        }\r\n                      }}\r\n                      onBlur={(e) => {\r\n                        if (!editSubErrors.code) e.target.style.borderColor = '#e5e7eb';\r\n                        e.target.style.boxShadow = 'none';\r\n                      }}\r\n                    />\r\n                    {editSubErrors.code && (\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        alignItems: 'center', \r\n                        gap: '6px', \r\n                        color: '#ef4444', \r\n                        fontSize: '13px', \r\n                        marginTop: '8px',\r\n                        fontWeight: '500'\r\n                      }}>\r\n                        <i className=\"bi bi-exclamation-circle-fill\"></i>\r\n                        {editSubErrors.code}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div style={{ \r\n              padding: '16px 32px',\r\n              borderTop: '1px solid #e5e7eb',\r\n              backgroundColor: '#f9fafb',\r\n              display: 'flex', \r\n              gap: '10px', \r\n              justifyContent: 'flex-end',\r\n              borderRadius: '0 0 16px 16px',\r\n              flexShrink: 0\r\n            }}>\r\n              <button \r\n                onClick={closeEditSubModal} \r\n                disabled={editSubSubmitting}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  border: '2px solid #e5e7eb',\r\n                  borderRadius: '8px',\r\n                  backgroundColor: 'white',\r\n                  color: '#6b7280',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: editSubSubmitting ? 'not-allowed' : 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  opacity: editSubSubmitting ? 0.6 : 1,\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '6px'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (!editSubSubmitting) {\r\n                    e.target.style.borderColor = '#9ca3af';\r\n                    e.target.style.color = '#374151';\r\n                    e.target.style.transform = 'translateY(-1px)';\r\n                    e.target.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.1)';\r\n                  }\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  if (!editSubSubmitting) {\r\n                    e.target.style.borderColor = '#d1d5db';\r\n                    e.target.style.color = '#6b7280';\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"bi bi-x-circle\" style={{ fontSize: '14px' }}></i>\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={submitEditSubSection} \r\n                disabled={editSubSubmitting}\r\n                style={{\r\n                  padding: '10px 24px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: editSubSubmitting \r\n                    ? 'linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)'\r\n                    : 'linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%)',\r\n                  color: 'white',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: editSubSubmitting ? 'not-allowed' : 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  boxShadow: editSubSubmitting ? 'none' : '0 3px 10px rgba(59, 130, 246, 0.4)',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  if (!editSubSubmitting) {\r\n                    e.target.style.transform = 'translateY(-1px)';\r\n                    e.target.style.boxShadow = '0 4px 15px rgba(59, 130, 246, 0.5)';\r\n                  }\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  if (!editSubSubmitting) {\r\n                    e.target.style.transform = 'translateY(0)';\r\n                    e.target.style.boxShadow = '0 3px 10px rgba(59, 130, 246, 0.4)';\r\n                  }\r\n                }}\r\n              >\r\n                <i className={`bi ${editSubSubmitting ? 'bi-arrow-repeat' : 'bi-check-circle-fill'}`} \r\n                   style={{ \r\n                     fontSize: '14px',\r\n                     animation: editSubSubmitting ? 'spin 1s linear infinite' : 'none'\r\n                   }}></i>\r\n                {editSubSubmitting ? 'Updating...' : 'Update Sub-Section'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Sub-Sections Popup Modal */}\r\n      {showSubSectionsModal && currentSectionForSubSections && (\r\n        <div \r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.6)',\r\n            backdropFilter: 'blur(8px)',\r\n            WebkitBackdropFilter: 'blur(8px)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 10000,\r\n            padding: '20px'\r\n          }}\r\n          onClick={handleCloseSubSectionsModal}\r\n        >\r\n          <div \r\n            style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n              width: '95%',\r\n              maxWidth: '1400px',\r\n              height: '90vh',\r\n              maxHeight: '90vh',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              overflow: 'hidden'\r\n            }}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Modal Header */}\r\n            <div style={{\r\n              padding: '24px 32px',\r\n              borderBottom: '2px solid #e5e7eb',\r\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n              color: 'white',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              flexShrink: 0\r\n            }}>\r\n              <h3 style={{ \r\n                fontSize: '24px', \r\n                fontWeight: '700', \r\n                margin: 0,\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                gap: '12px'\r\n              }}>\r\n                <i className=\"bi bi-layers\"></i>\r\n                Sub-Sections\r\n              </h3>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                {canCreateSubsection ? (\r\n                <button\r\n                  onClick={() => {\r\n                    setShowSubSectionsModal(false); // Close the Sub-Sections modal first\r\n                    setTimeout(() => {\r\n                      setSubParentSection(currentSectionForSubSections);\r\n                      setSubForm({ name: '', code: '' });\r\n                      setSubErrors({});\r\n                      setShowSubModal(true);\r\n                    }, 250); // Wait for modal close animation (if any)\r\n                  }}\r\n                  style={{\r\n                    background: '#fff',\r\n                    color: '#764ba2',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    fontWeight: 700,\r\n                    fontSize: '15px',\r\n                    padding: '8px 18px',\r\n                    marginRight: '8px',\r\n                    boxShadow: '0 2px 8px rgba(102, 126, 234, 0.08)',\r\n                    cursor: 'pointer',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '7px',\r\n                    transition: 'background 0.2s, color 0.2s',\r\n                  }}\r\n                  title=\"Add Subsection\"\r\n                >\r\n                  <i className=\"bi bi-plus-circle\"></i> Add Subsection\r\n                </button>\r\n                ) : null}\r\n                <button \r\n                  onClick={handleCloseSubSectionsModal}\r\n                  style={{\r\n                    background: 'rgba(255, 255, 255, 0.2)',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    color: 'white',\r\n                    fontSize: '20px',\r\n                    width: '40px',\r\n                    height: '40px',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    cursor: 'pointer',\r\n                    transition: 'all 0.2s ease'\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    e.target.style.background = 'rgba(255, 255, 255, 0.3)';\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    e.target.style.background = 'rgba(255, 255, 255, 0.2)';\r\n                  }}\r\n                >\r\n                  <i className=\"bi bi-x\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Parent Section & Division Info - Active Filters Style */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #667eea15 0%, #764ba215 100%)',\r\n              border: '2px solid #667eea',\r\n              borderRadius: '8px',\r\n              padding: '16px 20px',\r\n              margin: '16px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px',\r\n              flexShrink: 0\r\n            }}>\r\n              <i className=\"bi bi-funnel-fill\" style={{ color: '#667eea', fontSize: '20px' }}></i>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ fontWeight: '600', color: '#495057', marginBottom: '4px' }}>Active Filters:</div>\r\n                <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px' }}>\r\n                  <span style={{\r\n                    background: '#667eea',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {getDivisionName(currentSectionForSubSections.division)}\r\n                  </span>\r\n                  <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                  <span style={{\r\n                    background: '#764ba2',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {currentSectionForSubSections.name}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {(Array.isArray(subSectionsBySection[currentSectionForSubSections._id]) && subSectionsBySection[currentSectionForSubSections._id].length > 0) && (\r\n                <div style={{\r\n                  background: 'white',\r\n                  padding: '8px 16px',\r\n                  borderRadius: '20px',\r\n                  fontWeight: '600',\r\n                  color: '#667eea',\r\n                  fontSize: '14px',\r\n                  border: '2px solid #667eea'\r\n                }}>\r\n                  {subSectionsBySection[currentSectionForSubSections._id].length} {subSectionsBySection[currentSectionForSubSections._id].length === 1 ? 'sub-section' : 'sub-sections'}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Sub-Sections List */}\r\n            <div style={{ \r\n              flex: 1, \r\n              overflowY: 'auto', \r\n              padding: '24px 32px'\r\n            }}>\r\n              {subSectionsLoading[currentSectionForSubSections._id] ? (\r\n                <div style={{ \r\n                  display: 'flex', \r\n                  flexDirection: 'column', \r\n                  alignItems: 'center', \r\n                  justifyContent: 'center',\r\n                  padding: '40px 0',\r\n                  color: '#6b7280'\r\n                }}>\r\n                  <div className=\"spinner-border\" role=\"status\" style={{ width: 40, height: 40, marginBottom: 16 }}>\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <div>Loading sub-sections...</div>\r\n                </div>\r\n              ) : subSectionsError[currentSectionForSubSections._id] ? (\r\n                <div style={{\r\n                  padding: '40px 20px',\r\n                  textAlign: 'center',\r\n                  color: '#ef4444',\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  gap: '12px'\r\n                }}>\r\n                  <i className=\"bi bi-exclamation-triangle\" style={{ fontSize: '48px' }}></i>\r\n                  <p style={{ margin: 0, fontSize: '15px' }}>{subSectionsError[currentSectionForSubSections._id]}</p>\r\n                </div>\r\n              ) : (Array.isArray(subSectionsBySection[currentSectionForSubSections._id]) && subSectionsBySection[currentSectionForSubSections._id].length > 0) ? (\r\n                <div style={{ \r\n                  background: 'white',\r\n                  borderRadius: '12px',\r\n                  border: '2px solid #e5e7eb',\r\n                  overflow: 'hidden',\r\n                  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.05)'\r\n                }}>\r\n                  <table style={{ \r\n                    width: '100%', \r\n                    borderCollapse: 'collapse',\r\n                    fontSize: '14px'\r\n                  }}>\r\n                    <thead>\r\n                      <tr style={{ \r\n                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                        color: 'white'\r\n                      }}>\r\n                        <th style={{ \r\n                          padding: '16px 20px', \r\n                          textAlign: 'left',\r\n                          fontWeight: '700',\r\n                          fontSize: '13px',\r\n                          textTransform: 'uppercase',\r\n                          letterSpacing: '0.5px'\r\n                        }}>\r\n                          Sub-Section Name\r\n                        </th>\r\n                        <th style={{ \r\n                          padding: '16px 20px', \r\n                          textAlign: 'left',\r\n                          fontWeight: '700',\r\n                          fontSize: '13px',\r\n                          textTransform: 'uppercase',\r\n                          letterSpacing: '0.5px'\r\n                        }}>\r\n                          Code\r\n                        </th>\r\n                        <th style={{ \r\n                          padding: '16px 20px', \r\n                          textAlign: 'left',\r\n                          fontWeight: '700',\r\n                          fontSize: '13px',\r\n                          textTransform: 'uppercase',\r\n                          letterSpacing: '0.5px'\r\n                        }}>\r\n                          Created Date\r\n                        </th>\r\n                        <th style={{ \r\n                          padding: '16px 20px', \r\n                          textAlign: 'center',\r\n                          fontWeight: '700',\r\n                          fontSize: '13px',\r\n                          textTransform: 'uppercase',\r\n                          letterSpacing: '0.5px'\r\n                        }}>\r\n                          Transferring\r\n                        </th>\r\n                        <th style={{ \r\n                          padding: '16px 20px', \r\n                          textAlign: 'center',\r\n                          fontWeight: '700',\r\n                          fontSize: '13px',\r\n                          textTransform: 'uppercase',\r\n                          letterSpacing: '0.5px'\r\n                        }}>\r\n                          Actions\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {subSectionsBySection[currentSectionForSubSections._id].map((ss, index) => (\r\n                        <tr key={ss._id} style={{\r\n                          borderBottom: index < subSectionsBySection[currentSectionForSubSections._id].length - 1 ? '1px solid #e5e7eb' : 'none',\r\n                          transition: 'all 0.2s ease'\r\n                        }}\r\n                        onMouseOver={(e) => {\r\n                          e.currentTarget.style.background = '#f9fafb';\r\n                        }}\r\n                        onMouseOut={(e) => {\r\n                          e.currentTarget.style.background = 'transparent';\r\n                        }}\r\n                        >\r\n                          <td style={{ \r\n                            padding: '12px 20px',\r\n                            fontWeight: '600',\r\n                            color: '#1f2937'\r\n                          }}>\r\n                            {ss?.subSection?.sub_hie_name || ss?.subSection?.hie_name || ss?.subSection?.name || '-'}\r\n                          </td>\r\n                          <td style={{ padding: '12px 20px' }}>\r\n                            <span style={{ \r\n                              fontFamily: 'monospace', \r\n                              color: '#667eea', \r\n                              background: '#eef2ff', \r\n                              padding: '4px 10px', \r\n                              borderRadius: 6,\r\n                              fontSize: '13px',\r\n                              fontWeight: '600',\r\n                              display: 'inline-block'\r\n                            }}>\r\n                              {ss?.subSection?.sub_hie_code || ss?.subSection?.hie_code || ss?.subSection?.code || '-'}\r\n                            </span>\r\n                          </td>\r\n                          <td style={{ \r\n                            padding: '12px 20px',\r\n                            color: '#6b7280'\r\n                          }}>\r\n                            <div style={{ \r\n                              display: 'flex',\r\n                              alignItems: 'center',\r\n                              gap: '6px'\r\n                            }}>\r\n                              <i className=\"bi bi-calendar3\"></i>\r\n                              {ss?.createdAt ? formatDateYmd(new Date(ss.createdAt)) : ''}\r\n                            </div>\r\n                          </td>\r\n                          <td style={{ \r\n                            padding: '12px 20px',\r\n                            textAlign: 'center'\r\n                          }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 6 }}>\r\n                              {canTransferSubsection ? (\r\n                              <button\r\n                                className=\"btn-professional\"\r\n                                onClick={() => handleAddEmployeeToSubSection(ss)}\r\n                                style={{ \r\n                                  padding: '6px 8px', \r\n                                  fontSize: 13,\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'center',\r\n                                  minWidth: '32px',\r\n                                  minHeight: '32px',\r\n                                  backgroundColor: '#10b981',\r\n                                  color: 'white',\r\n                                  border: 'none'\r\n                                }}\r\n                                title=\"Add Employee - Shows all not-transferred employees\"\r\n                              >\r\n                                <i className=\"bi bi-person-plus\"></i>\r\n                              </button>\r\n                              ) : null}\r\n                              {canRecallSubsection ? (\r\n                              <button\r\n                                className=\"btn-professional\"\r\n                                onClick={() => handleShowTransferredEmployees(ss)}\r\n                                style={{ \r\n                                  padding: '6px 8px', \r\n                                  fontSize: 13,\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'center',\r\n                                  minWidth: '32px',\r\n                                  minHeight: '32px',\r\n                                  backgroundColor: '#f59e0b',\r\n                                  color: 'white',\r\n                                  border: 'none'\r\n                                }}\r\n                                title=\"Recall - Shows all transferred employees\"\r\n                              >\r\n                                <i className=\"bi bi-arrow-counterclockwise\"></i>\r\n                              </button>\r\n                              ) : null}\r\n                            </div>\r\n                          </td>\r\n                          <td style={{ \r\n                            padding: '12px 20px',\r\n                            textAlign: 'center'\r\n                          }}>\r\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 6 }}>\r\n                              {canUpdateSubsection ? (\r\n                              <button\r\n                                className=\"btn-professional btn-primary\"\r\n                                onClick={() => handleEditSubSection(currentSectionForSubSections._id, ss)}\r\n                                style={{ \r\n                                  padding: '6px 8px', \r\n                                  fontSize: 13,\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'center',\r\n                                  minWidth: '32px',\r\n                                  minHeight: '32px'\r\n                                }}\r\n                                title=\"Edit Sub-Section\"\r\n                              >\r\n                                <i className=\"bi bi-pencil\"></i>\r\n                              </button>\r\n                              ) : null}\r\n                              {canDeleteSubsection ? (\r\n                              <button\r\n                                className=\"btn-professional btn-danger\"\r\n                                onClick={() => handleDeleteSubSection(currentSectionForSubSections._id, ss._id)}\r\n                                style={{ \r\n                                  padding: '6px 8px', \r\n                                  fontSize: 13,\r\n                                  display: 'flex',\r\n                                  alignItems: 'center',\r\n                                  justifyContent: 'center',\r\n                                  minWidth: '32px',\r\n                                  minHeight: '32px'\r\n                                }}\r\n                                title=\"Delete Sub-Section\"\r\n                              >\r\n                                <i className=\"bi bi-trash\"></i>\r\n                              </button>\r\n                              ) : null}\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              ) : (\r\n                <div style={{\r\n                  padding: '40px 20px',\r\n                  textAlign: 'center',\r\n                  color: '#6b7280',\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  gap: '12px'\r\n                }}>\r\n                  <i className=\"bi bi-inbox\" style={{ fontSize: '48px', opacity: 0.5 }}></i>\r\n                  <p style={{ margin: 0, fontSize: '15px' }}>No sub-sections yet. Click the <strong>+</strong> button to create one.</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteConfirm && (\r\n        <div \r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n            backdropFilter: 'blur(10px)',\r\n            WebkitBackdropFilter: 'blur(10px)',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            zIndex: 11000,\r\n            padding: '20px'\r\n          }}\r\n          onClick={cancelDeleteSubSection}\r\n        >\r\n          <div \r\n            style={{\r\n              backgroundColor: 'white',\r\n              borderRadius: '16px',\r\n              boxShadow: '0 20px 60px rgba(0, 0, 0, 0.4)',\r\n              width: '90%',\r\n              maxWidth: '500px',\r\n              overflow: 'hidden',\r\n              animation: 'slideIn 0.3s ease-out'\r\n            }}\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            {/* Header */}\r\n            <div style={{\r\n              padding: '24px 28px',\r\n              background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n              color: 'white',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-exclamation-triangle-fill\" style={{ fontSize: '28px' }}></i>\r\n              <h3 style={{ \r\n                fontSize: '22px', \r\n                fontWeight: '700', \r\n                margin: 0\r\n              }}>\r\n                Confirm Deletion\r\n              </h3>\r\n            </div>\r\n\r\n            {/* Body */}\r\n            <div style={{ padding: '28px' }}>\r\n              <p style={{ \r\n                fontSize: '16px', \r\n                color: '#374151', \r\n                margin: 0,\r\n                lineHeight: '1.6'\r\n              }}>\r\n                Are you sure you want to delete this sub-section? This action cannot be undone.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div style={{\r\n              padding: '20px 28px',\r\n              borderTop: '1px solid #e5e7eb',\r\n              background: '#f9fafb',\r\n              display: 'flex',\r\n              justifyContent: 'flex-end',\r\n              gap: '12px'\r\n            }}>\r\n              <button\r\n                onClick={cancelDeleteSubSection}\r\n                style={{\r\n                  padding: '12px 24px',\r\n                  border: '2px solid #d1d5db',\r\n                  borderRadius: '8px',\r\n                  backgroundColor: 'white',\r\n                  color: '#6b7280',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  e.target.style.borderColor = '#9ca3af';\r\n                  e.target.style.color = '#374151';\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  e.target.style.borderColor = '#d1d5db';\r\n                  e.target.style.color = '#6b7280';\r\n                }}\r\n              >\r\n                <i className=\"bi bi-x-circle\" style={{ marginRight: '8px' }}></i>\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmDeleteSubSection}\r\n                style={{\r\n                  padding: '12px 24px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                  color: 'white',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  boxShadow: '0 3px 10px rgba(239, 68, 68, 0.3)'\r\n                }}\r\n                onMouseOver={(e) => {\r\n                  e.target.style.transform = 'translateY(-1px)';\r\n                  e.target.style.boxShadow = '0 4px 15px rgba(239, 68, 68, 0.4)';\r\n                }}\r\n                onMouseOut={(e) => {\r\n                  e.target.style.transform = 'translateY(0)';\r\n                  e.target.style.boxShadow = '0 3px 10px rgba(239, 68, 68, 0.3)';\r\n                }}\r\n              >\r\n                <i className=\"bi bi-trash\" style={{ marginRight: '8px' }}></i>\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Employee List Modal */}\r\n      {showEmployeeModal && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 10000,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            maxWidth: '1000px',\r\n            width: '100%',\r\n            maxHeight: '90vh',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n            overflow: 'hidden'\r\n          }}>\r\n            {/* Header */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n              padding: '24px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between'\r\n            }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <i className=\"bi bi-people-fill\" style={{ fontSize: '24px', color: 'white' }}></i>\r\n                <h2 style={{ margin: 0, color: 'white', fontSize: '20px', fontWeight: '600' }}>\r\n                  Employee List - {selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'Sub-Section'}\r\n                </h2>\r\n              </div>\r\n              <button\r\n                onClick={closeEmployeeModal}\r\n                style={{\r\n                  background: 'rgba(255, 255, 255, 0.2)',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  width: '36px',\r\n                  height: '36px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  color: 'white',\r\n                  fontSize: '20px'\r\n                }}\r\n                onMouseOver={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.3)'}\r\n                onMouseOut={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.2)'}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Active Filters Display - Employee Management Style */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #667eea15 0%, #764ba215 100%)',\r\n              border: '2px solid #667eea',\r\n              borderRadius: '8px',\r\n              padding: '16px 20px',\r\n              margin: '16px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-funnel-fill\" style={{ color: '#667eea', fontSize: '20px' }}></i>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ fontWeight: '600', color: '#495057', marginBottom: '4px' }}>Active Filters:</div>\r\n                <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px' }}>\r\n                  <span style={{\r\n                    background: '#667eea',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {selectedSubSection?.parentDivision?.division_name || 'N/A'}\r\n                  </span>\r\n                  <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                  <span style={{\r\n                    background: '#764ba2',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {selectedSubSection?.parentSection?.hie_name || 'N/A'}\r\n                  </span>\r\n                  <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                  <span style={{\r\n                    background: '#f093fb',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'Sub-Section'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Search Bar */}\r\n            <div style={{\r\n              padding: '16px 32px',\r\n              borderBottom: '1px solid #e5e7eb',\r\n              background: '#f9fafb'\r\n            }}>\r\n              <div style={{ position: 'relative' }}>\r\n                <i className=\"bi bi-search\" style={{\r\n                  position: 'absolute',\r\n                  left: '14px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  color: '#9ca3af',\r\n                  fontSize: '16px'\r\n                }}></i>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search by Employee ID or Name...\"\r\n                  value={employeeSearchQuery}\r\n                  onChange={(e) => setEmployeeSearchQuery(e.target.value)}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px 16px 12px 42px',\r\n                    border: '2px solid #e5e7eb',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    outline: 'none',\r\n                    transition: 'all 0.2s ease'\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    e.target.style.borderColor = '#667eea';\r\n                    e.target.style.boxShadow = '0 0 0 3px rgba(102, 126, 234, 0.1)';\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = '#e5e7eb';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n                <div style={{ marginTop: '8px', color: '#6b7280', fontSize: '13px' }}>Showing <strong>active</strong> employees only</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div style={{\r\n              padding: '24px 32px',\r\n              flex: 1,\r\n              overflow: 'auto'\r\n            }}>\r\n              {employeeLoading ? (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  padding: '60px 20px',\r\n                  gap: '16px'\r\n                }}>\r\n                  <div className=\"spinner-border\" role=\"status\" style={{ color: '#667eea' }}>\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <p style={{ color: '#6b7280', margin: 0 }}>Loading employees from HRIS...</p>\r\n                </div>\r\n              ) : (() => {\r\n                // Filter employees based on search query\r\n                const filteredEmployees = employeeList.filter(emp => {\r\n                  if (!employeeSearchQuery.trim()) return true;\r\n                  \r\n                  const searchLower = employeeSearchQuery.toLowerCase().trim();\r\n                  const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                  const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                  \r\n                  return empId.includes(searchLower) || empName.includes(searchLower);\r\n                });\r\n\r\n                return filteredEmployees.length === 0 ? (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  padding: '60px 20px',\r\n                  gap: '12px'\r\n                }}>\r\n                  <i className=\"bi bi-person-x\" style={{ fontSize: '48px', color: '#d1d5db' }}></i>\r\n                  <p style={{ color: '#6b7280', margin: 0, fontSize: '16px' }}>\r\n                    {employeeSearchQuery ? 'No employees match your search' : 'No employees found for this division and section'}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div style={{\r\n                  border: '1px solid #e5e7eb',\r\n                  borderRadius: '12px',\r\n                  overflow: 'hidden'\r\n                }}>\r\n                  <table style={{\r\n                    width: '100%',\r\n                    borderCollapse: 'collapse'\r\n                  }}>\r\n                    <thead>\r\n                      <tr style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\r\n                        <th style={{ padding: '14px 16px', width: '40px', textAlign: 'center' }}>\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={(() => {\r\n                              try {\r\n                                const filteredEmployees = employeeList.filter(emp => {\r\n                                  if (!employeeSearchQuery.trim()) return true;\r\n                                  const searchLower = employeeSearchQuery.toLowerCase().trim();\r\n                                  const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                                  const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                                  return empId.includes(searchLower) || empName.includes(searchLower);\r\n                                });\r\n                                return filteredEmployees.length > 0 && selectedEmployeeIds.size === filteredEmployees.length;\r\n                              } catch (e) { return false; }\r\n                            })()}\r\n                            onChange={(e) => {\r\n                              const checked = !!e.target.checked;\r\n                              // find current filtered list\r\n                              const filteredEmployees = employeeList.filter(emp => {\r\n                                if (!employeeSearchQuery.trim()) return true;\r\n                                const searchLower = employeeSearchQuery.toLowerCase().trim();\r\n                                const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                                const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                                return empId.includes(searchLower) || empName.includes(searchLower);\r\n                              });\r\n                              selectAllCurrent(checked, filteredEmployees);\r\n                            }}\r\n                            title=\"Select all visible employees\"\r\n                          />\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'left', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          EMPLOYEE ID\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'left', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          NAME\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'center', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          STATUS\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'center', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          ACTION\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredEmployees.map((emp, index) => {\r\n                        const empId = emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id;\r\n                        \r\n                        return (\r\n                          <tr \r\n                            key={empId || index}\r\n                            style={{\r\n                              borderBottom: index < filteredEmployees.length - 1 ? '1px solid #e5e7eb' : 'none',\r\n                              transition: 'all 0.2s ease'\r\n                            }}\r\n                            onMouseOver={(e) => e.currentTarget.style.background = '#f9fafb'}\r\n                            onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}\r\n                          >\r\n                            <td style={{ padding: '12px 10px', textAlign: 'center' }}>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={selectedEmployeeIds.has(String(empId))}\r\n                                onChange={() => toggleSelectEmployee(emp)}\r\n                                title=\"Select employee for bulk transfer\"\r\n                              />\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', fontSize: '14px', color: '#1f2937', fontWeight: '600' }}>\r\n                              {empId || 'N/A'}\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', fontSize: '14px', color: '#1f2937' }}>\r\n                              {emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || 'N/A'}\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', textAlign: 'center' }}>\r\n                              {(() => {\r\n                                const isActive = emp?.ACTIVE_HRM_FLG === 1 || emp?.STATUS === 'ACTIVE' || emp?.status === 'ACTIVE' || emp?.isActive === true;\r\n                                return (\r\n                                  <span style={{\r\n                                    padding: '4px 12px',\r\n                                    borderRadius: '12px',\r\n                                    fontSize: '12px',\r\n                                    fontWeight: '600',\r\n                                    background: isActive ? '#dcfce7' : '#fee2e2',\r\n                                    color: isActive ? '#16a34a' : '#dc2626',\r\n                                    display: 'inline-block'\r\n                                  }}>\r\n                                    {isActive ? 'Active' : 'Inactive'}\r\n                                  </span>\r\n                                );\r\n                              })()}\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', textAlign: 'center' }}>\r\n                              <button\r\n                                onClick={() => handleTransferEmployee(emp)}\r\n                                style={{\r\n                                  padding: '8px 16px',\r\n                                  border: 'none',\r\n                                  borderRadius: '6px',\r\n                                  background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                                  color: 'white',\r\n                                  fontSize: '13px',\r\n                                  fontWeight: '600',\r\n                                  cursor: 'pointer',\r\n                                  transition: 'all 0.2s ease',\r\n                                  display: 'inline-flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '6px'\r\n                                }}\r\n                                onMouseOver={(e) => {\r\n                                  e.currentTarget.style.transform = 'translateY(-1px)';\r\n                                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(102, 126, 234, 0.4)';\r\n                                }}\r\n                                onMouseOut={(e) => {\r\n                                  e.currentTarget.style.transform = 'translateY(0)';\r\n                                  e.currentTarget.style.boxShadow = 'none';\r\n                                }}\r\n                                title=\"Transfer employee to this sub-section\"\r\n                              >\r\n                                <i className=\"bi bi-arrow-left-right\"></i>\r\n                                Transfer\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              );\r\n              })()}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div style={{\r\n              padding: '20px 32px',\r\n              borderTop: '1px solid #e5e7eb',\r\n              background: '#f9fafb',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center'\r\n            }}>\r\n              <div style={{ fontSize: '14px', color: '#6b7280' }}>\r\n                {(() => {\r\n                  const filteredCount = employeeList.filter(emp => {\r\n                    if (!employeeSearchQuery.trim()) return true;\r\n                    const searchLower = employeeSearchQuery.toLowerCase().trim();\r\n                    const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                    const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                    return empId.includes(searchLower) || empName.includes(searchLower);\r\n                  }).length;\r\n                  \r\n                  return (\r\n                    <>\r\n                      <strong style={{ color: '#1f2937' }}>{filteredCount}</strong> employee{filteredCount !== 1 ? 's' : ''} found\r\n                      {employeeSearchQuery && filteredCount !== employeeList.length && (\r\n                        <span style={{ marginLeft: '8px', color: '#9ca3af' }}>\r\n                          (filtered from {employeeList.length})\r\n                        </span>\r\n                      )}\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div>\r\n              {/* Footer Close button removed per request; use header X to close modal */}\r\n              <button\r\n                onClick={() => setShowBulkTransferConfirm(true)}\r\n                disabled={selectedEmployeeIds.size === 0}\r\n                style={{\r\n                  padding: '10px 24px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: selectedEmployeeIds.size === 0 ? '#d1d5db' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                  color: 'white',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: selectedEmployeeIds.size === 0 ? 'not-allowed' : 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  marginLeft: '12px'\r\n                }}\r\n              >\r\n                Transfer Selected\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Transfer Confirmation Modal */}\r\n      {showTransferConfirm && transferEmployee && selectedSubSection && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 10001,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            maxWidth: '550px',\r\n            width: '100%',\r\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n            overflow: 'hidden'\r\n          }}>\r\n            {/* Header */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n              padding: '24px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-arrow-left-right-circle\" style={{ fontSize: '28px', color: 'white' }}></i>\r\n              <h3 style={{ margin: 0, color: 'white', fontSize: '20px', fontWeight: '600' }}>\r\n                Confirm Transfer\r\n              </h3>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div style={{ padding: '32px' }}>\r\n              <div style={{\r\n                background: '#f9fafb',\r\n                borderRadius: '12px',\r\n                padding: '20px',\r\n                marginBottom: '24px',\r\n                border: '2px solid #e5e7eb'\r\n              }}>\r\n                <div style={{ \r\n                  fontSize: '16px', \r\n                  color: '#374151', \r\n                  marginBottom: '20px',\r\n                  lineHeight: '1.6'\r\n                }}>\r\n                  Are you sure you want to transfer this employee?\r\n                </div>\r\n\r\n                {/* Employee Info */}\r\n                <div style={{\r\n                  background: 'white',\r\n                  borderRadius: '8px',\r\n                  padding: '16px',\r\n                  marginBottom: '16px',\r\n                  border: '1px solid #e5e7eb'\r\n                }}>\r\n                  <div style={{ fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Employee</div>\r\n                  <div style={{ fontSize: '16px', color: '#1f2937', fontWeight: '600' }}>\r\n                    {transferEmployee?.FULLNAME || transferEmployee?.fullName || transferEmployee?.CALLING_NAME || 'N/A'}\r\n                  </div>\r\n                  <div style={{ fontSize: '13px', color: '#667eea', marginTop: '4px' }}>\r\n                    ID: {transferEmployee?.EMP_NUMBER || transferEmployee?.empNumber || 'N/A'}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Destination Info */}\r\n                <div style={{\r\n                  background: 'white',\r\n                  borderRadius: '8px',\r\n                  padding: '16px',\r\n                  border: '1px solid #e5e7eb'\r\n                }}>\r\n                  <div style={{ fontSize: '12px', color: '#6b7280', marginBottom: '8px' }}>\r\n                    <i className=\"bi bi-arrow-down\"></i> Transferring to:\r\n                  </div>\r\n                  <div style={{ marginLeft: '16px' }}>\r\n                    <div style={{ fontSize: '14px', color: '#1f2937', marginBottom: '6px' }}>\r\n                      <strong>Sub-Section:</strong> {selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'N/A'}\r\n                    </div>\r\n                    <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                      <strong>Section:</strong> {selectedSubSection?.parentSection?.hie_name || 'N/A'}\r\n                    </div>\r\n                    <div style={{ fontSize: '13px', color: '#6b7280' }}>\r\n                      <strong>Division:</strong> {selectedSubSection?.parentDivision?.division_name || 'N/A'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div style={{ \r\n                display: 'flex', \r\n                gap: '12px', \r\n                justifyContent: 'flex-end' \r\n              }}>\r\n                <button\r\n                  onClick={cancelTransfer}\r\n                  disabled={transferSubmitting}\r\n                  style={{\r\n                    padding: '12px 24px',\r\n                    border: '2px solid #d1d5db',\r\n                    borderRadius: '8px',\r\n                    backgroundColor: 'white',\r\n                    color: '#6b7280',\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    cursor: transferSubmitting ? 'not-allowed' : 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    opacity: transferSubmitting ? 0.5 : 1\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!transferSubmitting) {\r\n                      e.target.style.borderColor = '#9ca3af';\r\n                      e.target.style.color = '#374151';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    if (!transferSubmitting) {\r\n                      e.target.style.borderColor = '#d1d5db';\r\n                      e.target.style.color = '#6b7280';\r\n                    }\r\n                  }}\r\n                >\r\n                  <i className=\"bi bi-x-circle\" style={{ marginRight: '8px' }}></i>\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={confirmTransferEmployee}\r\n                  disabled={transferSubmitting}\r\n                  style={{\r\n                    padding: '12px 24px',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    background: transferSubmitting \r\n                      ? '#9ca3af' \r\n                      : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n                    color: 'white',\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    cursor: transferSubmitting ? 'not-allowed' : 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    boxShadow: '0 3px 10px rgba(102, 126, 234, 0.3)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!transferSubmitting) {\r\n                      e.target.style.transform = 'translateY(-1px)';\r\n                      e.target.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.4)';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    if (!transferSubmitting) {\r\n                      e.target.style.transform = 'translateY(0)';\r\n                      e.target.style.boxShadow = '0 3px 10px rgba(102, 126, 234, 0.3)';\r\n                    }\r\n                  }}\r\n                >\r\n                  {transferSubmitting ? (\r\n                    <>\r\n                      <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Transferring...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <i className=\"bi bi-check-circle\"></i>\r\n                      Confirm Transfer\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Transferred Employees Modal */}\r\n      {showTransferredEmployeesModal && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 10000,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            maxWidth: '1000px',\r\n            width: '100%',\r\n            maxHeight: '90vh',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n            overflow: 'hidden'\r\n          }}>\r\n            {/* Header */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\r\n              padding: '24px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between'\r\n            }}>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <i className=\"bi bi-arrow-counterclockwise\" style={{ fontSize: '24px', color: 'white' }}></i>\r\n                <h2 style={{ margin: 0, color: 'white', fontSize: '20px', fontWeight: '600' }}>\r\n                  Transferred Employees - {selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'Sub-Section'}\r\n                </h2>\r\n              </div>\r\n              <button\r\n                onClick={closeTransferredEmployeesModal}\r\n                style={{\r\n                  background: 'rgba(255, 255, 255, 0.2)',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  width: '36px',\r\n                  height: '36px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  color: 'white',\r\n                  fontSize: '20px'\r\n                }}\r\n                onMouseOver={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.3)'}\r\n                onMouseOut={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.2)'}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Active Filters Display */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #667eea15 0%, #764ba215 100%)',\r\n              border: '2px solid #667eea',\r\n              borderRadius: '8px',\r\n              padding: '16px 20px',\r\n              margin: '16px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-funnel-fill\" style={{ color: '#667eea', fontSize: '20px' }}></i>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ fontWeight: '600', color: '#495057', marginBottom: '4px' }}>Active Filters:</div>\r\n                <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px' }}>\r\n                  <span style={{\r\n                    background: '#667eea',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {selectedSubSection?.parentDivision?.division_name || 'N/A'}\r\n                  </span>\r\n                  <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                  <span style={{\r\n                    background: '#764ba2',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {selectedSubSection?.parentSection?.hie_name || 'N/A'}\r\n                  </span>\r\n                  <i className=\"bi bi-chevron-right\" style={{ color: '#667eea' }}></i>\r\n                  <span style={{\r\n                    background: '#f093fb',\r\n                    color: 'white',\r\n                    padding: '4px 12px',\r\n                    borderRadius: '20px',\r\n                    fontSize: '13px',\r\n                    fontWeight: '500'\r\n                  }}>\r\n                    {selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'Sub-Section'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Search Bar */}\r\n            <div style={{\r\n              padding: '16px 32px',\r\n              borderBottom: '1px solid #e5e7eb',\r\n              background: '#fef3c7'\r\n            }}>\r\n              <div style={{ position: 'relative' }}>\r\n                <i className=\"bi bi-search\" style={{\r\n                  position: 'absolute',\r\n                  left: '14px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  color: '#d97706',\r\n                  fontSize: '16px'\r\n                }}></i>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search by Employee ID or Name...\"\r\n                  value={transferredSearchQuery}\r\n                  onChange={(e) => setTransferredSearchQuery(e.target.value)}\r\n                  style={{\r\n                    width: '100%',\r\n                    padding: '12px 16px 12px 42px',\r\n                    border: '2px solid #fbbf24',\r\n                    borderRadius: '8px',\r\n                    fontSize: '14px',\r\n                    outline: 'none',\r\n                    transition: 'all 0.2s ease',\r\n                    background: 'white'\r\n                  }}\r\n                  onFocus={(e) => {\r\n                    e.target.style.borderColor = '#f59e0b';\r\n                    e.target.style.boxShadow = '0 0 0 3px rgba(245, 158, 11, 0.1)';\r\n                  }}\r\n                  onBlur={(e) => {\r\n                    e.target.style.borderColor = '#fbbf24';\r\n                    e.target.style.boxShadow = 'none';\r\n                  }}\r\n                />\r\n                <div style={{ marginTop: '8px', color: '#6b7280', fontSize: '13px' }}>Showing <strong>active</strong> transferred employees only</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div style={{\r\n              padding: '24px 32px',\r\n              flex: 1,\r\n              overflow: 'auto'\r\n            }}>\r\n              {transferredLoading ? (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  padding: '60px 20px',\r\n                  gap: '16px'\r\n                }}>\r\n                  <div className=\"spinner-border\" role=\"status\" style={{ color: '#f59e0b' }}>\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <p style={{ color: '#6b7280', margin: 0 }}>Loading transferred employees...</p>\r\n                </div>\r\n              ) : (() => {\r\n                // Filter transferred employees based on search query\r\n                const filteredTransferred = transferredEmployeesList.filter(emp => {\r\n                  if (!transferredSearchQuery.trim()) return true;\r\n                  \r\n                  const searchLower = transferredSearchQuery.toLowerCase().trim();\r\n                  const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                  const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                  \r\n                  return empId.includes(searchLower) || empName.includes(searchLower);\r\n                });\r\n\r\n                return filteredTransferred.length === 0 ? (\r\n                <div style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  padding: '60px 20px',\r\n                  gap: '12px'\r\n                }}>\r\n                  <i className=\"bi bi-inbox\" style={{ fontSize: '48px', color: '#d1d5db' }}></i>\r\n                  <p style={{ color: '#6b7280', margin: 0, fontSize: '16px' }}>\r\n                    {transferredSearchQuery ? 'No transferred employees match your search' : 'No transferred employees found for this sub-section'}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div style={{\r\n                  border: '1px solid #e5e7eb',\r\n                  borderRadius: '12px',\r\n                  overflow: 'hidden'\r\n                }}>\r\n                  <table style={{\r\n                    width: '100%',\r\n                    borderCollapse: 'collapse'\r\n                  }}>\r\n                    <thead>\r\n                      <tr style={{ background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)' }}>\r\n                            <th style={{ padding: '14px 16px', width: '40px', textAlign: 'center' }}>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={(() => {\r\n                                  try {\r\n                                    const filteredTransferred = transferredEmployeesList.filter(emp => {\r\n                                      if (!transferredSearchQuery.trim()) return true;\r\n                                      const searchLower = transferredSearchQuery.toLowerCase().trim();\r\n                                      const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                                      const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                                      return empId.includes(searchLower) || empName.includes(searchLower);\r\n                                    });\r\n                                    return filteredTransferred.length > 0 && selectedTransferredEmployeeIds.size === filteredTransferred.length;\r\n                                  } catch (e) { return false; }\r\n                                })()}\r\n                                onChange={(e) => {\r\n                                  const checked = !!e.target.checked;\r\n                                  const filteredTransferred = transferredEmployeesList.filter(emp => {\r\n                                    if (!transferredSearchQuery.trim()) return true;\r\n                                    const searchLower = transferredSearchQuery.toLowerCase().trim();\r\n                                    const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                                    const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                                    return empId.includes(searchLower) || empName.includes(searchLower);\r\n                                  });\r\n                                  if (checked) {\r\n                                    const ids = new Set(filteredTransferred.map(emp => String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '')));\r\n                                    setSelectedTransferredEmployeeIds(ids);\r\n                                  } else {\r\n                                    setSelectedTransferredEmployeeIds(new Set());\r\n                                  }\r\n                                }}\r\n                                title=\"Select all visible transferred employees\"\r\n                              />\r\n                            </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'left', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          EMPLOYEE ID\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'left', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          NAME\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'center', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          STATUS\r\n                        </th>\r\n                        <th style={{ padding: '14px 16px', textAlign: 'center', color: 'white', fontWeight: '600', fontSize: '13px' }}>\r\n                          ACTION\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {filteredTransferred.map((emp, index) => {\r\n                        const empId = emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id;\r\n                        \r\n                        return (\r\n                          <tr \r\n                            key={empId || index}\r\n                            style={{\r\n                              borderBottom: index < filteredTransferred.length - 1 ? '1px solid #e5e7eb' : 'none',\r\n                              transition: 'all 0.2s ease'\r\n                            }}\r\n                            onMouseOver={(e) => e.currentTarget.style.background = '#fef3c7'}\r\n                            onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}\r\n                          >\r\n                            <td style={{ padding: '12px 10px', textAlign: 'center' }}>\r\n                              <input\r\n                                type=\"checkbox\"\r\n                                checked={selectedTransferredEmployeeIds.has(String(empId))}\r\n                                onChange={() => {\r\n                                  const id = String(empId);\r\n                                  setSelectedTransferredEmployeeIds(prev => {\r\n                                    const next = new Set(Array.from(prev));\r\n                                    if (next.has(id)) next.delete(id);\r\n                                    else next.add(id);\r\n                                    return next;\r\n                                  });\r\n                                }}\r\n                                title=\"Select transferred employee for recall\"\r\n                              />\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', fontSize: '14px', color: '#1f2937', fontWeight: '600' }}>\r\n                              {empId || 'N/A'}\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', fontSize: '14px', color: '#1f2937' }}>\r\n                              {emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || 'N/A'}\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', textAlign: 'center' }}>\r\n                              {(() => {\r\n                                const isActive = emp?.ACTIVE_HRM_FLG === 1 || emp?.STATUS === 'ACTIVE' || emp?.status === 'ACTIVE' || emp?.isActive === true;\r\n                                return (\r\n                                  <span style={{\r\n                                    padding: '4px 12px',\r\n                                    borderRadius: '12px',\r\n                                    fontSize: '12px',\r\n                                    fontWeight: '600',\r\n                                    background: isActive ? '#dcfce7' : '#fee2e2',\r\n                                    color: isActive ? '#16a34a' : '#dc2626',\r\n                                    display: 'inline-block'\r\n                                  }}>\r\n                                    {isActive ? 'Active' : 'Inactive'}\r\n                                  </span>\r\n                                );\r\n                              })()}\r\n                            </td>\r\n                            <td style={{ padding: '12px 16px', textAlign: 'center' }}>\r\n                              <button\r\n                                onClick={() => {\r\n                                  // Close transferred modal and trigger recall\r\n                                  setShowTransferredEmployeesModal(false);\r\n                                  setTimeout(() => {\r\n                                    handleRecallTransfer(emp);\r\n                                  }, 200);\r\n                                }}\r\n                                style={{\r\n                                  padding: '8px 16px',\r\n                                  border: 'none',\r\n                                  borderRadius: '6px',\r\n                                  background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                                  color: 'white',\r\n                                  fontSize: '13px',\r\n                                  fontWeight: '600',\r\n                                  cursor: 'pointer',\r\n                                  transition: 'all 0.2s ease',\r\n                                  display: 'inline-flex',\r\n                                  alignItems: 'center',\r\n                                  gap: '6px'\r\n                                }}\r\n                                onMouseOver={(e) => {\r\n                                  e.currentTarget.style.transform = 'translateY(-1px)';\r\n                                  e.currentTarget.style.boxShadow = '0 4px 12px rgba(239, 68, 68, 0.4)';\r\n                                }}\r\n                                onMouseOut={(e) => {\r\n                                  e.currentTarget.style.transform = 'translateY(0)';\r\n                                  e.currentTarget.style.boxShadow = 'none';\r\n                                }}\r\n                                title=\"Recall employee transfer from this sub-section\"\r\n                              >\r\n                                <i className=\"bi bi-arrow-counterclockwise\"></i>\r\n                                Recall\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              );\r\n              })()}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div style={{\r\n              padding: '20px 32px',\r\n              borderTop: '1px solid #e5e7eb',\r\n              background: '#f9fafb',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center'\r\n            }}>\r\n              <div style={{ fontSize: '14px', color: '#6b7280' }}>\r\n                {(() => {\r\n                  const filteredCount = transferredEmployeesList.filter(emp => {\r\n                    if (!transferredSearchQuery.trim()) return true;\r\n                    const searchLower = transferredSearchQuery.toLowerCase().trim();\r\n                    const empId = String(emp?.EMP_NUMBER || emp?.empNumber || emp?.EMP_ID || emp?.emp_id || '').toLowerCase();\r\n                    const empName = String(emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || '').toLowerCase();\r\n                    return empId.includes(searchLower) || empName.includes(searchLower);\r\n                  }).length;\r\n                  \r\n                  return (\r\n                    <>\r\n                      <strong style={{ color: '#1f2937' }}>{filteredCount}</strong> transferred employee{filteredCount !== 1 ? 's' : ''}\r\n                      {transferredSearchQuery && filteredCount !== transferredEmployeesList.length && (\r\n                        <span style={{ marginLeft: '8px', color: '#9ca3af' }}>\r\n                          (filtered from {transferredEmployeesList.length})\r\n                        </span>\r\n                      )}\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div>\r\n              {/* Removed footer Close button per request; modal can still be closed via header X */}\r\n              <button\r\n                onClick={() => setShowBulkRecallConfirm(true)}\r\n                disabled={selectedTransferredEmployeeIds.size === 0}\r\n                style={{\r\n                  padding: '10px 24px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: selectedTransferredEmployeeIds.size === 0 ? '#d1d5db' : 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                  color: 'white',\r\n                  fontSize: '14px',\r\n                  fontWeight: '600',\r\n                  cursor: selectedTransferredEmployeeIds.size === 0 ? 'not-allowed' : 'pointer',\r\n                  transition: 'all 0.2s ease',\r\n                  marginLeft: '12px'\r\n                }}\r\n              >\r\n                Recall Selected\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Recall Confirmation Modal */}\r\n      {showRecallConfirm && recallEmployee && selectedSubSection && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 10001,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            maxWidth: '550px',\r\n            width: '100%',\r\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n            overflow: 'hidden'\r\n          }}>\r\n            {/* Header */}\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n              padding: '24px 32px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-arrow-counterclockwise\" style={{ fontSize: '28px', color: 'white' }}></i>\r\n              <h3 style={{ margin: 0, color: 'white', fontSize: '20px', fontWeight: '600' }}>\r\n                Confirm Recall Transfer\r\n              </h3>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div style={{ padding: '32px' }}>\r\n              <div style={{\r\n                background: '#fef2f2',\r\n                borderRadius: '12px',\r\n                padding: '20px',\r\n                marginBottom: '24px',\r\n                border: '2px solid #fecaca'\r\n              }}>\r\n                <div style={{ \r\n                  fontSize: '16px', \r\n                  color: '#991b1b', \r\n                  marginBottom: '20px',\r\n                  lineHeight: '1.6',\r\n                  fontWeight: '600'\r\n                }}>\r\n                  Are you sure you want to recall the transfer for this employee?\r\n                </div>\r\n\r\n                <div style={{ \r\n                  fontSize: '14px', \r\n                  color: '#7f1d1d', \r\n                  marginBottom: '20px',\r\n                  lineHeight: '1.6'\r\n                }}>\r\n                  This will remove the employee from this sub-section.\r\n                </div>\r\n\r\n                {/* Employee Info */}\r\n                <div style={{\r\n                  background: 'white',\r\n                  borderRadius: '8px',\r\n                  padding: '16px',\r\n                  marginBottom: '16px',\r\n                  border: '1px solid #fecaca'\r\n                }}>\r\n                  <div style={{ fontSize: '12px', color: '#991b1b', marginBottom: '4px' }}>Employee</div>\r\n                  <div style={{ fontSize: '16px', color: '#1f2937', fontWeight: '600' }}>\r\n                    {recallEmployee?.FULLNAME || recallEmployee?.fullName || recallEmployee?.CALLING_NAME || 'N/A'}\r\n                  </div>\r\n                  <div style={{ fontSize: '13px', color: '#dc2626', marginTop: '4px' }}>\r\n                    ID: {recallEmployee?.EMP_NUMBER || recallEmployee?.empNumber || 'N/A'}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Current Sub-Section Info */}\r\n                <div style={{\r\n                  background: 'white',\r\n                  borderRadius: '8px',\r\n                  padding: '16px',\r\n                  border: '1px solid #fecaca'\r\n                }}>\r\n                  <div style={{ fontSize: '12px', color: '#991b1b', marginBottom: '8px' }}>\r\n                    <i className=\"bi bi-building\"></i> Current Assignment:\r\n                  </div>\r\n                  <div style={{ marginLeft: '16px' }}>\r\n                    <div style={{ fontSize: '14px', color: '#1f2937', marginBottom: '6px' }}>\r\n                      <strong>Sub-Section:</strong> {selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'N/A'}\r\n                    </div>\r\n                    <div style={{ fontSize: '13px', color: '#6b7280', marginBottom: '4px' }}>\r\n                      <strong>Section:</strong> {selectedSubSection?.parentSection?.hie_name || 'N/A'}\r\n                    </div>\r\n                    <div style={{ fontSize: '13px', color: '#6b7280' }}>\r\n                      <strong>Division:</strong> {selectedSubSection?.parentDivision?.division_name || 'N/A'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Action Buttons */}\r\n              <div style={{ \r\n                display: 'flex', \r\n                gap: '12px', \r\n                justifyContent: 'flex-end' \r\n              }}>\r\n                <button\r\n                  onClick={cancelRecall}\r\n                  disabled={recallSubmitting}\r\n                  style={{\r\n                    padding: '12px 24px',\r\n                    border: '2px solid #d1d5db',\r\n                    borderRadius: '8px',\r\n                    backgroundColor: 'white',\r\n                    color: '#6b7280',\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    cursor: recallSubmitting ? 'not-allowed' : 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    opacity: recallSubmitting ? 0.5 : 1\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!recallSubmitting) {\r\n                      e.target.style.borderColor = '#9ca3af';\r\n                      e.target.style.color = '#374151';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    if (!recallSubmitting) {\r\n                      e.target.style.borderColor = '#d1d5db';\r\n                      e.target.style.color = '#6b7280';\r\n                    }\r\n                  }}\r\n                >\r\n                  <i className=\"bi bi-x-circle\" style={{ marginRight: '8px' }}></i>\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={confirmRecallTransfer}\r\n                  disabled={recallSubmitting}\r\n                  style={{\r\n                    padding: '12px 24px',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    background: recallSubmitting \r\n                      ? '#9ca3af' \r\n                      : 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                    color: 'white',\r\n                    fontSize: '14px',\r\n                    fontWeight: '600',\r\n                    cursor: recallSubmitting ? 'not-allowed' : 'pointer',\r\n                    transition: 'all 0.2s ease',\r\n                    boxShadow: '0 3px 10px rgba(239, 68, 68, 0.3)',\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    gap: '8px'\r\n                  }}\r\n                  onMouseOver={(e) => {\r\n                    if (!recallSubmitting) {\r\n                      e.target.style.transform = 'translateY(-1px)';\r\n                      e.target.style.boxShadow = '0 4px 15px rgba(239, 68, 68, 0.4)';\r\n                    }\r\n                  }}\r\n                  onMouseOut={(e) => {\r\n                    if (!recallSubmitting) {\r\n                      e.target.style.transform = 'translateY(0)';\r\n                      e.target.style.boxShadow = '0 3px 10px rgba(239, 68, 68, 0.3)';\r\n                    }\r\n                  }}\r\n                >\r\n                  {recallSubmitting ? (\r\n                    <>\r\n                      <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                      Recalling...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <i className=\"bi bi-check-circle\"></i>\r\n                      Confirm Recall\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bulk Recall Confirmation Modal */}\r\n      {showBulkRecallConfirm && selectedSubSection && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 10001,\r\n          padding: '20px'\r\n        }}>\r\n          <div style={{\r\n            background: 'white',\r\n            borderRadius: '16px',\r\n            maxWidth: '700px',\r\n            width: '100%',\r\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)',\r\n            overflow: 'hidden'\r\n          }}>\r\n            <div style={{\r\n              background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n              padding: '20px 28px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '12px'\r\n            }}>\r\n              <i className=\"bi bi-arrow-counterclockwise\" style={{ fontSize: '22px', color: 'white' }}></i>\r\n              <h3 style={{ margin: 0, color: 'white', fontSize: '18px', fontWeight: '600' }}>\r\n                Confirm Bulk Recall ({selectedTransferredEmployeeIds.size} selected)\r\n              </h3>\r\n            </div>\r\n            <div style={{ padding: '24px' }}>\r\n              <p style={{ fontSize: '14px', color: '#374151', marginBottom: '12px' }}>\r\n                You're about to recall the transfer for <strong>{selectedTransferredEmployeeIds.size}</strong> employee{selectedTransferredEmployeeIds.size !== 1 ? 's' : ''} from:\r\n              </p>\r\n              <div style={{ padding: '12px 16px', background: '#fef2f2', borderRadius: '8px', border: '1px solid #fecaca' }}>\r\n                <div style={{ fontSize: '14px', color: '#1f2937', fontWeight: '600' }}>{selectedSubSection?.subSection?.sub_hie_name || selectedSubSection?.subSection?.hie_name || 'N/A'}</div>\r\n                <div style={{ fontSize: '13px', color: '#6b7280' }}>{selectedSubSection?.parentSection?.hie_name || 'Section: N/A'}</div>\r\n                <div style={{ fontSize: '13px', color: '#6b7280' }}>{selectedSubSection?.parentDivision?.division_name || 'Division: N/A'}</div>\r\n              </div>\r\n              <div style={{ marginTop: '18px' }}>\r\n                <strong style={{ color: '#374151' }}>Selected employees preview:</strong>\r\n                <div style={{ marginTop: '8px', maxHeight: '160px', overflowY: 'auto', border: '1px solid #e5e7eb', borderRadius: '8px', padding: '8px' }}>\r\n                  {Array.from(selectedTransferredEmployeeIds).slice(0, 10).map((id, idx) => {\r\n                    const emp = transferredEmployeesList.find(e => String(e?.EMP_NUMBER || e?.empNumber || e?.EMP_ID || e?.emp_id || '') === id);\r\n                    const name = emp?.FULLNAME || emp?.fullName || emp?.CALLING_NAME || emp?.calling_name || emp?.name || id;\r\n                    return (\r\n                      <div key={id + idx} style={{ padding: '6px 8px', borderBottom: '1px dashed #e5e7eb', fontSize: '13px' }}>{id} - {name}</div>\r\n                    );\r\n                  })}\r\n                  {selectedTransferredEmployeeIds.size > 10 && (\r\n                    <div style={{ padding: '6px 8px', color: '#6b7280', fontSize: '13px' }}>+ {selectedTransferredEmployeeIds.size - 10} more...</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style={{ padding: '20px 28px', borderTop: '1px solid #e5e7eb', background: '#f9fafb', display: 'flex', justifyContent: 'flex-end', gap: '12px' }}>\r\n              <button\r\n                onClick={() => setShowBulkRecallConfirm(false)}\r\n                disabled={bulkRecallSubmitting}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  border: '2px solid #d1d5db',\r\n                  borderRadius: '8px',\r\n                  backgroundColor: 'white',\r\n                  color: '#6b7280',\r\n                  fontSize: '13px',\r\n                  fontWeight: '600',\r\n                  cursor: bulkRecallSubmitting ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >Cancel</button>\r\n              <button\r\n                onClick={confirmBulkRecall}\r\n                disabled={bulkRecallSubmitting}\r\n                style={{\r\n                  padding: '10px 20px',\r\n                  border: 'none',\r\n                  borderRadius: '8px',\r\n                  background: bulkRecallSubmitting ? '#9ca3af' : 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                  color: 'white',\r\n                  fontSize: '13px',\r\n                  fontWeight: '600',\r\n                  cursor: bulkRecallSubmitting ? 'not-allowed' : 'pointer'\r\n                }}\r\n              >\r\n                {bulkRecallSubmitting ? 'Recalling...' : `Confirm (${selectedTransferredEmployeeIds.size})`}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SectionManagement;","import './ModernAlert.css';\r\n\r\n/**\r\n * Modern Alert/Notification System\r\n * Replaces basic alert() with beautiful, animated notifications\r\n * \r\n * Usage:\r\n * import { showModernAlert, showConfirmDialog } from './ModernAlert';\r\n * \r\n * showModernAlert({\r\n *   type: 'success',\r\n *   title: 'Success!',\r\n *   message: 'User created successfully',\r\n *   duration: 3000\r\n * });\r\n * \r\n * const confirmed = await showConfirmDialog({\r\n *   title: 'Delete User',\r\n *   message: 'Are you sure you want to delete this user?',\r\n *   confirmText: 'Delete',\r\n *   cancelText: 'Cancel',\r\n *   type: 'danger'\r\n * });\r\n */\r\n\r\nlet alertContainer = null;\r\n\r\n// Create alert container if it doesn't exist\r\nconst getAlertContainer = () => {\r\n  if (!alertContainer) {\r\n    alertContainer = document.createElement('div');\r\n    alertContainer.id = 'modern-alert-container';\r\n    alertContainer.className = 'modern-alert-container';\r\n    document.body.appendChild(alertContainer);\r\n  }\r\n  return alertContainer;\r\n};\r\n\r\n// Generate unique ID\r\nconst generateId = () => `alert-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n\r\n// Icons for different alert types\r\nconst getIcon = (type) => {\r\n  const icons = {\r\n    success: 'bi-check-circle-fill',\r\n    error: 'bi-x-circle-fill',\r\n    warning: 'bi-exclamation-triangle-fill',\r\n    info: 'bi-info-circle-fill',\r\n    question: 'bi-question-circle-fill'\r\n  };\r\n  return icons[type] || icons.info;\r\n};\r\n\r\n/**\r\n * Show a modern alert notification\r\n * @param {Object} options - Alert options\r\n * @param {string} options.type - Alert type: 'success', 'error', 'warning', 'info'\r\n * @param {string} options.title - Alert title\r\n * @param {string} options.message - Alert message\r\n * @param {number} options.duration - Duration in ms (default: 3000, 0 for persistent)\r\n * @param {boolean} options.showConfetti - Show confetti animation (success only)\r\n */\r\nexport const showModernAlert = ({\r\n  type = 'info',\r\n  title = '',\r\n  message = '',\r\n  duration = 3000,\r\n  showConfetti = false\r\n}) => {\r\n  const container = getAlertContainer();\r\n  const alertId = generateId();\r\n  \r\n  const alertEl = document.createElement('div');\r\n  alertEl.id = alertId;\r\n  alertEl.className = `modern-alert modern-alert-${type} modern-alert-enter`;\r\n  \r\n  alertEl.innerHTML = `\r\n    <div class=\"modern-alert-content\">\r\n      <div class=\"modern-alert-icon\">\r\n        <i class=\"bi ${getIcon(type)}\"></i>\r\n      </div>\r\n      <div class=\"modern-alert-body\">\r\n        ${title ? `<div class=\"modern-alert-title\">${title}</div>` : ''}\r\n        <div class=\"modern-alert-message\">${message}</div>\r\n      </div>\r\n      <button class=\"modern-alert-close\" onclick=\"this.closest('.modern-alert').remove()\">\r\n        <i class=\"bi bi-x\"></i>\r\n      </button>\r\n    </div>\r\n    <div class=\"modern-alert-progress\"></div>\r\n  `;\r\n  \r\n  container.appendChild(alertEl);\r\n  \r\n  // Trigger animation\r\n  setTimeout(() => {\r\n    alertEl.classList.remove('modern-alert-enter');\r\n    alertEl.classList.add('modern-alert-active');\r\n  }, 10);\r\n  \r\n  // Show confetti for success\r\n  if (showConfetti && type === 'success') {\r\n    triggerConfetti();\r\n  }\r\n  \r\n  // Auto remove after duration\r\n  if (duration > 0) {\r\n    const progressBar = alertEl.querySelector('.modern-alert-progress');\r\n    if (progressBar) {\r\n      progressBar.style.animationDuration = `${duration}ms`;\r\n    }\r\n    \r\n    setTimeout(() => {\r\n      removeAlert(alertId);\r\n    }, duration);\r\n  }\r\n  \r\n  return alertId;\r\n};\r\n\r\n/**\r\n * Show a confirmation dialog\r\n * @param {Object} options - Dialog options\r\n * @returns {Promise<boolean>} - True if confirmed, false if cancelled\r\n */\r\nexport const showConfirmDialog = ({\r\n  title = 'Confirm',\r\n  message = 'Are you sure?',\r\n  confirmText = 'Confirm',\r\n  cancelText = 'Cancel',\r\n  type = 'warning', // 'warning', 'danger', 'info'\r\n  showIcon = true\r\n}) => {\r\n  return new Promise((resolve) => {\r\n    const container = getAlertContainer();\r\n    const dialogId = generateId();\r\n    \r\n    const overlay = document.createElement('div');\r\n    overlay.id = dialogId;\r\n    overlay.className = 'modern-dialog-overlay modern-dialog-enter';\r\n    \r\n    overlay.innerHTML = `\r\n      <div class=\"modern-dialog modern-dialog-${type}\">\r\n        <div class=\"modern-dialog-content\">\r\n          ${showIcon ? `\r\n            <div class=\"modern-dialog-icon\">\r\n              <i class=\"bi ${getIcon(type === 'danger' ? 'error' : type)}\"></i>\r\n            </div>\r\n          ` : ''}\r\n          <div class=\"modern-dialog-body\">\r\n            <h3 class=\"modern-dialog-title\">${title}</h3>\r\n            <p class=\"modern-dialog-message\">${message}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"modern-dialog-footer\">\r\n          <button class=\"modern-btn modern-btn-cancel\" data-action=\"cancel\">\r\n            <i class=\"bi bi-x-circle\"></i>\r\n            ${cancelText}\r\n          </button>\r\n          <button class=\"modern-btn modern-btn-confirm modern-btn-${type}\" data-action=\"confirm\">\r\n            <i class=\"bi bi-check-circle\"></i>\r\n            ${confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\r\n    \r\n    container.appendChild(overlay);\r\n    \r\n    // Trigger animation\r\n    setTimeout(() => {\r\n      overlay.classList.remove('modern-dialog-enter');\r\n      overlay.classList.add('modern-dialog-active');\r\n    }, 10);\r\n    \r\n    // Handle button clicks\r\n    overlay.addEventListener('click', (e) => {\r\n      if (e.target.closest('[data-action]')) {\r\n        const action = e.target.closest('[data-action]').dataset.action;\r\n        removeDialog(dialogId);\r\n        resolve(action === 'confirm');\r\n      } else if (e.target === overlay) {\r\n        // Click outside to cancel\r\n        removeDialog(dialogId);\r\n        resolve(false);\r\n      }\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Show a loading dialog\r\n * @param {string} message - Loading message\r\n * @returns {string} - Dialog ID for later removal\r\n */\r\nexport const showLoadingDialog = (message = 'Processing...') => {\r\n  const container = getAlertContainer();\r\n  const dialogId = generateId();\r\n  \r\n  const overlay = document.createElement('div');\r\n  overlay.id = dialogId;\r\n  overlay.className = 'modern-dialog-overlay modern-dialog-enter';\r\n  \r\n  overlay.innerHTML = `\r\n    <div class=\"modern-dialog modern-dialog-loading\">\r\n      <div class=\"modern-dialog-content\">\r\n        <div class=\"modern-loading-spinner\">\r\n          <div class=\"spinner-border text-primary\" role=\"status\">\r\n            <span class=\"visually-hidden\">Loading...</span>\r\n          </div>\r\n        </div>\r\n        <p class=\"modern-dialog-message\">${message}</p>\r\n      </div>\r\n    </div>\r\n  `;\r\n  \r\n  container.appendChild(overlay);\r\n  \r\n  setTimeout(() => {\r\n    overlay.classList.remove('modern-dialog-enter');\r\n    overlay.classList.add('modern-dialog-active');\r\n  }, 10);\r\n  \r\n  return dialogId;\r\n};\r\n\r\n/**\r\n * Remove a specific alert\r\n */\r\nconst removeAlert = (alertId) => {\r\n  const alert = document.getElementById(alertId);\r\n  if (alert) {\r\n    alert.classList.remove('modern-alert-active');\r\n    alert.classList.add('modern-alert-exit');\r\n    setTimeout(() => {\r\n      alert.remove();\r\n    }, 300);\r\n  }\r\n};\r\n\r\n/**\r\n * Remove a specific dialog\r\n */\r\nconst removeDialog = (dialogId) => {\r\n  const dialog = document.getElementById(dialogId);\r\n  if (dialog) {\r\n    dialog.classList.remove('modern-dialog-active');\r\n    dialog.classList.add('modern-dialog-exit');\r\n    setTimeout(() => {\r\n      dialog.remove();\r\n    }, 300);\r\n  }\r\n};\r\n\r\n/**\r\n * Close a loading dialog\r\n */\r\nexport const closeLoadingDialog = (dialogId) => {\r\n  removeDialog(dialogId);\r\n};\r\n\r\n/**\r\n * Confetti animation for success\r\n */\r\nconst triggerConfetti = () => {\r\n  const confettiCount = 50;\r\n  const container = document.body;\r\n  \r\n  for (let i = 0; i < confettiCount; i++) {\r\n    const confetti = document.createElement('div');\r\n    confetti.className = 'confetti';\r\n    confetti.style.left = `${Math.random() * 100}%`;\r\n    confetti.style.animationDelay = `${Math.random() * 0.5}s`;\r\n    confetti.style.backgroundColor = getRandomColor();\r\n    container.appendChild(confetti);\r\n    \r\n    setTimeout(() => confetti.remove(), 3000);\r\n  }\r\n};\r\n\r\nconst getRandomColor = () => {\r\n  const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#6c5ce7', '#a29bfe', '#fd79a8'];\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n};\r\n\r\n"],"names":["_ref","title","subtitle","icon","actions","onBack","_jsxs","_Fragment","children","className","onClick","style","marginBottom","background","color","border","width","padding","_jsx","fontWeight","src","logo","alt","_selectedSubSection$s9","_selectedSubSection$s0","_selectedSubSection$p9","_selectedSubSection$p0","_divisions$find2","_subParentSection$div2","_selectedSubSection$s1","_selectedSubSection$s10","_selectedSubSection$p1","_selectedSubSection$p10","_selectedSubSection$s11","_selectedSubSection$s12","_selectedSubSection$s13","_selectedSubSection$s14","_selectedSubSection$p11","_selectedSubSection$p12","_selectedSubSection$s15","_selectedSubSection$s16","_selectedSubSection$p13","_selectedSubSection$p14","_selectedSubSection$s17","_selectedSubSection$s18","_selectedSubSection$s19","_selectedSubSection$s20","_selectedSubSection$p15","_selectedSubSection$p16","_selectedSubSection$s21","_selectedSubSection$s22","_selectedSubSection$p17","_selectedSubSection$p18","sections","setSections","useState","divisions","setDivisions","loading","setLoading","selectedDivision","setSelectedDivision","searchQuery","setSearchQuery","sortOption","setSortOption","showAddModal","setShowAddModal","showEditModal","setShowEditModal","currentSection","setCurrentSection","showSubModal","setShowSubModal","subParentSection","setSubParentSection","subForm","setSubForm","name","code","subSubmitting","setSubSubmitting","subErrors","setSubErrors","showEditSubModal","setShowEditSubModal","editingSubSection","setEditingSubSection","editSubForm","setEditSubForm","editSubSubmitting","setEditSubSubmitting","editSubErrors","setEditSubErrors","rawSections","setRawSections","rawDivisions","setRawDivisions","formData","setFormData","division","formErrors","setFormErrors","submitting","setSubmitting","subSectionsBySection","setSubSectionsBySection","subSectionsLoading","setSubSectionsLoading","subSectionsError","setSubSectionsError","showSubSectionsModal","setShowSubSectionsModal","currentSectionForSubSections","setCurrentSectionForSubSections","showDeleteConfirm","setShowDeleteConfirm","deleteTarget","setDeleteTarget","showEmployeeModal","setShowEmployeeModal","selectedEmployeeIds","setSelectedEmployeeIds","Set","showBulkTransferConfirm","setShowBulkTransferConfirm","employeeList","setEmployeeList","employeeLoading","setEmployeeLoading","selectedSubSection","setSelectedSubSection","showTransferConfirm","setShowTransferConfirm","transferEmployee","setTransferEmployee","transferSubmitting","setTransferSubmitting","transferredEmployees","setTransferredEmployees","showRecallConfirm","setShowRecallConfirm","recallEmployee","setRecallEmployee","recallSubmitting","setRecallSubmitting","showTransferredEmployeesModal","setShowTransferredEmployeesModal","selectedTransferredEmployeeIds","setSelectedTransferredEmployeeIds","showBulkRecallConfirm","setShowBulkRecallConfirm","bulkRecallSubmitting","setBulkRecallSubmitting","transferredEmployeesList","setTransferredEmployeesList","transferredLoading","setTransferredLoading","activeEmployeeCount","setActiveEmployeeCount","inactiveEmployeeCount","setInactiveEmployeeCount","employeeSearchQuery","setEmployeeSearchQuery","transferredSearchQuery","setTransferredSearchQuery","toast","setToast","show","type","message","toastTimerRef","useRef","canView","usePermission","canCreate","canViewSubsections","canCreateSubsection","canUpdateSubsection","canDeleteSubsection","canTransferSubsection","canRecallSubsection","API_BASE_URL","process","showToast","_ref2","duration","current","clearTimeout","safeMessage","JSON","stringify","String","setTimeout","t","formatDateYmd","d","pad","n","padStart","getFullYear","getMonth","getDate","fetchSubSections","async","sectionId","force","arguments","length","undefined","token","localStorage","getItem","prev","section","find","s","_id","sectionCode","resp","fetch","encodeURIComponent","headers","credentials","ok","Error","status","data","json","items","Array","isArray","e","console","error","handleCloseSubSectionsModal","closeEditSubModal","fetchTransferredEmployees","subSectionId","log","response","method","transfers","transferredIds","map","employeeId","employee_id","empId","emp_id","sub_section_id","subsection_id","subsectionId","updated","filter","bulkTransferSubmitting","setBulkTransferSubmitting","cancelDeleteSubSection","handleShowTransferredEmployees","subSection","employeeDataList","transfer","_ref3","_transfer$employeeDat","raw","employeeData","employee_data","parse","_","activeEmployeeDataList","isEmployeeActive","normalizeTextKey","replace","trim","toLowerCase","emp","ACTIVE_HRM_FLG","STATUS","isActive","fetchData","useCallback","sectionsResponse","divisionsResponse","Promise","all","catch","sectionData","divisionData","divisionMap","dData","rows","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref0","_d$_id","_ref1","_ref10","_ref11","_ref12","_d$code","_ref13","_ref14","_ref15","_ref16","_ref17","_d$name","_ref18","_d$status","_ref19","_ref20","_ref21","_ref22","_ref23","_d$createdAt","_d$source","_divisionsResponse$ur","divisionId","id","DIVISION_ID","division_code","DIVISION_CODE","hie_code","HIE_CODE","divisionCode","division_name","DIVISION_NAME","hie_name","HIE_NAME","HIE_NAME_3","active","createdAt","created_at","CREATED_AT","createdOn","CREATED_ON","synced_at","source","url","includes","_raw","sort","a","b","localeCompare","Object","keys","isDivision","_d$name2","_d$name3","sData","_ref24","_ref25","_ref26","_s$division_code","_ref27","_ref28","_s$division_id","_ref29","_ref30","_ref31","_s$division_name","_s$parentDivision","_s$parentDivision2","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","_s$_id","_ref39","_ref40","_ref41","_ref42","_ref43","_ref44","_s$name","_ref45","_ref46","_ref47","_ref48","_s$code","_ref49","_s$status","_ref50","_ref51","_ref52","_ref53","_ref54","_s$createdAt","_s$source","_sectionsResponse$url","divCode","HIE_RELATIONSHIP","HIE_CODE_3","resolvedDivisionId","division_id","divisionName","parentDivision","SECTION_ID","SECTION_CODE","section_code","section_name","SECTION_NAME","HIE_NAME_4","hie_relationship","getDivisionName","divisionRef","div","handleInputChange","value","target","closeSubModal","handleCloseModal","useEffect","role","PageHeader","getSectionDivisionId","_section$division","displayedSections","_s$division","_divisions$find","sid","sNameKey","selectedName","selKey","searchedSections","q","idStr","nameKey","slice","getName","x","getIdNum","_ref66","_ref67","_x$code","v","Number","isFinite","ai","bi","handleDivisionSelect","position","top","right","zIndex","minWidth","maxWidth","borderRadius","boxShadow","display","gap","alignItems","animation","borderLeft","height","justifyContent","flexShrink","fontSize","flex","opacity","marginTop","overflow","hideToast","cursor","alignSelf","left","bottom","backgroundColor","margin","size","sub_hie_name","parentSection","maxHeight","overflowY","from","idx","EMP_NUMBER","empNumber","EMP_ID","FULLNAME","fullName","CALLING_NAME","calling_name","borderBottom","borderTop","disabled","selectedIdsArray","_selectedSubSection$p5","_selectedSubSection$p6","_selectedSubSection$p7","_selectedSubSection$p8","_selectedSubSection$s5","_selectedSubSection$s6","_selectedSubSection$s7","_selectedSubSection$s8","employeeName","sub_hie_code","transferredAt","Date","toISOString","body","bulkResult","warn","singleResults","r","push","some","combined","uniq","seen","forEach","c","key","has","add","flexWrap","htmlFor","divisionCounts","Map","nameToId","did","_s$division2","sName","mapped","get","set","onChange","outline","transition","marginRight","placeholder","_subSectionsBySection","_subSectionsBySection2","_subSectionsBySection3","_subSectionsBySection4","flexDirection","toUpperCase","handleCreateSubSection","toggleSubSections","stopPropagation","paddingBottom","onSubmit","preventDefault","showModernAlert","errors","validateForm","divisionsCount","submitData","fromEntries","entries","updatedSection","errorMessage","errorData","err","join","jsonError","statusText","newSection","showConfetti","required","paddingTop","backdropFilter","boxSizing","letterSpacing","textShadow","onMouseOver","onMouseOut","minHeight","_subParentSection$div","gridTemplateColumns","fontFamily","onFocus","borderColor","onBlur","errs","validateSubForm","_parent$division","_parent$division2","parent","divId","rawDivision","rd","_ref55","_ref56","_ref57","_ref58","_rd$_id","rawSection","rs","_ref59","_ref60","_ref61","_ref62","_rs$_id","payload","hrisSnapshot","createdResp","parentId","_ref63","_ref64","_ref65","_createdResp$data","createdItem","created","msg","transform","_editingSubSection$su","_editingSubSection$su2","_editingSubSection$su3","_editingSubSection$su4","section_id","j","WebkitBackdropFilter","textAlign","borderCollapse","textTransform","ss","index","_ss$subSection","_ss$subSection2","_ss$subSection3","_ss$subSection4","_ss$subSection5","_ss$subSection6","currentTarget","_subSection$parentDiv","_subSection$parentDiv2","_subSection$parentDiv3","_subSection$parentDiv4","_subSection$parentDiv5","_subSection$parentDiv6","_subSection$parentSec","_subSection$parentSec2","_subSection$parentSec3","_subSection$parentSec4","_subSection$parentSec5","_subSection$parentSec6","currentTransferred","norm","anyMatch","values","vv","hieCode","sectionName","hieName","allEmployees","getEmpDivCandidates","_emp$currentwork","_emp$currentwork2","_emp$currentwork3","_emp$currentwork4","_emp$currentwork5","_emp$currentwork6","_emp$currentwork7","HIE_CODE_4","hie_code_4","currentwork","hie_name_3","Boolean","getEmpSecCandidates","_emp$currentwork8","_emp$currentwork9","_emp$currentwork0","_emp$currentwork1","_emp$currentwork10","_emp$currentwork11","_emp$currentwork12","hie_code_3","hie_name_4","filteredEmployees","divCandidates","secCandidates","divisionMatch","sectionMatch","divisionRelax","sectionRelax","notTransferredEmployees","isInCurrent","te","isInSession","activeNotTransferred","handleAddEmployeeToSubSection","handleEditSubSection","item","_item$subSection","_item$subSection2","_item$subSection3","_item$subSection4","_item$subSection5","_item$subSection6","handleDeleteSubSection","lineHeight","closeEmployeeModal","searchLower","empName","checked","selectAllCurrent","allChecked","currentEmployeeList","allIds","employee","next","delete","toggleSelectEmployee","filteredCount","marginLeft","cancelTransfer","_selectedSubSection$p","_selectedSubSection$p2","_selectedSubSection$p3","_selectedSubSection$p4","_selectedSubSection$s","_selectedSubSection$s2","_selectedSubSection$s3","_selectedSubSection$s4","_result$data","transferData","result","newTransfer","closeTransferredEmployeesModal","filteredTransferred","ids","handleRecallTransfer","cancelRecall","recallUrl","employees","recalls","results","res","alertContainer","getAlertContainer","document","createElement","appendChild","generateId","now","Math","random","toString","substr","getIcon","icons","success","warning","info","question","container","alertId","alertEl","innerHTML","classList","remove","triggerConfetti","progressBar","querySelector","animationDuration","removeAlert","showConfirmDialog","confirmText","cancelText","showIcon","resolve","dialogId","overlay","addEventListener","closest","action","dataset","removeDialog","alert","getElementById","dialog","i","confetti","animationDelay","getRandomColor","colors","floor"],"sourceRoot":""}