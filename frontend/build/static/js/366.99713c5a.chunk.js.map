{"version":3,"file":"static/js/366.99713c5a.chunk.js","mappings":"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","sources":["components/dashboard/PageHeader.jsx","components/dashboard/MealManagement.jsx"],"sourcesContent":["import React from 'react';\r\nimport './PageHeader.css';\r\nimport logo from '../../assets/logo.jpg';\r\n\r\n/**\r\n * Reusable Page Header Component with Logo\r\n * @param {string} title - The page title\r\n * @param {string} subtitle - The page subtitle/description\r\n * @param {string} icon - Bootstrap icon class (e.g., \"bi-building\")\r\n * @param {React.ReactNode} actions - Optional action buttons\r\n * @param {function} onBack - Optional back navigation function\r\n */\r\nconst PageHeader = ({ title, subtitle, icon = 'bi-folder', actions, onBack }) => {\r\n  return (\r\n    <>\r\n      {onBack && (\r\n        <button \r\n          className=\"back-arrow-btn\"\r\n          onClick={onBack}\r\n          title=\"Back to Dashboard\"\r\n          style={{ marginBottom: '12px', background: 'transparent', color: '#0f172a', border: '1px solid rgba(15,23,42,0.08)', width: 'auto', padding: '8px 12px' }}\r\n        >\r\n          <i className=\"bi bi-arrow-left\"></i>&nbsp;<span style={{ fontWeight: 600 }}>Back</span>\r\n        </button>\r\n      )}\r\n      <div className=\"page-header-banner\">\r\n        <div className=\"page-header-content\">\r\n          <div className=\"page-header-left\">\r\n            <div className=\"page-header-icon\">\r\n              <i className={`bi ${icon}`}></i>\r\n            </div>\r\n            <div className=\"page-header-text\">\r\n              <h1>{title}</h1>\r\n              {subtitle && <p>{subtitle}</p>}\r\n            </div>\r\n          </div>\r\n        <div className=\"page-header-right\">\r\n          {actions && <div className=\"page-header-actions\">{actions}</div>}\r\n          <div className=\"page-header-logo\">\r\n            <img src={logo} alt=\"Company Logo\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Decorative Elements */}\r\n      <div className=\"page-header-decoration\">\r\n        <div className=\"decoration-circle decoration-circle-1\"></div>\r\n        <div className=\"decoration-circle decoration-circle-2\"></div>\r\n        <div className=\"decoration-circle decoration-circle-3\"></div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './MealManagement.css';\r\nimport { useLanguage } from '../../context/LanguageContext';\r\nimport PageHeader from './PageHeader';\r\n\r\nconst MealManagement = ({ onBack }) => {\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [sections, setSections] = useState([]);\r\n  const [allSections, setAllSections] = useState([]);\r\n  const [mealBooking, setMealBooking] = useState({\r\n    divisionId: '',\r\n    sectionId: '',\r\n    mealDate: new Date().toISOString().split('T')[0],\r\n    mealType: '',\r\n    quantity: 1,\r\n    specialRequirements: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState('');\r\n  const [todaysBookings, setTodaysBookings] = useState(0);\r\n  const { t } = useLanguage();\r\n  const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  // Helper to sanitize section display name (removes IDs/codes and counts in parentheses)\r\n  const formatSectionName = (name) => {\r\n    if (!name) return '';\r\n    let cleaned = String(name).replace(/\\s*\\([^)]*\\)/g, '').trim();\r\n    cleaned = cleaned.replace(/\\s*-\\s*$/, '').trim();\r\n    return cleaned;\r\n  };\r\n  const [generatingReport, setGeneratingReport] = useState(false);\r\n  const [showBookingsReport, setShowBookingsReport] = useState(false);\r\n  const [showCountReport, setShowCountReport] = useState(false);\r\n  const [reportData, setReportData] = useState(null);\r\n  const [showPreferenceModal, setShowPreferenceModal] = useState(false);\r\n  const [employeeSearch, setEmployeeSearch] = useState('');\r\n  const [hrisEmployees, setHrisEmployees] = useState([]);\r\n  const [filteredEmployees, setFilteredEmployees] = useState([]);\r\n  const [selectedEmployees, setSelectedEmployees] = useState([]);\r\n  const [mealPreference, setMealPreference] = useState('meal');\r\n  const [modalDivision, setModalDivision] = useState('all');\r\n  const [modalSection, setModalSection] = useState('all');\r\n  const [modalSubSection, setModalSubSection] = useState('all');\r\n  const [modalSections, setModalSections] = useState([]);\r\n  const [modalSubSections, setModalSubSections] = useState([]);\r\n  const [loadingEmployees, setLoadingEmployees] = useState(false);\r\n  const [submittingPreferences, setSubmittingPreferences] = useState(false);\r\n  const [filterDivision, setFilterDivision] = useState('all');\r\n  const [filterSection, setFilterSection] = useState('all');\r\n  const [filterSubSection, setFilterSubSection] = useState('all');\r\n  const [mealPackageEmployees, setMealPackageEmployees] = useState([]);\r\n  const [moneyAllowanceEmployees, setMoneyAllowanceEmployees] = useState([]);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [loadingSearch, setLoadingSearch] = useState(false);\r\n  const [transferring, setTransferring] = useState(false);\r\n  const [showEmployeeList, setShowEmployeeList] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('meal');\r\n\r\n  // Fetch divisions and sections on component mount\r\n  useEffect(() => {\r\n    fetchUserInfo();\r\n    fetchDivisions();\r\n    fetchAllSections();\r\n    fetchTodaysBookingsCount();\r\n    // Ensure employee list is hidden on initial load\r\n    setShowEmployeeList(false);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Auto-fill user's division and section when data is loaded\r\n  useEffect(() => {\r\n    if (userInfo && divisions.length > 0 && allSections.length > 0) {\r\n      const userDivisionId = userInfo.division?._id || userInfo.division || userInfo.divisionId;\r\n      const userSectionId = userInfo.section?._id || userInfo.section || userInfo.sectionId;\r\n      \r\n      if (userDivisionId && !mealBooking.divisionId) {\r\n        setMealBooking(prev => ({\r\n          ...prev,\r\n          divisionId: userDivisionId,\r\n          sectionId: userSectionId || ''\r\n        }));\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userInfo, divisions, allSections]);\r\n\r\n  // Filter sections when division changes (client-side filtering like ReportGeneration)\r\n  useEffect(() => {\r\n    if (!mealBooking.divisionId || mealBooking.divisionId === '') {\r\n      setSections(allSections);\r\n      setMealBooking(prev => ({ ...prev, sectionId: '' }));\r\n    } else {\r\n      // Filter sections by matching divisionId\r\n      const sectionsForDivision = allSections.filter(section => {\r\n        const sectionDivId = String(section.division_id || section.divisionId || section.DIVISION_ID || '');\r\n        const selectedDivId = String(mealBooking.divisionId);\r\n        return sectionDivId === selectedDivId;\r\n      });\r\n      \r\n      console.log(`ðŸ” Filtered ${sectionsForDivision.length} sections for division ${mealBooking.divisionId}`);\r\n      setSections(sectionsForDivision);\r\n      setMealBooking(prev => ({ ...prev, sectionId: '' }));\r\n    }\r\n  }, [mealBooking.divisionId, allSections]);\r\n\r\n  // Sub-section removed - no longer needed\r\n\r\n  // Filter modal sections when division changes\r\n  useEffect(() => {\r\n    if (modalDivision === 'all') {\r\n      setModalSections(allSections);\r\n      setModalSection('all');\r\n      setModalSubSections([]);\r\n      setModalSubSection('all');\r\n    } else {\r\n      const sectionsForDivision = allSections.filter(section => {\r\n        const sectionDivId = String(section.division_id || section.divisionId || section.DIVISION_ID || '');\r\n        const selectedDivId = String(modalDivision);\r\n        return sectionDivId === selectedDivId;\r\n      });\r\n      setModalSections(sectionsForDivision);\r\n      setModalSection('all');\r\n      setModalSubSections([]);\r\n      setModalSubSection('all');\r\n    }\r\n  }, [modalDivision, allSections]);\r\n\r\n  // Modal subsections removed - no longer needed\r\n\r\n  // Filter employees when search or filters change\r\n  useEffect(() => {\r\n    filterHRISEmployees();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [employeeSearch, modalDivision, modalSection, modalSubSection, hrisEmployees]);\r\n\r\n  // Manual loading - removed automatic refresh\r\n\r\n  const fetchUserInfo = async () => {\r\n    // Only fetch if we don't already have user info\r\n    if (userInfo) return;\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`${API_BASE_URL}/auth/verify`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.success && data.user) {\r\n          console.log('ðŸ‘¤ User info loaded:', data.user);\r\n          setUserInfo(data.user);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching user info:', error);\r\n    }\r\n  };\r\n\r\n  // Normalize divisions data (same as ReportGeneration)\r\n  const normalizeDivisions = (data = []) => {\r\n    const out = [];\r\n    const seen = new Set();\r\n    data.forEach((d) => {\r\n      const id = String(d._id ?? d.id ?? d.DIVISION_ID ?? d.code ?? d.hie_code ?? d.DIVISION_CODE ?? '');\r\n      if (!id) return;\r\n      if (seen.has(id)) return;\r\n      seen.add(id);\r\n      out.push({\r\n        _id: id,\r\n        id,\r\n        division_id: id,\r\n        code: String(d.code ?? d.DIVISION_CODE ?? d.hie_code ?? d._id ?? d.id ?? id),\r\n        name: d.name ?? d.DIVISION_NAME ?? d.hie_name ?? d.hie_relationship ?? 'Unknown Division',\r\n        division_name: d.name ?? d.DIVISION_NAME ?? d.hie_name ?? 'Unknown Division',\r\n      });\r\n    });\r\n    return out.sort((a, b) => a.name.localeCompare(b.name));\r\n  };\r\n\r\n  // Normalize sections data (same as ReportGeneration)\r\n  const normalizeSections = (data = []) => {\r\n    const out = [];\r\n    const seen = new Set();\r\n    data.forEach((s) => {\r\n      const id = String(s._id ?? s.id ?? s.SECTION_ID ?? s.code ?? s.hie_code ?? s.SECTION_CODE ?? s.section_code ?? '');\r\n      if (!id) return;\r\n      if (seen.has(id)) return;\r\n      seen.add(id);\r\n      const divisionId = String(s.division_id ?? s.DIVISION_ID ?? s.division_code ?? s.DIVISION_CODE ?? s.hie_relationship ?? '');\r\n      out.push({\r\n        _id: id,\r\n        id,\r\n        section_id: id,\r\n        code: String(s.code ?? s.SECTION_CODE ?? s.hie_code ?? s.section_code ?? id),\r\n        name: s.name ?? s.section_name ?? s.SECTION_NAME ?? s.hie_relationship ?? `Section ${id}`,\r\n        section_name: s.name ?? s.section_name ?? s.SECTION_NAME ?? `Section ${id}`,\r\n        division_id: divisionId || '',\r\n        divisionId: divisionId || '',\r\n        DIVISION_ID: divisionId || '',\r\n      });\r\n    });\r\n    return out.sort((a, b) => a.name.localeCompare(b.name));\r\n  };\r\n\r\n  const fetchDivisions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('ðŸ“¥ Fetching HRIS divisions...');\r\n      \r\n      const response = await fetch(`${API_BASE_URL}/divisions/hris`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        let divisionsArray = [];\r\n        if (Array.isArray(data)) {\r\n          divisionsArray = data;\r\n        } else if (data.data && Array.isArray(data.data)) {\r\n          divisionsArray = data.data;\r\n        }\r\n\r\n        const normalized = normalizeDivisions(divisionsArray);\r\n        console.log(`âœ… Loaded ${normalized.length} HRIS divisions`);\r\n        setDivisions(normalized);\r\n      } else {\r\n        console.error('Failed to fetch divisions:', response.status);\r\n        setDivisions([]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching divisions:', err);\r\n      setMessage(t('errorFetchingDivisions'));\r\n      setMessageType('error');\r\n      setDivisions([]);\r\n    }\r\n  };\r\n\r\n  const fetchAllSections = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('ðŸ“¥ Fetching HRIS sections...');\r\n      \r\n      // Use HRIS sections endpoint (same as ReportGeneration)\r\n      let response = await fetch(`${API_BASE_URL}/sections/hris`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        console.warn('HRIS sections endpoint returned non-OK, falling back to /api/sections', response.status);\r\n        response = await fetch(`${API_BASE_URL}/sections`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n      }\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        let sectionsArray = [];\r\n        if (Array.isArray(data)) {\r\n          sectionsArray = data;\r\n        } else if (data.data && Array.isArray(data.data)) {\r\n          sectionsArray = data.data;\r\n        } else if (data.sections && Array.isArray(data.sections)) {\r\n          sectionsArray = data.sections;\r\n        }\r\n\r\n        const normalized = normalizeSections(sectionsArray);\r\n        console.log(`âœ… Loaded ${normalized.length} HRIS sections`);\r\n        console.log('Sample sections with division_id:', normalized.slice(0, 3).map(s => ({\r\n          section: s.name,\r\n          section_id: s._id,\r\n          division_id: s.division_id\r\n        })));\r\n\r\n        setAllSections(normalized);\r\n        setSections(normalized);\r\n      } else {\r\n        console.error('Failed to fetch sections:', response.status, response.statusText);\r\n        setAllSections([]);\r\n        setSections([]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching sections:', err);\r\n      setMessage(t('errorFetchingSections'));\r\n      setMessageType('error');\r\n      setAllSections([]);\r\n      setSections([]);\r\n    }\r\n  };\r\n\r\n  const fetchTodaysBookingsCount = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n\r\n      const response = await fetch(`${API_BASE_URL}/meals/bookings/today/count`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok && data.success) {\r\n        setTodaysBookings(data.count || 0);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching today\\'s bookings:', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleSearchHRISEmployees = async () => {\r\n    if (!employeeSearch || employeeSearch.trim().length < 2) {\r\n      setMessage('Please enter at least 2 characters to search');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    setLoadingEmployees(true);\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/employee/hris/search?q=${encodeURIComponent(employeeSearch)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setHrisEmployees(data);\r\n        setMessage('');\r\n        if (data.length === 0) {\r\n          setMessage('No employees found');\r\n          setMessageType('info');\r\n        }\r\n      } else {\r\n        setMessage('Failed to search employees');\r\n        setMessageType('danger');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error searching HRIS employees:', error);\r\n      setMessage('Error searching employees');\r\n      setMessageType('danger');\r\n    } finally {\r\n      setLoadingEmployees(false);\r\n    }\r\n  };\r\n\r\n  const filterHRISEmployees = () => {\r\n    let filtered = [...hrisEmployees];\r\n\r\n    if (modalDivision !== 'all') {\r\n      filtered = filtered.filter(emp => {\r\n        const empDivId = String(emp.division_id || emp.divisionId || emp.DIVISION_ID || '');\r\n        return empDivId === String(modalDivision);\r\n      });\r\n    }\r\n\r\n    if (modalSection !== 'all') {\r\n      filtered = filtered.filter(emp => {\r\n        const empSecId = String(emp.section_id || emp.sectionId || emp.SECTION_ID || '');\r\n        return empSecId === String(modalSection);\r\n      });\r\n    }\r\n\r\n    if (modalSubSection !== 'all') {\r\n      filtered = filtered.filter(emp => {\r\n        const empSubSecId = String(emp.subsection_id || emp.subsectionId || emp.SUBSECTION_ID || '');\r\n        return empSubSecId === String(modalSubSection);\r\n      });\r\n    }\r\n\r\n    setFilteredEmployees(filtered);\r\n  };\r\n\r\n  const handleSelectEmployee = (employee) => {\r\n    const empId = employee.employee_id || employee.id || employee.EMPLOYEE_ID;\r\n    const isSelected = selectedEmployees.some(emp => \r\n      (emp.employee_id || emp.id || emp.EMPLOYEE_ID) === empId\r\n    );\r\n\r\n    if (isSelected) {\r\n      setSelectedEmployees(selectedEmployees.filter(emp => \r\n        (emp.employee_id || emp.id || emp.EMPLOYEE_ID) !== empId\r\n      ));\r\n    } else {\r\n      setSelectedEmployees([...selectedEmployees, employee]);\r\n    }\r\n  };\r\n\r\n  const handleSelectAll = (employees = null) => {\r\n    const targetList = employees || filteredEmployees;\r\n    if (selectedEmployees.length === targetList.length && targetList.length > 0) {\r\n      setSelectedEmployees([]);\r\n    } else {\r\n      setSelectedEmployees([...targetList]);\r\n    }\r\n  };\r\n\r\n  const handleSubmitBatchPreferences = async () => {\r\n    if (selectedEmployees.length === 0) {\r\n      setMessage('Please select at least one employee');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    if (!mealPreference) {\r\n      setMessage('Please select meal preference type');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    setSubmittingPreferences(true);\r\n    try {\r\n      let successCount = 0;\r\n      let failCount = 0;\r\n\r\n      for (const employee of selectedEmployees) {\r\n        try {\r\n          const response = await fetch('http://localhost:5000/api/meals/preference', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n            },\r\n            body: JSON.stringify({\r\n              employeeId: employee.employee_id || employee.id || employee.EMPLOYEE_ID,\r\n              employeeName: employee.employee_name || employee.name || employee.EMPLOYEE_NAME,\r\n              email: employee.email || employee.EMAIL || '',\r\n              divisionId: employee.division_id || employee.divisionId || employee.DIVISION_ID,\r\n              divisionName: employee.division_name || employee.divisionName || employee.DIVISION_NAME,\r\n              sectionId: employee.section_id || employee.sectionId || employee.SECTION_ID,\r\n              sectionName: employee.section_name || employee.sectionName || employee.SECTION_NAME,\r\n              subsectionId: employee.subsection_id || employee.subsectionId || employee.SUBSECTION_ID || null,\r\n              subsectionName: employee.subsection_name || employee.subsectionName || employee.SUBSECTION_NAME || null,\r\n              preference: mealPreference,\r\n              allowanceAmount: mealPreference === 'money' ? 500.00 : 0\r\n            })\r\n          });\r\n\r\n          if (response.ok) {\r\n            successCount++;\r\n          } else {\r\n            failCount++;\r\n          }\r\n        } catch (error) {\r\n          console.error('Error assigning preference for employee:', employee, error);\r\n          failCount++;\r\n        }\r\n      }\r\n\r\n      if (successCount > 0) {\r\n        setMessage(`Successfully assigned preferences for ${successCount} employee(s)${failCount > 0 ? `, ${failCount} failed` : ''}`);\r\n        setMessageType(failCount > 0 ? 'warning' : 'success');\r\n        \r\n        setSelectedEmployees([]);\r\n        setHrisEmployees([]);\r\n        setFilteredEmployees([]);\r\n        setEmployeeSearch('');\r\n        setModalDivision('all');\r\n        setModalSection('all');\r\n        setModalSubSection('all');\r\n        setShowPreferenceModal(false);\r\n        \r\n        searchEmployees();\r\n      } else {\r\n        setMessage('Failed to assign preferences');\r\n        setMessageType('danger');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting batch preferences:', error);\r\n      setMessage('Error submitting preferences');\r\n      setMessageType('danger');\r\n    } finally {\r\n      setSubmittingPreferences(false);\r\n    }\r\n  };\r\n\r\n  const searchEmployees = async () => {\r\n    if (filterDivision === 'all' || filterSection === 'all') {\r\n      setMessage('Please select both Division and Section to search');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    setLoadingSearch(true);\r\n    setSearchResults([]);\r\n    setSelectedEmployees([]);\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      // First, get all employees from HRIS for the division\r\n      const divisionObj = divisions.find(d => d.division_id === filterDivision);\r\n      const sectionObj = allSections.find(s => s.section_id === filterSection);\r\n      \r\n      if (!divisionObj || !sectionObj) {\r\n        setMessage('Invalid division or section selected');\r\n        setMessageType('danger');\r\n        setLoadingSearch(false);\r\n        return;\r\n      }\r\n\r\n      console.log('ðŸ” Searching HRIS for division:', divisionObj.code, divisionObj.name, 'section:', sectionObj.code, sectionObj.name);\r\n      \r\n      // Fetch from HRIS - get all employees\r\n      const divisionCode = divisionObj.code || divisionObj.division_id || divisionObj._id;\r\n      const sectionCode = sectionObj.code || sectionObj.section_id || sectionObj._id;\r\n      \r\n      console.log('Using codes - Division:', divisionCode, 'Section:', sectionCode);\r\n      \r\n      const hrisResponse = await fetch(`http://localhost:5000/api/users/hris`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      if (!hrisResponse.ok) {\r\n        setMessage('Failed to fetch HRIS employees');\r\n        setMessageType('danger');\r\n        setLoadingSearch(false);\r\n        return;\r\n      }\r\n      \r\n      const hrisData = await hrisResponse.json();\r\n      let allEmployees = [];\r\n      \r\n      if (Array.isArray(hrisData)) {\r\n        allEmployees = hrisData;\r\n      } else if (hrisData.data && Array.isArray(hrisData.data)) {\r\n        allEmployees = hrisData.data;\r\n      } else if (hrisData.employees && Array.isArray(hrisData.employees)) {\r\n        allEmployees = hrisData.employees;\r\n      }\r\n      \r\n      console.log(`ðŸ“Š Got ${allEmployees.length} total employees from HRIS`);\r\n      \r\n      if (allEmployees.length > 0) {\r\n        console.log('ðŸ“‹ Sample employee structure:', allEmployees[0]);\r\n        console.log('ðŸ”‘ Sample employee keys:', Object.keys(allEmployees[0]));\r\n      }\r\n      \r\n      // Show what we're looking for\r\n      console.log('ðŸŽ¯ Target Division:', filterDivision, divisionCode, divisionObj);\r\n      console.log('ðŸŽ¯ Target Section:', filterSection, sectionCode, sectionObj);\r\n      console.log('ðŸ”‘ Section object full:', sectionObj);\r\n      \r\n      // Get the actual HRIS code from the section object - it might be in 'code' field\r\n      // The section dropdown uses section_id but HRIS uses the actual code\r\n      const targetDivCode = String(divisionObj.code || divisionObj.DIVISION_CODE || divisionCode).trim();\r\n      const targetSecCode = String(sectionObj.code || sectionObj.SECTION_CODE || sectionCode).trim();\r\n      \r\n      console.log('ðŸ“ Using codes for matching - Division:', targetDivCode, 'Section:', targetSecCode);\r\n      \r\n      // Filter by division and section - use exact field names from HRIS\r\n      let matchCount = 0;\r\n      const filteredEmployees = allEmployees.filter(emp => {\r\n        // HRIS uses DIVISION_CODE and SECTION_CODE (uppercase)\r\n        const empDivCode = String(emp.DIVISION_CODE || emp.division_code || '').trim();\r\n        const empSecCode = String(emp.SECTION_CODE || emp.section_code || '').trim();\r\n        \r\n        const divMatch = empDivCode === targetDivCode;\r\n        const secMatch = empSecCode === targetSecCode;\r\n        \r\n        // Log first few to debug\r\n        if (matchCount < 5) {\r\n          console.log(`Employee ${emp.EMP_NUMBER || emp._id}:`, {\r\n            empDiv: empDivCode,\r\n            targetDiv: targetDivCode,\r\n            divMatch,\r\n            empSec: empSecCode,\r\n            targetSec: targetSecCode,\r\n            secMatch,\r\n            result: divMatch && secMatch ? 'âœ… MATCH' : 'âŒ NO MATCH'\r\n          });\r\n        }\r\n        \r\n        if (divMatch && secMatch) {\r\n          matchCount++;\r\n        }\r\n        \r\n        return divMatch && secMatch;\r\n      });\r\n      \r\n      console.log(`âœ… Filtered to ${filteredEmployees.length} employees for division ${divisionCode} and section ${sectionCode}`);\r\n      \r\n      if (filteredEmployees.length > 0) {\r\n        console.log('âœ… Sample filtered employee:', filteredEmployees[0]);\r\n      }\r\n      \r\n      // Map to standard format (no assignment checking - show all employees)\r\n      const employeeList = filteredEmployees.map(emp => ({\r\n        employee_id: emp.EMP_NUMBER || emp.EMPLOYEE_ID || emp.employee_id || emp._id,\r\n        employee_name: emp.FULLNAME || emp.EMPLOYEE_NAME || emp.employee_name || emp.name ||\r\n                      `${emp.CALLING_NAME || emp.FIRST_NAME || ''} ${emp.LAST_NAME || ''}`.trim(),\r\n        division_id: emp.DIVISION_CODE || emp.division_code || emp.DIVISION_ID,\r\n        division_code: emp.DIVISION_CODE || emp.division_code,\r\n        division_name: emp.DIVISION_NAME || emp.division_name || divisionObj.division_name || divisionObj.name,\r\n        section_id: emp.SECTION_CODE || emp.section_code || emp.SECTION_ID,\r\n        section_code: emp.SECTION_CODE || emp.section_code,\r\n        section_name: emp.SECTION_NAME || emp.section_name || sectionObj.section_name || sectionObj.name,\r\n        email: emp.EMAIL || emp.email || ''\r\n      }));\r\n      \r\n      console.log(`ðŸŽ¯ Found ${employeeList.length} employees for division ${divisionCode} and section ${sectionCode}`);\r\n      \r\n      setSearchResults(employeeList);\r\n      setActiveTab('search');\r\n      \r\n      if (employeeList.length === 0) {\r\n        setMessage('No employees found for selected filters');\r\n        setMessageType('info');\r\n      } else {\r\n        setMessage(`Found ${employeeList.length} employee(s)`);\r\n        setMessageType('success');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching employees:', error);\r\n      setMessage('Error loading employees: ' + error.message);\r\n      setMessageType('danger');\r\n    } finally {\r\n      setLoadingSearch(false);\r\n    }\r\n  };\r\n\r\n  const handleTransferToPreference = async (preference) => {\r\n    if (selectedEmployees.length === 0) {\r\n      setMessage('Please select at least one employee');\r\n      setMessageType('warning');\r\n      return;\r\n    }\r\n\r\n    setTransferring(true);\r\n    let successCount = 0;\r\n    let failCount = 0;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      for (const employee of selectedEmployees) {\r\n        try {\r\n          let parsedData = {};\r\n          if (employee.employee_data) {\r\n            try {\r\n              parsedData = typeof employee.employee_data === 'string' \r\n                ? JSON.parse(employee.employee_data) \r\n                : employee.employee_data;\r\n            } catch (e) {\r\n              console.error('Error parsing employee_data:', e);\r\n            }\r\n          }\r\n\r\n          const response = await fetch('http://localhost:5000/api/meals/preference', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': `Bearer ${token}`\r\n            },\r\n            body: JSON.stringify({\r\n              employeeId: employee.employee_id,\r\n              employeeName: employee.employee_name,\r\n              email: parsedData.email || employee.email || '',\r\n              preference: preference,\r\n              divisionId: employee.division_code || employee.division_id,\r\n              divisionName: employee.division_name,\r\n              sectionId: employee.section_code || employee.section_id,\r\n              sectionName: employee.section_name,\r\n              subsectionId: employee.sub_section_id || employee.subsection_id,\r\n              subsectionName: employee.sub_hie_name || employee.subsection_name,\r\n              allowanceAmount: preference === 'money' ? 500.00 : 0\r\n            })\r\n          });\r\n\r\n          if (response.ok) {\r\n            successCount++;\r\n          } else {\r\n            failCount++;\r\n          }\r\n        } catch (error) {\r\n          console.error('Error transferring employee:', employee, error);\r\n          failCount++;\r\n        }\r\n      }\r\n\r\n      if (successCount > 0) {\r\n        setMessage(`âœ… Successfully transferred ${successCount} employee(s) to ${preference === 'meal' ? 'Meal Package' : 'Money Allowance'}${failCount > 0 ? `, ${failCount} failed` : ''}`);\r\n        setMessageType(failCount > 0 ? 'warning' : 'success');\r\n        \r\n        // Refresh search results\r\n        setSelectedEmployees([]);\r\n        await searchEmployees();\r\n      } else {\r\n        setMessage('Failed to transfer employees');\r\n        setMessageType('danger');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in transfer process:', error);\r\n      setMessage('Error transferring employees');\r\n      setMessageType('danger');\r\n    } finally {\r\n      setTransferring(false);\r\n    }\r\n  };\r\n\r\n  const fetchMealPackageEmployees = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      let url = 'http://localhost:5000/api/meals/employees/meal-package?';\r\n      if (filterDivision !== 'all') url += `divisionId=${filterDivision}&`;\r\n      if (filterSection !== 'all') url += `sectionId=${filterSection}&`;\r\n      if (filterSubSection !== 'all') url += `subsectionId=${filterSubSection}&`;\r\n      \r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (response.ok && data.success) {\r\n        setMealPackageEmployees(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching meal package employees:', error);\r\n    }\r\n  };\r\n\r\n  const fetchMoneyAllowanceEmployees = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      let url = 'http://localhost:5000/api/meals/employees/money-allowance?';\r\n      if (filterDivision !== 'all') url += `divisionId=${filterDivision}&`;\r\n      if (filterSection !== 'all') url += `sectionId=${filterSection}&`;\r\n      if (filterSubSection !== 'all') url += `subsectionId=${filterSubSection}&`;\r\n      \r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      if (response.ok && data.success) {\r\n        setMoneyAllowanceEmployees(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching money allowance employees:', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const handleBookingSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      // Get division and section names for better reporting\r\n      const selectedDivision = divisions.find(div => div.division_id === mealBooking.divisionId);\r\n      const selectedSection = sections.find(sec => sec.section_id === mealBooking.sectionId);\r\n      \r\n      const mealData = {\r\n        divisionId: mealBooking.divisionId,\r\n        divisionName: selectedDivision?.name || selectedDivision?.division_name || '',\r\n        sectionId: mealBooking.sectionId,\r\n        sectionName: selectedSection?.name || selectedSection?.section_name || '',\r\n        mealDate: mealBooking.mealDate,\r\n        mealType: mealBooking.mealType,\r\n        quantity: parseInt(mealBooking.quantity),\r\n        specialRequirements: mealBooking.specialRequirements\r\n      };\r\n\r\n      const response = await fetch('http://localhost:5000/api/meals/book', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(mealData)\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.success) {\r\n        setMessage(t('mealBookingCreated'));\r\n        setMessageType('success');\r\n        setMealBooking({\r\n          divisionId: '',\r\n          sectionId: '',\r\n          mealDate: new Date().toISOString().split('T')[0],\r\n          mealType: '',\r\n          quantity: 1,\r\n          specialRequirements: ''\r\n        });\r\n        // Refresh today's bookings count\r\n        fetchTodaysBookingsCount();\r\n        \r\n        // Auto-dismiss success message after 3 seconds\r\n        setTimeout(() => {\r\n          setMessage('');\r\n        }, 3000);\r\n      } else {\r\n        setMessage(result.message || 'Error creating meal booking');\r\n        setMessageType('error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Meal booking error:', error);\r\n      setMessage(t('mealBookingNetworkError'));\r\n      setMessageType('error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleGenerateTodaysBookings = async () => {\r\n    setGeneratingReport(true);\r\n    setShowCountReport(false);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const today = new Date().toISOString().split('T')[0];\r\n      \r\n      // Fetch today's bookings from MySQL database\r\n      const response = await fetch('http://localhost:5000/api/meals/bookings/today', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (response.ok && result.success) {\r\n        const bookings = result.data || [];\r\n        \r\n        if (bookings.length === 0) {\r\n          setMessage('No bookings found for today');\r\n          setMessageType('error');\r\n          setGeneratingReport(false);\r\n          setTimeout(() => setMessage(''), 3000);\r\n          return;\r\n        }\r\n        \r\n        // Fetch division names\r\n        const divResponse = await fetch('http://localhost:5000/api/divisions/hris', {\r\n          headers: { 'Authorization': `Bearer ${token}` }\r\n        });\r\n        const divData = await divResponse.json();\r\n        const divisionsMap = {};\r\n        const divArray = Array.isArray(divData) ? divData : divData.data || [];\r\n        divArray.forEach(div => {\r\n          const id = div._id || div.id || div.DIVISION_ID || div.code;\r\n          divisionsMap[id] = div.name || div.DIVISION_NAME || div.hie_name || 'Unknown';\r\n        });\r\n        \r\n        // Store the data and show the report inline\r\n        setReportData({ bookings, date: today, type: 'bookings', divisionsMap });\r\n        setShowBookingsReport(true);\r\n      } else {\r\n        setMessage(result.message || 'Error generating report');\r\n        setMessageType('error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Generate report error:', error);\r\n      setMessage('Network error occurred while generating report');\r\n      setMessageType('error');\r\n    } finally {\r\n      setGeneratingReport(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateMealCountReport = async () => {\r\n    setGeneratingReport(true);\r\n    setShowBookingsReport(false);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const today = new Date().toISOString().split('T')[0];\r\n      \r\n      // Fetch today's bookings from MySQL database\r\n      const response = await fetch('http://localhost:5000/api/meals/bookings/today', {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (response.ok && result.success) {\r\n        const bookings = result.data || [];\r\n        \r\n        if (bookings.length === 0) {\r\n          setMessage('No bookings found for today');\r\n          setMessageType('error');\r\n          setGeneratingReport(false);\r\n          setTimeout(() => setMessage(''), 3000);\r\n          return;\r\n        }\r\n        \r\n        // Group by meal type and count\r\n        const mealTypeCounts = bookings.reduce((acc, booking) => {\r\n          const mealType = booking.mealType || 'Unknown';\r\n          if (!acc[mealType]) {\r\n            acc[mealType] = { count: 0, quantity: 0 };\r\n          }\r\n          acc[mealType].count += 1;\r\n          acc[mealType].quantity += booking.quantity || 1;\r\n          return acc;\r\n        }, {});\r\n\r\n        // Store the data and show the report inline\r\n        setReportData({ mealTypeCounts, date: today, type: 'count', bookings });\r\n        setShowCountReport(true);\r\n      } else {\r\n        setMessage(result.message || 'Error generating report');\r\n        setMessageType('error');\r\n      }\r\n    } catch (error) {\r\n      console.error('Generate count report error:', error);\r\n      setMessage('Network error occurred while generating report');\r\n      setMessageType('error');\r\n    } finally {\r\n      setGeneratingReport(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"meal-management\">\r\n      {/* Professional Section Header with Logo */}\r\n      <PageHeader\r\n        title={t('mealManagementTitle')}\r\n        subtitle=\"Manage meal bookings and employee preferences\"\r\n        icon=\"bi-cup-hot-fill\"\r\n        onBack={onBack}\r\n      />\r\n\r\n      {message && (\r\n        <div className={`alert alert-${messageType === 'success' ? 'success' : messageType === 'warning' ? 'warning' : 'danger'} alert-dismissible fade show`} \r\n             style={{ \r\n               position: 'sticky', \r\n               top: '10px', \r\n               zIndex: 1050,\r\n               boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\r\n               fontSize: '1.1rem',\r\n               fontWeight: '500'\r\n             }}>\r\n          <i className={`bi bi-${messageType === 'success' ? 'check-circle-fill' : messageType === 'warning' ? 'exclamation-triangle-fill' : 'x-circle-fill'} me-2`}></i>\r\n          <strong>{messageType === 'success' ? 'Success!' : messageType === 'warning' ? 'Warning!' : 'Error!'}</strong> {message}\r\n          <button type=\"button\" className=\"btn-close\" onClick={() => setMessage('')}></button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"meal-container\">\r\n        <div className=\"row justify-content-center\">\r\n          {/* Meal Booking Form */}\r\n          <div className=\"col-lg-6 col-md-8\">\r\n            <div className=\"meal-card\">\r\n              <div className=\"meal-card-header\">\r\n                <h4 className=\"mb-0\">ðŸ“‹ Book New Meal</h4>\r\n              </div>\r\n              <div className=\"card-body p-4\">\r\n                <form onSubmit={handleBookingSubmit}>\r\n                  <div className=\"meal-form-group\">\r\n                    <label className=\"meal-form-label\">Division</label>\r\n                    <select \r\n                      className=\"form-select meal-form-control\"\r\n                      value={mealBooking.divisionId}\r\n                      onChange={(e) => setMealBooking(prev => ({ ...prev, divisionId: e.target.value }))}\r\n                      required\r\n                    >\r\n                      <option value=\"\">{t('selectDivision')}</option>\r\n                      {divisions.map((division) => (\r\n                        <option key={division.division_id} value={division.division_id}>\r\n                          {division.division_name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"meal-form-group\">\r\n                    <label className=\"meal-form-label\">Section</label>\r\n                    <select \r\n                      className=\"form-select meal-form-control\"\r\n                      value={mealBooking.sectionId}\r\n                      onChange={(e) => setMealBooking(prev => ({ ...prev, sectionId: e.target.value }))}\r\n                      required\r\n                    >\r\n                      <option value=\"\">{t('selectSection')}</option>\r\n                      {sections.map((section) => (\r\n                        <option key={section.section_id} value={section.section_id}>\r\n                          {formatSectionName(section.section_name)}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"meal-form-group\">\r\n                    <label className=\"meal-form-label\">Meal Date</label>\r\n                    <input \r\n                      type=\"date\"\r\n                      className=\"form-control meal-form-control\"\r\n                      value={mealBooking.mealDate}\r\n                      onChange={(e) => setMealBooking(prev => ({ ...prev, mealDate: e.target.value }))}\r\n                      min={new Date().toISOString().split('T')[0]}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"meal-form-group\">\r\n                    <label className=\"meal-form-label\">Meal Type</label>\r\n                    <select \r\n                      className=\"form-select meal-form-control\"\r\n                      value={mealBooking.mealType}\r\n                      onChange={(e) => setMealBooking(prev => ({ ...prev, mealType: e.target.value }))}\r\n                      required\r\n                    >\r\n                      <option value=\"\">{t('selectMealType')}</option>\r\n                      <option value=\"breakfast\">{t('mealTypeBreakfast')}</option>\r\n                      <option value=\"lunch\">{t('mealTypeLunch')}</option>\r\n                      <option value=\"dinner\">{t('mealTypeDinner')}</option>\r\n                      <option value=\"snack\">{t('mealTypeSnack')}</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"meal-form-group\">\r\n                    <label className=\"meal-form-label\">Expected Quantity</label>\r\n                    <input \r\n                      type=\"number\"\r\n                      className=\"form-control meal-form-control\"\r\n                      value={mealBooking.quantity}\r\n                      onChange={(e) => setMealBooking(prev => ({ ...prev, quantity: e.target.value }))}\r\n                      min=\"1\"\r\n                      max=\"500\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"meal-form-group\">\r\n                    <label className=\"meal-form-label\">Special Requirements</label>\r\n                    <textarea \r\n                      className=\"form-control meal-form-control\"\r\n                      rows=\"3\"\r\n                      value={mealBooking.specialRequirements}\r\n                      onChange={(e) => setMealBooking(prev => ({ ...prev, specialRequirements: e.target.value }))}\r\n                      placeholder={t('specialRequirementsPlaceholder')}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <button type=\"submit\" className=\"btn meal-btn meal-btn-primary w-100\" disabled={loading}>\r\n                    {loading ? (\r\n                      <>\r\n                        <i className=\"bi bi-arrow-clockwise spin\"></i> {t('bookingInProgress')}\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <i className=\"bi bi-utensils\"></i> Book Meal\r\n                      </>\r\n                    )}\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Stats Panel */}\r\n          <div className=\"col-lg-3 col-md-4\">\r\n            <div className=\"meal-stats-card\">\r\n              <div className=\"meal-stats-number\">\r\n                {todaysBookings}\r\n              </div>\r\n              <div className=\"meal-stats-label\">{t('todaysBookingsLabel')}</div>\r\n            </div>\r\n\r\n            <div className=\"info-card\">\r\n              <div className=\"info-card-header\">\r\n                <h5 className=\"mb-0\">â„¹ï¸ Booking Information</h5>\r\n              </div>\r\n              <div className=\"info-card-body\">\r\n                <ul className=\"info-list\">\r\n                  <li>ðŸ“… {t('bookingInfo_line1')}</li>\r\n                  <li>ðŸ• {t('bookingInfo_line2')}</li>\r\n                  <li>ðŸ½ï¸ {t('bookingInfo_line3')}</li>\r\n                  <li>âš ï¸ {t('bookingInfo_line4')}</li>\r\n                  <li>ðŸ“‹ {t('bookingInfo_line5')}</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Report Generation Buttons */}\r\n            <div className=\"mt-3\">\r\n              <button \r\n                className=\"btn btn-primary w-100 mb-2\" \r\n                onClick={handleGenerateTodaysBookings}\r\n                disabled={generatingReport}\r\n              >\r\n                {generatingReport ? (\r\n                  <>\r\n                    <i className=\"bi bi-arrow-clockwise spin\"></i> Generating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <i className=\"bi bi-file-earmark-text\"></i> Generate Today's Bookings\r\n                  </>\r\n                )}\r\n              </button>\r\n              \r\n              <button \r\n                className=\"btn btn-success w-100 mb-2\" \r\n                onClick={handleGenerateMealCountReport}\r\n                disabled={generatingReport}\r\n              >\r\n                {generatingReport ? (\r\n                  <>\r\n                    <i className=\"bi bi-arrow-clockwise spin\"></i> Generating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <i className=\"bi bi-bar-chart\"></i> Generate Meal Count Report\r\n                  </>\r\n                )}\r\n              </button>\r\n              \r\n              <button \r\n                className=\"btn btn-warning w-100 mb-2\" \r\n                onClick={() => setShowPreferenceModal(true)}\r\n              >\r\n                <i className=\"bi bi-gear\"></i> Set Meal Preference\r\n              </button>\r\n              \r\n              <button \r\n                className=\"btn btn-info w-100\" \r\n                onClick={() => setShowEmployeeList(!showEmployeeList)}\r\n              >\r\n                <i className=\"bi bi-people\"></i> {showEmployeeList ? 'Hide' : 'Show'} Employee Lists\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Employee Lists with Filters */}\r\n        {showEmployeeList && (\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-info text-white\">\r\n                  <h4 className=\"mb-0\"><i className=\"bi bi-people-fill\"></i> Employee Meal Preferences</h4>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  {/* Instructions */}\r\n                  <div className=\"alert alert-info mb-4\">\r\n                    <i className=\"bi bi-info-circle me-2\"></i>\r\n                    <strong>How to use:</strong> Select Division and Section, click Search to find unassigned employees, select employees, then transfer them to Meal Package or Money Allowance.\r\n                  </div>\r\n\r\n                  {/* Filters */}\r\n                  <div className=\"row mb-4\">\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"form-label fw-bold\">Division <span className=\"text-danger\">*</span></label>\r\n                      <select \r\n                        className=\"form-select\"\r\n                        value={filterDivision}\r\n                        onChange={(e) => {\r\n                          console.log('Division selected:', e.target.value);\r\n                          const selectedDiv = divisions.find(d => d.division_id === e.target.value);\r\n                          console.log('Division object:', selectedDiv);\r\n                          const filteredSecs = allSections.filter(s => \r\n                            String(s.division_id || s.divisionId || s.DIVISION_ID || '') === String(e.target.value)\r\n                          );\r\n                          console.log(`Found ${filteredSecs.length} sections for this division`);\r\n                          setFilterDivision(e.target.value);\r\n                          setFilterSection('all');\r\n                          setFilterSubSection('all');\r\n                        }}\r\n                      >\r\n                        <option value=\"all\">All Divisions</option>\r\n                        {divisions.map((division) => (\r\n                          <option key={division.division_id} value={division.division_id}>\r\n                            {division.division_name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <label className=\"form-label fw-bold\">Section <span className=\"text-danger\">*</span></label>\r\n                      <select \r\n                        className=\"form-select\"\r\n                        value={filterSection}\r\n                        onChange={(e) => {\r\n                          console.log('Section selected:', e.target.value);\r\n                          setFilterSection(e.target.value);\r\n                          setFilterSubSection('all');\r\n                        }}\r\n                        disabled={filterDivision === 'all'}\r\n                      >\r\n                        <option value=\"all\">Select Section</option>\r\n                        {allSections\r\n                          .filter(s => {\r\n                            if (filterDivision === 'all') return true;\r\n                            const sectionDivId = String(s.division_id || s.divisionId || s.DIVISION_ID || '');\r\n                            const selectedDivId = String(filterDivision);\r\n                            const matches = sectionDivId === selectedDivId;\r\n                            return matches;\r\n                          })\r\n                          .map((section) => (\r\n                            <option key={section.section_id} value={section.section_id}>\r\n                              {section.section_name}\r\n                            </option>\r\n                          ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Search Button */}\r\n                  <div className=\"row mb-4\">\r\n                    <div className=\"col-12\">\r\n                      <button \r\n                        className=\"btn btn-primary btn-lg w-100\"\r\n                        onClick={searchEmployees}\r\n                        disabled={loadingSearch || filterDivision === 'all' || filterSection === 'all'}\r\n                      >\r\n                        {loadingSearch ? (\r\n                          <>\r\n                            <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                            Searching...\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <i className=\"bi bi-search me-2\"></i>\r\n                            Search Employees\r\n                          </>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Results Tabs */}\r\n                  <ul className=\"nav nav-tabs mb-3\">\r\n                    {searchResults.length > 0 && (\r\n                      <li className=\"nav-item\">\r\n                        <button \r\n                          className={`nav-link ${activeTab === 'search' ? 'active' : ''}`}\r\n                          onClick={() => setActiveTab('search')}\r\n                        >\r\n                          <i className=\"bi bi-people\"></i> Search Results ({searchResults.length})\r\n                        </button>\r\n                      </li>\r\n                    )}\r\n                    <li className=\"nav-item\">\r\n                      <button \r\n                        className={`nav-link ${activeTab === 'meal' ? 'active' : ''}`}\r\n                        onClick={() => {\r\n                          setActiveTab('meal');\r\n                          fetchMealPackageEmployees();\r\n                        }}\r\n                      >\r\n                        <i className=\"bi bi-egg-fried\"></i> Meal Package ({mealPackageEmployees.length})\r\n                      </button>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <button \r\n                        className={`nav-link ${activeTab === 'money' ? 'active' : ''}`}\r\n                        onClick={() => {\r\n                          setActiveTab('money');\r\n                          fetchMoneyAllowanceEmployees();\r\n                        }}\r\n                      >\r\n                        <i className=\"bi bi-cash-coin\"></i> Money Allowance ({moneyAllowanceEmployees.length})\r\n                      </button>\r\n                    </li>\r\n                  </ul>\r\n\r\n                  {/* Employee Tables */}\r\n                  {activeTab === 'search' && (\r\n                    <div>\r\n                      {searchResults.length > 0 && (\r\n                        <>\r\n                          {/* Transfer Buttons */}\r\n                          <div className=\"row mb-3\">\r\n                            <div className=\"col-md-6\">\r\n                              <button \r\n                                className=\"btn btn-primary w-100\"\r\n                                onClick={() => handleTransferToPreference('meal')}\r\n                                disabled={selectedEmployees.length === 0 || transferring}\r\n                              >\r\n                                {transferring ? (\r\n                                  <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                                ) : (\r\n                                  <i className=\"bi bi-egg-fried me-2\"></i>\r\n                                )}\r\n                                Transfer to Meal Package ({selectedEmployees.length})\r\n                              </button>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                              <button \r\n                                className=\"btn btn-success w-100\"\r\n                                onClick={() => handleTransferToPreference('money')}\r\n                                disabled={selectedEmployees.length === 0 || transferring}\r\n                              >\r\n                                {transferring ? (\r\n                                  <span className=\"spinner-border spinner-border-sm me-2\"></span>\r\n                                ) : (\r\n                                  <i className=\"bi bi-cash-coin me-2\"></i>\r\n                                )}\r\n                                Transfer to Money Allowance ({selectedEmployees.length})\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"table-responsive\">\r\n                            <table className=\"table table-striped table-hover\">\r\n                              <thead className=\"table-primary\">\r\n                                <tr>\r\n                                  <th style={{ width: '50px' }}>\r\n                                    <input \r\n                                      type=\"checkbox\"\r\n                                      className=\"form-check-input\"\r\n                                      checked={selectedEmployees.length === searchResults.length && searchResults.length > 0}\r\n                                      onChange={() => handleSelectAll(searchResults)}\r\n                                    />\r\n                                  </th>\r\n                                  <th>#</th>\r\n                                  <th>Employee ID</th>\r\n                                  <th>Employee Name</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {searchResults.map((emp, index) => {\r\n                                  const isSelected = selectedEmployees.some(e => e.employee_id === emp.employee_id);\r\n                                  return (\r\n                                    <tr \r\n                                      key={emp.employee_id}\r\n                                      style={{ cursor: 'pointer' }}\r\n                                      onClick={() => handleSelectEmployee(emp)}\r\n                                      className={isSelected ? 'table-active' : ''}\r\n                                    >\r\n                                      <td onClick={(e) => e.stopPropagation()}>\r\n                                        <input \r\n                                          type=\"checkbox\"\r\n                                          className=\"form-check-input\"\r\n                                          checked={isSelected}\r\n                                          onChange={() => handleSelectEmployee(emp)}\r\n                                        />\r\n                                      </td>\r\n                                      <td>{index + 1}</td>\r\n                                      <td><strong>{emp.employee_id}</strong></td>\r\n                                      <td>{emp.employee_name}</td>\r\n                                    </tr>\r\n                                  );\r\n                                })}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {activeTab === 'meal' && (\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead className=\"table-primary\">\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th>Employee ID</th>\r\n                            <th>Employee Name</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {mealPackageEmployees.length > 0 ? (\r\n                            mealPackageEmployees.map((emp, index) => (\r\n                              <tr key={emp.id}>\r\n                                <td>{index + 1}</td>\r\n                                <td><strong>{emp.employee_id}</strong></td>\r\n                                <td>{emp.employee_name}</td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"3\" className=\"text-center text-muted\">\r\n                                No employees in meal package\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  )}\r\n\r\n                  {activeTab === 'money' && (\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead className=\"table-success\">\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th>Employee ID</th>\r\n                            <th>Employee Name</th>\r\n                            <th>Allowance</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {moneyAllowanceEmployees.length > 0 ? (\r\n                            moneyAllowanceEmployees.map((emp, index) => (\r\n                              <tr key={emp.id}>\r\n                                <td>{index + 1}</td>\r\n                                <td><strong>{emp.employee_id}</strong></td>\r\n                                <td>{emp.employee_name}</td>\r\n                                <td><strong>Rs. {parseFloat(emp.allowance_amount).toFixed(2)}</strong></td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"4\" className=\"text-center text-muted\">\r\n                                No employees with money allowance\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Display Today's Bookings Report */}\r\n        {showBookingsReport && reportData && reportData.type === 'bookings' && (\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-primary text-white d-flex justify-content-between align-items-center\">\r\n                  <h4 className=\"mb-0\">ðŸ“‹ Today's Meal Bookings Report</h4>\r\n                  <button \r\n                    className=\"btn btn-sm btn-light\"\r\n                    onClick={() => setShowBookingsReport(false)}\r\n                  >\r\n                    âœ• Close\r\n                  </button>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"row mb-3\">\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-info mb-0\">\r\n                        <strong>ðŸ“… Date:</strong><br/>\r\n                        {new Date(reportData.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-success mb-0\">\r\n                        <strong>ðŸ“Š Total Bookings:</strong><br/>\r\n                        <h3 className=\"mb-0\">{reportData.bookings.length}</h3>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-warning mb-0\">\r\n                        <strong>ðŸ½ï¸ Total Meals:</strong><br/>\r\n                        <h3 className=\"mb-0\">{reportData.bookings.reduce((sum, b) => sum + (b.quantity || 0), 0)}</h3>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <strong>ðŸ• Generated At:</strong><br/>\r\n                        {new Date().toLocaleTimeString()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-striped table-hover\">\r\n                      <thead className=\"table-primary\">\r\n                        <tr>\r\n                          <th>#</th>\r\n                          <th>Employee ID</th>\r\n                          <th>Employee Name</th>\r\n                          <th>Email</th>\r\n                          <th>Division</th>\r\n                          <th>Meal Type</th>\r\n                          <th>Quantity</th>\r\n                          <th>Status</th>\r\n                          <th>Special Requirements</th>\r\n                          <th>Booked At</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {reportData.bookings.map((booking, index) => (\r\n                          <tr key={booking.id || index}>\r\n                            <td>{index + 1}</td>\r\n                            <td>{booking.employeeId || 'N/A'}</td>\r\n                            <td><strong>{booking.employeeName || 'Unknown'}</strong></td>\r\n                            <td>{booking.email || 'N/A'}</td>\r\n                            <td>{reportData.divisionsMap[booking.divisionId] || booking.divisionId || 'N/A'}</td>\r\n                            <td><span className=\"badge bg-info text-capitalize\">{booking.mealType || 'N/A'}</span></td>\r\n                            <td><strong>{booking.quantity || 1}</strong></td>\r\n                            <td><span className={`badge bg-${booking.status === 'confirmed' ? 'success' : 'warning'}`}>{booking.status || 'pending'}</span></td>\r\n                            <td>{booking.specialRequirements || '-'}</td>\r\n                            <td>{new Date(booking.createdAt).toLocaleString()}</td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Display Meal Count Report */}\r\n        {showCountReport && reportData && reportData.type === 'count' && (\r\n          <div className=\"row mt-4\">\r\n            <div className=\"col-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header bg-success text-white d-flex justify-content-between align-items-center\">\r\n                  <h4 className=\"mb-0\">ðŸ“Š Meal Count Report</h4>\r\n                  <button \r\n                    className=\"btn btn-sm btn-light\"\r\n                    onClick={() => setShowCountReport(false)}\r\n                  >\r\n                    âœ• Close\r\n                  </button>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"row mb-3\">\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-info mb-0\">\r\n                        <strong>ðŸ“… Date:</strong><br/>\r\n                        {new Date(reportData.date).toLocaleDateString()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-success mb-0\">\r\n                        <strong>ðŸ“‹ Total Bookings:</strong><br/>\r\n                        <h3 className=\"mb-0\">{reportData.bookings.length}</h3>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-warning mb-0\">\r\n                        <strong>ðŸ½ï¸ Total Meals:</strong><br/>\r\n                        <h3 className=\"mb-0\">{Object.values(reportData.mealTypeCounts).reduce((sum, item) => sum + item.quantity, 0)}</h3>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3 col-sm-6 mb-2\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <strong>ðŸ• Generated At:</strong><br/>\r\n                        {new Date().toLocaleTimeString()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-striped table-hover\">\r\n                      <thead className=\"table-success\">\r\n                        <tr>\r\n                          <th>Meal Type</th>\r\n                          <th>Number of Bookings</th>\r\n                          <th>Total Quantity</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {Object.entries(reportData.mealTypeCounts).map(([mealType, data]) => (\r\n                          <tr key={mealType}>\r\n                            <td className=\"text-capitalize\"><strong>ðŸ½ï¸ {mealType}</strong></td>\r\n                            <td><h5 className=\"text-success mb-0\">{data.count}</h5></td>\r\n                            <td><h5 className=\"text-success mb-0\">{data.quantity}</h5></td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"table-success fw-bold\">\r\n                          <td><strong>ðŸ“Š TOTAL</strong></td>\r\n                          <td><strong>{Object.values(reportData.mealTypeCounts).reduce((sum, item) => sum + item.count, 0)}</strong></td>\r\n                          <td><strong>{Object.values(reportData.mealTypeCounts).reduce((sum, item) => sum + item.quantity, 0)}</strong></td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Meal Preference Modal */}\r\n        {showPreferenceModal && (\r\n          <div className=\"modal show d-block\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n            <div className=\"modal-dialog modal-xl\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header bg-warning\">\r\n                  <h5 className=\"modal-title\">\r\n                    <i className=\"bi bi-gear\"></i> Set Employee Meal Preference\r\n                  </h5>\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn-close\" \r\n                    onClick={() => {\r\n                      setShowPreferenceModal(false);\r\n                      setEmployeeSearch('');\r\n                      setHrisEmployees([]);\r\n                      setFilteredEmployees([]);\r\n                      setSelectedEmployees([]);\r\n                      setModalDivision('all');\r\n                      setModalSection('all');\r\n                      setModalSubSection('all');\r\n                      setMealPreference('');\r\n                    }}\r\n                  ></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  <div className=\"alert alert-info\">\r\n                    <i className=\"bi bi-info-circle\"></i> Search employees by ID or name from HRIS, then filter and select multiple employees to assign meal preferences\r\n                  </div>\r\n\r\n                  {/* Employee Search */}\r\n                  <div className=\"row mb-3\">\r\n                    <div className=\"col-md-12\">\r\n                      <label className=\"form-label fw-bold\">Search Employee (ID or Name)</label>\r\n                      <div className=\"input-group\">\r\n                        <input \r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"Enter employee ID or name (min 2 characters)...\"\r\n                          value={employeeSearch}\r\n                          onChange={(e) => setEmployeeSearch(e.target.value)}\r\n                          onKeyPress={(e) => e.key === 'Enter' && handleSearchHRISEmployees()}\r\n                        />\r\n                        <button \r\n                          className=\"btn btn-primary\" \r\n                          onClick={handleSearchHRISEmployees}\r\n                          disabled={loadingEmployees}\r\n                        >\r\n                          {loadingEmployees ? (\r\n                            <><span className=\"spinner-border spinner-border-sm me-2\"></span>Searching...</>\r\n                          ) : (\r\n                            <><i className=\"bi bi-search\"></i> Search HRIS</>\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Show initial instruction if no search performed */}\r\n                  {hrisEmployees.length === 0 && !loadingEmployees && (\r\n                    <div className=\"alert alert-light border text-center py-4\">\r\n                      <i className=\"bi bi-search fs-1 text-muted d-block mb-3\"></i>\r\n                      <h5 className=\"text-muted\">Search for employees to get started</h5>\r\n                      <p className=\"text-muted mb-0\">Enter an employee ID or name above and click \"Search HRIS\"</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Filters */}\r\n                  {hrisEmployees.length > 0 && (\r\n                    <div className=\"row mb-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <label className=\"form-label fw-bold\">Filter by Division</label>\r\n                        <select \r\n                          className=\"form-select\"\r\n                          value={modalDivision}\r\n                          onChange={(e) => setModalDivision(e.target.value)}\r\n                        >\r\n                          <option value=\"all\">All Divisions</option>\r\n                          {divisions.map((division) => (\r\n                            <option key={division.division_id} value={division.division_id}>\r\n                              {division.division_name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <label className=\"form-label fw-bold\">Filter by Section</label>\r\n                        <select \r\n                          className=\"form-select\"\r\n                          value={modalSection}\r\n                          onChange={(e) => setModalSection(e.target.value)}\r\n                          disabled={modalDivision === 'all'}\r\n                        >\r\n                          <option value=\"all\">All Sections</option>\r\n                          {modalSections.map((section) => (\r\n                            <option key={section.section_id} value={section.section_id}>\r\n                              {section.section_name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <label className=\"form-label fw-bold\">Filter by Sub-Section</label>\r\n                        <select \r\n                          className=\"form-select\"\r\n                          value={modalSubSection}\r\n                          onChange={(e) => setModalSubSection(e.target.value)}\r\n                          disabled={modalSection === 'all'}\r\n                        >\r\n                          <option value=\"all\">All Sub-Sections</option>\r\n                          {modalSubSections.map((subsection) => (\r\n                            <option key={subsection.id} value={subsection.id}>\r\n                              {subsection.sub_name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Employee Results Table */}\r\n                  {filteredEmployees.length > 0 && (\r\n                    <>\r\n                      <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                        <label className=\"form-label fw-bold mb-0\">\r\n                          Select Employees ({selectedEmployees.length} of {filteredEmployees.length} selected)\r\n                        </label>\r\n                        <button \r\n                          className=\"btn btn-sm btn-outline-primary\"\r\n                          onClick={handleSelectAll}\r\n                        >\r\n                          {selectedEmployees.length === filteredEmployees.length && filteredEmployees.length > 0 \r\n                            ? <><i className=\"bi bi-square\"></i> Deselect All</>\r\n                            : <><i className=\"bi bi-check-square\"></i> Select All</>\r\n                          }\r\n                        </button>\r\n                      </div>\r\n                      <div className=\"table-responsive\" style={{ maxHeight: '300px', overflowY: 'auto' }}>\r\n                        <table className=\"table table-hover table-sm\">\r\n                          <thead className=\"table-light sticky-top\">\r\n                            <tr>\r\n                              <th style={{ width: '50px' }}>\r\n                                <input \r\n                                  type=\"checkbox\"\r\n                                  className=\"form-check-input\"\r\n                                  checked={selectedEmployees.length === filteredEmployees.length && filteredEmployees.length > 0}\r\n                                  onChange={handleSelectAll}\r\n                                />\r\n                              </th>\r\n                              <th>ID</th>\r\n                              <th>Name</th>\r\n                              <th>Division</th>\r\n                              <th>Section</th>\r\n                              <th>Sub-Section</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {filteredEmployees.map((emp) => {\r\n                              const empId = emp.employee_id || emp.id || emp.EMPLOYEE_ID;\r\n                              const isSelected = selectedEmployees.some(e => \r\n                                (e.employee_id || e.id || e.EMPLOYEE_ID) === empId\r\n                              );\r\n                              return (\r\n                                <tr \r\n                                  key={empId}\r\n                                  style={{ cursor: 'pointer' }}\r\n                                  onClick={() => handleSelectEmployee(emp)}\r\n                                  className={isSelected ? 'table-active' : ''}\r\n                                >\r\n                                  <td>\r\n                                    <input \r\n                                      type=\"checkbox\"\r\n                                      className=\"form-check-input\"\r\n                                      checked={isSelected}\r\n                                      onChange={() => handleSelectEmployee(emp)}\r\n                                    />\r\n                                  </td>\r\n                                  <td><strong>{empId}</strong></td>\r\n                                  <td>{emp.employee_name || emp.name || emp.EMPLOYEE_NAME}</td>\r\n                                  <td>{emp.division_name || emp.divisionName || emp.DIVISION_NAME || 'N/A'}</td>\r\n                                  <td>{emp.section_name || emp.sectionName || emp.SECTION_NAME || 'N/A'}</td>\r\n                                  <td>{emp.subsection_name || emp.subsectionName || emp.SUBSECTION_NAME || 'N/A'}</td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  {/* No Results Message */}\r\n                  {hrisEmployees.length > 0 && filteredEmployees.length === 0 && (\r\n                    <div className=\"alert alert-warning\">\r\n                      <i className=\"bi bi-exclamation-triangle\"></i> No employees match the selected filters\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Preference Selection */}\r\n                  {selectedEmployees.length > 0 && (\r\n                    <div className=\"mt-4\">\r\n                      <label className=\"form-label fw-bold\">Select Meal Preference for {selectedEmployees.length} Employee(s)</label>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-6\">\r\n                          <div \r\n                            className={`card ${mealPreference === 'meal' ? 'border-primary border-3' : ''}`}\r\n                            style={{ cursor: 'pointer' }}\r\n                            onClick={() => setMealPreference('meal')}\r\n                          >\r\n                            <div className=\"card-body text-center\">\r\n                              <i className=\"bi bi-egg-fried fs-1 text-primary\"></i>\r\n                              <h5 className=\"mt-2\">Physical Meal Package</h5>\r\n                              <p className=\"text-muted small\">Employees receive actual meals from cafeteria</p>\r\n                              {mealPreference === 'meal' && (\r\n                                <i className=\"bi bi-check-circle-fill text-primary fs-4\"></i>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div \r\n                            className={`card ${mealPreference === 'money' ? 'border-success border-3' : ''}`}\r\n                            style={{ cursor: 'pointer' }}\r\n                            onClick={() => setMealPreference('money')}\r\n                          >\r\n                            <div className=\"card-body text-center\">\r\n                              <i className=\"bi bi-cash-coin fs-1 text-success\"></i>\r\n                              <h5 className=\"mt-2\">Money Allowance</h5>\r\n                              <p className=\"text-muted small\">Employees receive money instead of meals</p>\r\n                              {mealPreference === 'money' && (\r\n                                <i className=\"bi bi-check-circle-fill text-success fs-4\"></i>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-secondary\" \r\n                    onClick={() => {\r\n                      setShowPreferenceModal(false);\r\n                      setEmployeeSearch('');\r\n                      setHrisEmployees([]);\r\n                      setFilteredEmployees([]);\r\n                      setSelectedEmployees([]);\r\n                      setModalDivision('all');\r\n                      setModalSection('all');\r\n                      setModalSubSection('all');\r\n                      setMealPreference('');\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-primary\" \r\n                    onClick={handleSubmitBatchPreferences}\r\n                    disabled={selectedEmployees.length === 0 || !mealPreference || submittingPreferences}\r\n                  >\r\n                    {submittingPreferences ? (\r\n                      <><span className=\"spinner-border spinner-border-sm me-2\"></span>Saving...</>\r\n                    ) : (\r\n                      <><i className=\"bi bi-check-circle\"></i> Save Preferences ({selectedEmployees.length} employees)</>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealManagement;\r\n"],"names":["_ref","title","subtitle","icon","actions","onBack","_jsxs","_Fragment","children","className","onClick","style","marginBottom","background","color","border","width","padding","_jsx","fontWeight","src","logo","alt","divisions","setDivisions","useState","sections","setSections","allSections","setAllSections","mealBooking","setMealBooking","divisionId","sectionId","mealDate","Date","toISOString","split","mealType","quantity","specialRequirements","loading","setLoading","message","setMessage","messageType","setMessageType","todaysBookings","setTodaysBookings","t","useLanguage","API_BASE_URL","process","userInfo","setUserInfo","formatSectionName","name","cleaned","String","replace","trim","generatingReport","setGeneratingReport","showBookingsReport","setShowBookingsReport","showCountReport","setShowCountReport","reportData","setReportData","showPreferenceModal","setShowPreferenceModal","employeeSearch","setEmployeeSearch","hrisEmployees","setHrisEmployees","filteredEmployees","setFilteredEmployees","selectedEmployees","setSelectedEmployees","mealPreference","setMealPreference","modalDivision","setModalDivision","modalSection","setModalSection","modalSubSection","setModalSubSection","modalSections","setModalSections","modalSubSections","setModalSubSections","loadingEmployees","setLoadingEmployees","submittingPreferences","setSubmittingPreferences","filterDivision","setFilterDivision","filterSection","setFilterSection","filterSubSection","setFilterSubSection","mealPackageEmployees","setMealPackageEmployees","moneyAllowanceEmployees","setMoneyAllowanceEmployees","searchResults","setSearchResults","loadingSearch","setLoadingSearch","transferring","setTransferring","showEmployeeList","setShowEmployeeList","activeTab","setActiveTab","useEffect","fetchUserInfo","fetchDivisions","fetchAllSections","fetchTodaysBookingsCount","length","_userInfo$division","_userInfo$section","userDivisionId","division","_id","userSectionId","section","prev","sectionsForDivision","filter","division_id","DIVISION_ID","console","log","filterHRISEmployees","async","token","localStorage","getItem","response","fetch","headers","ok","data","json","success","user","error","divisionsArray","Array","isArray","normalized","arguments","undefined","out","seen","Set","forEach","d","_ref2","_ref3","_ref4","_ref5","_ref6","_d$_id","_ref7","_ref8","_ref9","_ref0","_d$code","_ref1","_ref10","_ref11","_d$name","_ref12","_ref13","_d$name2","id","code","hie_code","DIVISION_CODE","has","add","push","DIVISION_NAME","hie_name","hie_relationship","division_name","sort","a","b","localeCompare","normalizeDivisions","status","err","warn","sectionsArray","s","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_s$_id","_ref20","_ref21","_ref22","_ref23","_s$division_id","_ref24","_ref25","_ref26","_s$code","_ref27","_ref28","_ref29","_s$name","_ref30","_ref31","_s$name2","SECTION_ID","SECTION_CODE","section_code","division_code","section_id","section_name","SECTION_NAME","normalizeSections","slice","map","statusText","count","handleSearchHRISEmployees","encodeURIComponent","filtered","emp","subsection_id","subsectionId","SUBSECTION_ID","handleSelectEmployee","employee","empId","employee_id","EMPLOYEE_ID","isSelected","some","handleSelectAll","targetList","searchEmployees","divisionObj","find","sectionObj","divisionCode","sectionCode","hrisResponse","hrisData","allEmployees","employees","Object","keys","targetDivCode","targetSecCode","matchCount","empDivCode","empSecCode","divMatch","secMatch","EMP_NUMBER","empDiv","targetDiv","empSec","targetSec","result","employeeList","employee_name","FULLNAME","EMPLOYEE_NAME","CALLING_NAME","FIRST_NAME","LAST_NAME","email","EMAIL","handleTransferToPreference","successCount","failCount","parsedData","employee_data","JSON","parse","e","method","body","stringify","employeeId","employeeName","preference","divisionName","sectionName","sub_section_id","subsectionName","sub_hie_name","subsection_name","allowanceAmount","PageHeader","position","top","zIndex","boxShadow","fontSize","type","onSubmit","preventDefault","selectedDivision","div","selectedSection","sec","mealData","parseInt","setTimeout","value","onChange","target","required","min","max","rows","placeholder","disabled","today","bookings","divResponse","divData","divisionsMap","date","mealTypeCounts","reduce","acc","booking","selectedDiv","filteredSecs","url","fetchMealPackageEmployees","fetchMoneyAllowanceEmployees","checked","index","cursor","stopPropagation","colSpan","parseFloat","allowance_amount","toFixed","toLocaleDateString","weekday","year","month","day","sum","toLocaleTimeString","createdAt","toLocaleString","values","item","entries","_ref32","backgroundColor","onKeyPress","key","subsection","sub_name","maxHeight","overflowY","SUBSECTION_NAME"],"sourceRoot":""}