{"version":3,"file":"static/js/166.628c7ab7.chunk.js","mappings":"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","sources":["components/dashboard/PageHeader.jsx","components/dashboard/RoleManagement.jsx"],"sourcesContent":["import React from 'react';\r\nimport './PageHeader.css';\r\nimport logo from '../../assets/logo.jpg';\r\n\r\n/**\r\n * Reusable Page Header Component with Logo\r\n * @param {string} title - The page title\r\n * @param {string} subtitle - The page subtitle/description\r\n * @param {string} icon - Bootstrap icon class (e.g., \"bi-building\")\r\n * @param {React.ReactNode} actions - Optional action buttons\r\n * @param {function} onBack - Optional back navigation function\r\n */\r\nconst PageHeader = ({ title, subtitle, icon = 'bi-folder', actions, onBack }) => {\r\n  return (\r\n    <>\r\n      {onBack && (\r\n        <button \r\n          className=\"back-arrow-btn\"\r\n          onClick={onBack}\r\n          title=\"Back to Dashboard\"\r\n          style={{ marginBottom: '12px', background: 'transparent', color: '#0f172a', border: '1px solid rgba(15,23,42,0.08)', width: 'auto', padding: '8px 12px' }}\r\n        >\r\n          <i className=\"bi bi-arrow-left\"></i>&nbsp;<span style={{ fontWeight: 600 }}>Back</span>\r\n        </button>\r\n      )}\r\n      <div className=\"page-header-banner\">\r\n        <div className=\"page-header-content\">\r\n          <div className=\"page-header-left\">\r\n            <div className=\"page-header-icon\">\r\n              <i className={`bi ${icon}`}></i>\r\n            </div>\r\n            <div className=\"page-header-text\">\r\n              <h1>{title}</h1>\r\n              {subtitle && <p>{subtitle}</p>}\r\n            </div>\r\n          </div>\r\n        <div className=\"page-header-right\">\r\n          {actions && <div className=\"page-header-actions\">{actions}</div>}\r\n          <div className=\"page-header-logo\">\r\n            <img src={logo} alt=\"Company Logo\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {/* Decorative Elements */}\r\n      <div className=\"page-header-decoration\">\r\n        <div className=\"decoration-circle decoration-circle-1\"></div>\r\n        <div className=\"decoration-circle decoration-circle-2\"></div>\r\n        <div className=\"decoration-circle decoration-circle-3\"></div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport './RoleAccessManagement.css';\r\nimport PageHeader from './PageHeader';\r\n\r\nconst RoleManagement = ({ onBack }) => {\r\n  const { user, hasPermission } = useContext(AuthContext);\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddRoleModal, setShowAddRoleModal] = useState(false);\r\n  const [showEditRoleModal, setShowEditRoleModal] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [newRoleName, setNewRoleName] = useState('');\r\n  const [editingRole, setEditingRole] = useState(null);\r\n  const [roleToDelete, setRoleToDelete] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState('');\r\n  const [toastVisible, setToastVisible] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const isSuperAdmin = user?.role === 'super_admin';\r\n\r\n  // Role-based permission checks using AuthContext helper\r\n  const hasRoleManageReadPermission = () => isSuperAdmin || hasPermission('view_roles') || hasPermission('roles.read');\r\n  const hasRoleManageCreatePermission = () => isSuperAdmin || hasPermission('create_role') || hasPermission('roles.create');\r\n  const hasRoleManageUpdatePermission = () => isSuperAdmin || hasPermission('update_role') || hasPermission('roles.update') || hasPermission('permission_management.manage_permission');\r\n  const hasRoleManageDeletePermission = () => isSuperAdmin || hasPermission('delete_role') || hasPermission('roles.delete');\r\n\r\n  // Show success modal with message\r\n  const showSuccessPopup = (message) => {\r\n    setSuccessMessage(message);\r\n    setShowSuccessModal(true);\r\n    // Auto close after 3 seconds\r\n    setTimeout(() => {\r\n      setShowSuccessModal(false);\r\n      setSuccessMessage('');\r\n    }, 3000);\r\n  };\r\n\r\n  // Fetch roles from backend\r\n  const fetchRoles = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/roles', {\r\n        headers: {\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Fetched roles:', data.data);\r\n        setRoles(data.data || []);\r\n      } else {\r\n        console.error('Failed to fetch roles, status:', response.status);\r\n        setMessage('Failed to fetch roles');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching roles:', error);\r\n      setMessage('Error fetching roles');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRoles();\r\n  }, []);\r\n\r\n  // Handle Add Role form submission\r\n  const handleAddRoleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    const roleValue = roleLabel.toLowerCase().replace(/\\s+/g, '_');\r\n    if (!roleValue) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch('http://localhost:5000/api/roles', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        },\r\n        body: JSON.stringify({ value: roleValue, label: roleLabel })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const result = await res.json();\r\n        const role = result.data;\r\n        \r\n        // Add the new role to the roles state\r\n        setRoles(prev => [...prev, role]);\r\n        \r\n        // Clear form and close modal\r\n        setNewRoleName('');\r\n        setShowAddRoleModal(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${role.label}\" has been successfully created!`);\r\n        \r\n        // Also show the regular toast\r\n        setMessage(`Role \"${role.label}\" created successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleAdded', { detail: { value: role.value, label: role.label } }));\r\n      } else {\r\n        const error = await res.json().catch(() => ({}));\r\n        setMessage(error.message || 'Failed to create role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error creating role:', err);\r\n      setMessage('Network error while creating role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Handle Edit Role form submission\r\n  const handleEditRoleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    if (!roleLabel || !editingRole) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(`http://localhost:5000/api/roles/${editingRole._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        },\r\n        body: JSON.stringify({ label: roleLabel })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const result = await res.json();\r\n        const updatedRole = result.data;\r\n        \r\n        // Update the role in the roles state\r\n        setRoles(prev => prev.map(role => \r\n          role._id === editingRole._id ? updatedRole : role\r\n        ));\r\n        \r\n        // Clear form and close modal\r\n        setNewRoleName('');\r\n        setEditingRole(null);\r\n        setShowEditRoleModal(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${updatedRole.label}\" has been successfully updated!`);\r\n        \r\n        // Also show the regular toast\r\n        setMessage(`Role updated successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleUpdated', { detail: { value: updatedRole.value, label: updatedRole.label } }));\r\n      } else {\r\n        const error = await res.json().catch(() => ({}));\r\n        setMessage(error.message || 'Failed to update role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating role:', err);\r\n      setMessage('Network error while updating role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Handle Delete Role\r\n  const handleDeleteRole = async () => {\r\n    console.log('handleDeleteRole called with roleToDelete:', roleToDelete);\r\n    \r\n    if (!roleToDelete) {\r\n      console.error('No role to delete');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Token exists:', !!token);\r\n      console.log('Attempting to delete role:', roleToDelete._id, roleToDelete.label);\r\n      \r\n      const res = await fetch(`http://localhost:5000/api/roles/${roleToDelete._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        }\r\n      });\r\n\r\n      console.log('Delete response status:', res.status, res.statusText);\r\n\r\n      if (res.ok) {\r\n        const responseData = await res.json();\r\n        console.log('Delete successful:', responseData);\r\n        \r\n        // Remove the role from the roles state\r\n        setRoles(prev => {\r\n          const filteredRoles = prev.filter(role => role._id !== roleToDelete._id);\r\n          console.log('Updated roles list:', filteredRoles);\r\n          return filteredRoles;\r\n        });\r\n        \r\n        // Clear state and close modal\r\n        setRoleToDelete(null);\r\n        setShowDeleteConfirm(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${roleToDelete.label}\" has been successfully deleted from the system!`);\r\n        \r\n        // Also show the regular toast for backup\r\n        setMessage(`Role \"${roleToDelete.label}\" deleted successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleDeleted', { detail: { value: roleToDelete.value, label: roleToDelete.label } }));\r\n      } else {\r\n        const errorText = await res.text();\r\n        console.error('Delete failed with response:', errorText);\r\n        \r\n        let error;\r\n        try {\r\n          error = JSON.parse(errorText);\r\n        } catch (e) {\r\n          error = { message: errorText || 'Failed to delete role' };\r\n        }\r\n        \r\n        setMessage(error.message || 'Failed to delete role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        setShowDeleteConfirm(false);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting role:', err);\r\n      setMessage('Network error while deleting role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n      setShowDeleteConfirm(false);\r\n    }\r\n  };\r\n\r\n  // Open edit modal\r\n  const openEditModal = (role) => {\r\n    setEditingRole(role);\r\n    setNewRoleName(role.label);\r\n    setShowEditRoleModal(true);\r\n  };\r\n\r\n  // Open delete confirmation\r\n  const openDeleteConfirm = (role) => {\r\n    console.log('Opening delete confirmation for role:', role);\r\n    setRoleToDelete(role);\r\n    setShowDeleteConfirm(true);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"role-access-wrapper\">\r\n        <div className=\"loading-overlay\">\r\n          <div className=\"loading-spinner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"role-access-wrapper\">\r\n      {/* Background shapes */}\r\n      <div className=\"geometric-background\">\r\n        <div className=\"geometric-shape shape-1\"></div>\r\n        <div className=\"geometric-shape shape-2\"></div>\r\n        <div className=\"geometric-shape shape-3\"></div>\r\n        <div className=\"geometric-shape shape-4\"></div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid px-4\">\r\n        {/* Professional Section Header with Logo */}\r\n        <PageHeader\r\n          title=\"Role Management\"\r\n          subtitle=\"Define and manage user roles and access levels\"\r\n          icon=\"bi-shield-lock\"\r\n          onBack={onBack}\r\n          actions={\r\n            hasRoleManageReadPermission() ? (\r\n              <button\r\n                className={`btn-professional ${hasRoleManageCreatePermission() ? 'btn-primary' : 'btn-secondary'}`}\r\n                onClick={() => {\r\n                  if (hasRoleManageCreatePermission()) {\r\n                    setShowAddRoleModal(true);\r\n                  } else {\r\n                    setMessage('You do not have permission to create roles. Contact a Super Admin for \"roles.create\" access.');\r\n                    setMessageType('error');\r\n                    setToastVisible(true);\r\n                    setTimeout(() => setToastVisible(false), 4000);\r\n                  }\r\n                }}\r\n                title={hasRoleManageCreatePermission() ? \"Add New Role\" : \"You need 'roles.create' permission to add roles\"}\r\n                style={{ \r\n                  padding: '10px 16px', \r\n                  fontSize: '14px',\r\n                  cursor: hasRoleManageCreatePermission() ? 'pointer' : 'not-allowed',\r\n                  opacity: hasRoleManageCreatePermission() ? 1 : 0.6\r\n                }}\r\n              >\r\n                <i className={`bi ${hasRoleManageCreatePermission() ? 'bi-plus-circle' : 'bi-lock'}`}></i> \r\n                Add Role\r\n                {!hasRoleManageCreatePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '12px'}}></i>}\r\n              </button>\r\n            ) : null\r\n          }\r\n        />\r\n\r\n        <div className=\"main-card\" style={{ marginTop: '20px' }}>\r\n          \r\n          <div className=\"card-body-custom\">\r\n            {/* Toast popup */}\r\n            {toastVisible && message && (\r\n              <div className={`toast-popup ${messageType === 'success' ? 'toast-success' : 'toast-error'}`}>\r\n                <i className={`bi ${messageType === 'success' ? 'bi-check-circle' : 'bi-exclamation-circle'} mr-2`}></i>\r\n                {message}\r\n              </div>\r\n            )}\r\n\r\n            {/* Access Control Messages */}\r\n            {!hasRoleManageReadPermission() && (\r\n                <div className=\"alert alert-warning\">\r\n                <i className=\"bi bi-lock-fill mr-2\"></i>\r\n                You do not have permission to view role management. Contact a Super Admin for \"roles.read\" access.\r\n              </div>\r\n            )}            {hasRoleManageReadPermission() && !hasRoleManageCreatePermission() && !hasRoleManageUpdatePermission() && !hasRoleManageDeletePermission() && (\r\n              <div className=\"alert alert-info\">\r\n                <i className=\"bi bi-eye mr-2\"></i>\r\n                You have read-only access to role management. Contact a Super Admin for additional permissions.\r\n              </div>\r\n            )}\r\n\r\n            {/* Show content only if user has read access */}\r\n            {hasRoleManageReadPermission() && (\r\n              <>\r\n                {/* Roles Table */}\r\n            <div className=\"professional-card\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"professional-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Role Name</th>\r\n                      <th>Role Value</th>\r\n                      <th>Created Date</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {roles.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\" className=\"text-center\">\r\n                          No roles found\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      roles.map(role => (\r\n                        <tr key={role._id}>\r\n                          <td><strong>{role.label}</strong></td>\r\n                          <td><code>{role.value}</code></td>\r\n                          <td>{new Date(role.createdAt || Date.now()).toLocaleDateString()}</td>\r\n                          <td>\r\n                            {hasRoleManageReadPermission() ? (\r\n                              <div style={{ display: 'flex', gap: '8px' }}>\r\n                                <button\r\n                                  className={`btn-professional ${hasRoleManageUpdatePermission() ? 'btn-secondary' : 'btn-secondary'}`}\r\n                                  onClick={() => {\r\n                                    if (hasRoleManageUpdatePermission()) {\r\n                                      openEditModal(role);\r\n                                    } else {\r\n                                      setMessage('You do not have permission to edit roles. Contact a Super Admin for \"roles.update\" access.');\r\n                                      setMessageType('error');\r\n                                      setToastVisible(true);\r\n                                      setTimeout(() => setToastVisible(false), 4000);\r\n                                    }\r\n                                  }}\r\n                                  title={hasRoleManageUpdatePermission() ? \"Edit Role\" : \"You need 'roles.update' permission to edit roles\"}\r\n                                  style={{ \r\n                                    padding: '6px 10px', \r\n                                    fontSize: '12px',\r\n                                    cursor: hasRoleManageUpdatePermission() ? 'pointer' : 'not-allowed',\r\n                                    opacity: hasRoleManageUpdatePermission() ? 1 : 0.6\r\n                                  }}\r\n                                >\r\n                                  <i className={`bi ${hasRoleManageUpdatePermission() ? 'bi-pencil' : 'bi-lock'}`}></i> \r\n                                  Edit\r\n                                  {!hasRoleManageUpdatePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '10px'}}></i>}\r\n                                </button>\r\n                                <button\r\n                                  className={`btn-professional ${hasRoleManageDeletePermission() ? 'btn-danger' : 'btn-secondary'}`}\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    e.stopPropagation();\r\n                                    if (hasRoleManageDeletePermission()) {\r\n                                      console.log('Delete button clicked for role:', role);\r\n                                      openDeleteConfirm(role);\r\n                                    } else {\r\n                                      setMessage('You do not have permission to delete roles. Contact a Super Admin for \"roles.delete\" access.');\r\n                                      setMessageType('error');\r\n                                      setToastVisible(true);\r\n                                      setTimeout(() => setToastVisible(false), 4000);\r\n                                    }\r\n                                  }}\r\n                                  title={hasRoleManageDeletePermission() ? \"Delete Role\" : \"You need 'roles.delete' permission to delete roles\"}\r\n                                  style={{ \r\n                                    padding: '6px 10px', \r\n                                    fontSize: '12px',\r\n                                    cursor: hasRoleManageDeletePermission() ? 'pointer' : 'not-allowed',\r\n                                    opacity: hasRoleManageDeletePermission() ? 1 : 0.6\r\n                                  }}\r\n                                >\r\n                                  <i className={`bi ${hasRoleManageDeletePermission() ? 'bi-trash' : 'bi-lock'}`}></i> \r\n                                  Delete\r\n                                  {!hasRoleManageDeletePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '10px'}}></i>}\r\n                                </button>\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-muted\">\r\n                                <i className=\"bi bi-lock mr-1\"></i>\r\n                                No access\r\n                              </span>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Role Modal */}\r\n      {showAddRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowAddRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-plus-circle\" style={{ color: 'var(--primary)' }}></i>\r\n                Add New Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowAddRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleAddRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Only a name is required. We'll create an internal value automatically.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowAddRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Add Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Role Modal */}\r\n      {showEditRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowEditRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-pencil\" style={{ color: 'var(--primary)' }}></i>\r\n                Edit Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowEditRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleEditRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Update the role name. The internal value will remain the same.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowEditRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Update Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteConfirm && (\r\n          <div className=\"modal-overlay confirm-overlay\" onClick={() => setShowDeleteConfirm(false)}>\r\n          <div className=\"modal-content confirm-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n                <h4 className=\"confirm-title\">Confirm Role Deletion</h4>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>Are you sure you want to delete the role <strong>\"{roleToDelete?.label}\"</strong>?</p>\r\n              <p className=\"text-warning\">\r\n                <i className=\"bi bi-exclamation-triangle\"></i>\r\n                This action cannot be undone. Users with this role may lose access to certain features.\r\n              </p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button \r\n                className=\"btn-professional btn-secondary\" \r\n                onClick={() => setShowDeleteConfirm(false)}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                className=\"btn-professional btn-danger\" \r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  console.log('Delete confirmation clicked, calling handleDeleteRole');\r\n                  handleDeleteRole();\r\n                }}\r\n              >\r\n                Yes, Delete Role\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Modal */}\r\n      {showSuccessModal && (\r\n        <div className=\"modal-overlay\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)', zIndex: 9999 }}>\r\n          <div className=\"modal-content success-modal-content\" onClick={(e) => e.stopPropagation()} style={{ \r\n            maxWidth: '500px', \r\n            textAlign: 'center',\r\n            border: '3px solid #28a745',\r\n            borderRadius: '15px',\r\n            background: 'linear-gradient(135deg, #f8f9fa, #e9ecef)',\r\n            boxShadow: '0 10px 30px rgba(40, 167, 69, 0.3)',\r\n            animation: 'fadeInUp 0.3s ease-out'\r\n          }}>\r\n            <div style={{ padding: '30px' }}>\r\n              <div style={{ \r\n                fontSize: '60px', \r\n                color: '#28a745', \r\n                marginBottom: '20px',\r\n                animation: 'bounce 1s ease-in-out'\r\n              }}>\r\n                <i className=\"bi bi-check-circle-fill\"></i>\r\n              </div>\r\n              <h2 style={{ \r\n                color: '#28a745', \r\n                marginBottom: '15px',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                Success!\r\n              </h2>\r\n              <p style={{ \r\n                fontSize: '16px', \r\n                color: '#495057',\r\n                marginBottom: '25px',\r\n                lineHeight: '1.5'\r\n              }}>\r\n                {successMessage}\r\n              </p>\r\n              <button \r\n                className=\"btn-professional btn-success\"\r\n                onClick={() => setShowSuccessModal(false)}\r\n                style={{ \r\n                  padding: '10px 30px',\r\n                  fontSize: '16px',\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                <i className=\"bi bi-check2\"></i> Awesome!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleManagement;\r\n"],"names":["_ref","title","subtitle","icon","actions","onBack","_jsxs","_Fragment","children","className","onClick","style","marginBottom","background","color","border","width","padding","_jsx","fontWeight","src","logo","alt","user","hasPermission","useContext","AuthContext","roles","setRoles","useState","loading","setLoading","showAddRoleModal","setShowAddRoleModal","showEditRoleModal","setShowEditRoleModal","showDeleteConfirm","setShowDeleteConfirm","showSuccessModal","setShowSuccessModal","newRoleName","setNewRoleName","editingRole","setEditingRole","roleToDelete","setRoleToDelete","message","setMessage","messageType","setMessageType","toastVisible","setToastVisible","successMessage","setSuccessMessage","isSuperAdmin","role","hasRoleManageReadPermission","hasRoleManageCreatePermission","hasRoleManageUpdatePermission","hasRoleManageDeletePermission","showSuccessPopup","setTimeout","useEffect","async","token","localStorage","getItem","response","fetch","headers","ok","data","json","console","log","error","status","fetchRoles","PageHeader","fontSize","cursor","opacity","marginTop","length","colSpan","map","label","value","Date","createdAt","now","toLocaleDateString","display","gap","openEditModal","e","preventDefault","stopPropagation","openDeleteConfirm","_id","maxWidth","borderBottom","paddingBottom","alignItems","onSubmit","roleLabel","trim","roleValue","toLowerCase","replace","res","method","body","JSON","stringify","prev","window","dispatchEvent","CustomEvent","detail","catch","err","type","name","onChange","target","placeholder","required","borderTop","paddingTop","justifyContent","updatedRole","statusText","responseData","filteredRoles","filter","errorText","text","parse","handleDeleteRole","backgroundColor","zIndex","textAlign","borderRadius","boxShadow","animation","lineHeight"],"sourceRoot":""}